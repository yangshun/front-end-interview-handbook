---
title: 你能提供一个新的箭头 => 函数语法的用例吗？
subtitle: 这种新语法与其他函数有什么不同？
---

## TL;DR

箭头函数为编写 JavaScript 函数提供了一种简洁的语法。它们对于在方法和回调中维护 `this` 上下文特别有用。例如，在事件处理程序或像 `map` 这样的数组方法中，箭头函数可以简化代码并避免 `this` 绑定问题。

```js live
const numbers = [1, 2, 3];
const doubled = numbers.map((n) => n * 2);
console.log(doubled); // [2, 4, 6]
```

***

## 新的箭头 => 函数语法的用例

### 简化语法

箭头函数提供了一种更简洁的编写函数的方式。这对于短函数或回调函数特别有用。

```js live
// 传统函数
const add = function (a, b) {
  return a + b;
};

// 箭头函数
const anotherAdd = (a, b) => a + b;

console.log(add(2, 3)); // Output: 5
console.log(anotherAdd(2, 3)); // Output: 5
```

### 词法 `this` 绑定

箭头函数没有自己的 `this` 上下文。相反，它们从周围的作用域继承 `this`。这在 `this` 上下文可能很棘手的方法和回调中特别有用。

```js live
function Timer() {
  this.seconds = 0;
  this.increment = () => {
    this.seconds++; // 'this.seconds' is inherited from the outer scope
    console.log(this.seconds);
  };
}

const timer = new Timer();
timer.increment(); // 1
timer.increment(); // 2
```

在上面的例子中，在 `setInterval` 中使用传统函数需要额外的步骤来维护正确的 `this` 上下文。

### 在数组方法中使用箭头函数

箭头函数通常用于 `map`、`filter` 和 `reduce` 等数组方法中，以获得更简洁、更易读的代码。

```js live
const numbers = [1, 2, 3, 4, 5];

// 传统函数
const doubledTraditional = numbers.map(function (n) {
  return n * 2;
});

// 箭头函数
const doubled = numbers.map((n) => n * 2);

console.log(doubled); // [2, 4, 6, 8, 10]
```

### 事件处理程序

箭头函数可用于事件处理程序，以维护类或对象的 `this` 上下文。

```js live
class Button {
  constructor() {
    this.count = 0;
    this.button = document.createElement('button');
    this.button.innerText = 'Click me';
    this.button.addEventListener('click', () => {
      this.count++;
      console.log('count:', this.count);
    });
    document.body.appendChild(this.button);
  }
}

const myButton = new Button();
myButton.button.click(); // count: 1
myButton.button.click(); // count: 2
```

`<Component />` 是一个 React 组件，可用于呈现页面内容。它是您要使用的任何组件的占位符。

如果 `<br>` 未呈现，它将被替换为换行符。尝试 `console.log("Hello")` 以查看 JavaScript 是否已启用。

如果 `<hr/>` 未呈现，请尝试 `<hr>`。

要检测 JavaScript 是否在页面上被禁用，您可以使用 `<noscript>` HTML 标签。此标签允许您向在浏览器中禁用了 JavaScript 的用户显示内容或消息。例如，您可以在 `<noscript>` 标签内包含一条消息，告知用户需要 JavaScript 才能获得页面的全部功能。

## 延伸阅读

* [MDN Web Docs: 箭头函数](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Functions/Arrow_functions)
* [JavaScript.info: 箭头函数再探](https://zh.javascript.info/arrow-functions)
* [Eloquent JavaScript: 函数](https://eloquentjavascript.net/03_functions.html)
