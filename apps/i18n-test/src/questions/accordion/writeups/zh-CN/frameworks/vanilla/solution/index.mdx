import TestCases from '../../../test-cases.mdx';
import Notes from '../../../notes.mdx';

## 解决方案

### 配置/API 设计

构建组件的复杂性部分在于设计其 API。`accordion` 函数接受一个根元素 `$rootEl`，在该元素中将插入手风琴部分。`accordion` 函数的第二个参数是一个用于存储配置选项的对象。 至少，我们需要以下选项：

* `items`：项目对象列表。 每个项目都是一个具有以下字段的对象：
  * `value`：手风琴项目的唯一标识符。
  * `title`：在手风琴标题中显示的文本标签。
  * `contents`：在展开该部分时显示的内容。

与我们典型的 Vanilla JS 方法不同，这次我们选择不在 JavaScript 中保留任何状态，而是依靠 DOM 来跟踪每个手风琴部分的状态，并根据该手风琴的状态展开/折叠相应的元素。

`accordion` 函数调用 `init` 和 `attachEvents` 函数，通过渲染 DOM 元素并附加必要的事件侦听器来设置手风琴组件。

### `init`

此函数设置在组件的整个生命周期中保留的 DOM 元素，也就是它们永远不会被销毁。 手风琴的各个部分（标题和内容）被渲染。

### `attachEvents`

此组件中只需要一个事件侦听器，即 `click` 事件，将其添加到根元素。 我们使用事件委托，以便只需要添加一个事件侦听器，并且它将适用于其所有子内容。 但是，我们必须小心检查单击了哪个元素，并确保仅在单击标题时才做出响应，而不是内容。

当在手风琴标题上触发单击时，我们需要旋转图标并在手风琴内容上切换 `hidden` 属性。

<TestCases />

<Notes />
