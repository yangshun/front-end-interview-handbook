{
  "description": null,
  "info": {
    "excerpt": null,
    "title": "在 JavaScript 中使用 Promise 而不是回调有什么优缺点？"
  },
  "metadata": {
    "access": "free",
    "author": null,
    "companies": [
      "linkedin",
      "google",
      "amazon",
      "bytedance",
      "atlassian"
    ],
    "created": 1630800000,
    "difficulty": "medium",
    "duration": 5,
    "featured": true,
    "format": "quiz",
    "frameworkDefault": null,
    "frameworks": [],
    "href": "/questions/quiz/what-are-the-pros-and-cons-of-using-promises-instead-of-callbacks",
    "importance": "high",
    "languages": [],
    "nextQuestions": [],
    "published": true,
    "ranking": 260,
    "similarQuestions": [],
    "slug": "what-are-the-pros-and-cons-of-using-promises-instead-of-callbacks",
    "subtitle": null,
    "topics": [
      "async",
      "javascript"
    ],
    "gitHubEditUrl": "https://github.com/yangshun/top-javascript-interview-questions/blob/main/questions/what-are-the-pros-and-cons-of-using-promises-instead-of-callbacks/zh-CN.mdx"
  },
  "solution": "var Component=(()=>{var h=Object.create;var i=Object.defineProperty;var u=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var D=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var p=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),v=(t,e)=>{for(var r in e)i(t,r,{get:e[r],enumerable:!0})},o=(t,e,r,l)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let a of m(e))!g.call(t,a)&&a!==r&&i(t,a,{get:()=>e[a],enumerable:!(l=u(e,a))||l.enumerable});return t};var f=(t,e,r)=>(r=t!=null?h(D(t)):{},o(e||!t||!t.__esModule?i(r,\"default\",{value:t,enumerable:!0}):r,t)),P=t=>o(i({},\"__esModule\",{value:!0}),t);var d=p((x,c)=>{c.exports=_jsx_runtime});var S={};v(S,{default:()=>b,frontmatter:()=>j});var n=f(d()),j={title:\"\\u5728 JavaScript \\u4E2D\\u4F7F\\u7528 Promise \\u800C\\u4E0D\\u662F\\u56DE\\u8C03\\u6709\\u4EC0\\u4E48\\u4F18\\u7F3A\\u70B9\\uFF1F\"};function s(t){let e=Object.assign({h2:\"h2\",p:\"p\",hr:\"hr\",h3:\"h3\",pre:\"pre\",code:\"code\",ul:\"ul\",li:\"li\",a:\"a\"},t.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.h2,{children:\"TL;DR\"}),`\n`,(0,n.jsx)(e.p,{children:\"Promise \\u63D0\\u4F9B\\u4E86\\u4E00\\u79CD\\u6BD4\\u56DE\\u8C03\\u66F4\\u7B80\\u6D01\\u7684\\u66FF\\u4EE3\\u65B9\\u6848\\uFF0C\\u6709\\u52A9\\u4E8E\\u907F\\u514D\\u56DE\\u8C03\\u5730\\u72F1\\uFF0C\\u5E76\\u4F7F\\u5F02\\u6B65\\u4EE3\\u7801\\u66F4\\u5177\\u53EF\\u8BFB\\u6027\\u3002\\u5B83\\u4EEC\\u6709\\u52A9\\u4E8E\\u8F7B\\u677E\\u7F16\\u5199\\u987A\\u5E8F\\u548C\\u5E76\\u884C\\u7684\\u5F02\\u6B65\\u64CD\\u4F5C\\u3002\\u4F46\\u662F\\uFF0C\\u4F7F\\u7528 Promise \\u53EF\\u80FD\\u4F1A\\u5F15\\u5165\\u7A0D\\u5FAE\\u590D\\u6742\\u7684\\u4EE3\\u7801\\u3002\"}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{children:\"\\u4F18\\u70B9\"}),`\n`,(0,n.jsx)(e.h3,{children:\"\\u907F\\u514D\\u96BE\\u4EE5\\u9605\\u8BFB\\u7684\\u56DE\\u8C03\\u5730\\u72F1\\u3002\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\u56DE\\u8C03\\u5730\\u72F1\\uFF0C\\u4E5F\\u79F0\\u4E3A\\u201C\\u5384\\u8FD0\\u91D1\\u5B57\\u5854\\u201D\\uFF0C\\u662F\\u6307\\u5728\\u4EE3\\u7801\\u4E2D\\u5177\\u6709\\u591A\\u4E2A\\u5D4C\\u5957\\u56DE\\u8C03\\u65F6\\u53D1\\u751F\\u7684\\u73B0\\u8C61\\u3002\\u8FD9\\u53EF\\u80FD\\u5BFC\\u81F4\\u4EE3\\u7801\\u96BE\\u4EE5\\u9605\\u8BFB\\u3001\\u7EF4\\u62A4\\u548C\\u8C03\\u8BD5\\u3002\\u4EE5\\u4E0B\\u662F\\u56DE\\u8C03\\u5730\\u72F1\\u7684\\u793A\\u4F8B\\uFF1A\"}),`\n`,(0,n.jsx)(e.pre,{live:!0,children:(0,n.jsx)(e.code,{className:\"language-js\",children:`function getFirstData(callback) {\n  setTimeout(() => {\n    callback({ id: 1, title: 'First Data' });\n  }, 1000);\n}\n\nfunction getSecondData(data, callback) {\n  setTimeout(() => {\n    callback({ id: data.id, title: data.title + ' Second Data' });\n  }, 1000);\n}\n\nfunction getThirdData(data, callback) {\n  setTimeout(() => {\n    callback({ id: data.id, title: data.title + ' Third Data' });\n  }, 1000);\n}\n\n// Callback hell\ngetFirstData((data) => {\n  getSecondData(data, (data) => {\n    getThirdData(data, (result) => {\n      console.log(result); // Output: {id: 1, title: \"First Data Second Data Third Data\"}\n    });\n  });\n});\n`})}),`\n`,(0,n.jsx)(e.p,{children:\"Promise \\u901A\\u8FC7\\u4E3A\\u4EE3\\u7801\\u63D0\\u4F9B\\u66F4\\u7EBF\\u6027\\u548C\\u53EF\\u8BFB\\u7684\\u7ED3\\u6784\\u6765\\u89E3\\u51B3\\u56DE\\u8C03\\u5730\\u72F1\\u7684\\u95EE\\u9898\\u3002\"}),`\n`,(0,n.jsx)(e.pre,{live:!0,children:(0,n.jsx)(e.code,{className:\"language-js\",children:`// Example of sequential asynchronous code using setTimeout and Promises\nfunction getFirstData() {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      resolve({ id: 1, title: 'First Data' });\n    }, 1000);\n  });\n}\n\nfunction getSecondData(data) {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      resolve({ id: data.id, title: data.title + ' Second Data' });\n    }, 1000);\n  });\n}\n\nfunction getThirdData(data) {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      resolve({ id: data.id, title: data.title + ' Third Data' });\n    }, 1000);\n  });\n}\n\ngetFirstData()\n  .then(getSecondData)\n  .then(getThirdData)\n  .then((data) => {\n    console.log(data); // Output: {id: 1, title: \"First Data Second Data Third Data\"}\n  })\n  .catch((error) => console.error('Error:', error));\n`})}),`\n`,(0,n.jsxs)(e.h3,{children:[\"\\u4F7F\\u7528 \",(0,n.jsx)(e.code,{children:\".then()\"}),\" \\u8F7B\\u677E\\u7F16\\u5199\\u53EF\\u8BFB\\u7684\\u987A\\u5E8F\\u5F02\\u6B65\\u4EE3\\u7801\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5728\\u4E0A\\u9762\\u7684\\u4EE3\\u7801\\u793A\\u4F8B\\u4E2D\\uFF0C\\u6211\\u4EEC\\u4F7F\\u7528 \",(0,n.jsx)(e.code,{children:\".then()\"}),\" \\u65B9\\u6CD5\\u5C06\\u8FD9\\u4E9B Promise \\u94FE\\u63A5\\u5728\\u4E00\\u8D77\\uFF0C\\u4ECE\\u800C\\u5141\\u8BB8\\u4EE3\\u7801\\u6309\\u987A\\u5E8F\\u6267\\u884C\\u3002\\u5B83\\u63D0\\u4F9B\\u4E86\\u4E00\\u79CD\\u66F4\\u7B80\\u6D01\\u3001\\u66F4\\u6613\\u4E8E\\u7BA1\\u7406\\u7684\\u65B9\\u5F0F\\u6765\\u5904\\u7406 JavaScript \\u4E2D\\u7684\\u5F02\\u6B65\\u64CD\\u4F5C\\u3002\"]}),`\n`,(0,n.jsxs)(e.h3,{children:[\"\\u4F7F\\u7528 \",(0,n.jsx)(e.code,{children:\"Promise.all()\"}),\" \\u8F7B\\u677E\\u7F16\\u5199\\u5E76\\u884C\\u5F02\\u6B65\\u4EE3\\u7801\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"Promise.all()\"}),\" \\u548C\\u56DE\\u8C03\\u90FD\\u53EF\\u4EE5\\u7528\\u4E8E\\u7F16\\u5199\\u5E76\\u884C\\u5F02\\u6B65\\u4EE3\\u7801\\u3002\\u4F46\\u662F\\uFF0C\",(0,n.jsx)(e.code,{children:\"Promise.all()\"}),\" \\u63D0\\u4F9B\\u4E86\\u4E00\\u79CD\\u66F4\\u7B80\\u6D01\\u3001\\u66F4\\u6613\\u8BFB\\u7684\\u65B9\\u5F0F\\u6765\\u5904\\u7406\\u591A\\u4E2A Promise\\uFF0C\\u5C24\\u5176\\u662F\\u5728\\u5904\\u7406\\u590D\\u6742\\u7684\\u5F02\\u6B65\\u5DE5\\u4F5C\\u6D41\\u7A0B\\u65F6\\u3002\"]}),`\n`,(0,n.jsx)(e.pre,{live:!0,children:(0,n.jsx)(e.code,{className:\"language-js\",children:`function getData1() {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      resolve({ id: 1, title: 'Data 1' });\n    }, 1000);\n  });\n}\n\nfunction getData2() {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      resolve({ id: 2, title: 'Data 2' });\n    }, 1000);\n  });\n}\n\nfunction getData3() {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      resolve({ id: 3, title: 'Data 3' });\n    }, 1000);\n  });\n}\n\nPromise.all([getData1(), getData2(), getData3()])\n  .then((results) => {\n    console.log(results); // Output: [[{ id: 1, title: 'Data 1' }, { id: 2, title: 'Data 2' }, { id: 3, title: 'Data 3' }]\n  })\n  .catch((error) => {\n    console.error('Error:', error);\n  });\n`})}),`\n`,(0,n.jsx)(e.h3,{children:\"\\u4F7F\\u7528 Promise\\uFF0C\\u4EE5\\u4E0B\\u60C5\\u51B5\\u4E0D\\u4F1A\\u53D1\\u751F\\uFF0C\\u8FD9\\u4E9B\\u60C5\\u51B5\\u5B58\\u5728\\u4E8E\\u4EC5\\u4F7F\\u7528\\u56DE\\u8C03\\u7684\\u7F16\\u7801\\u4E2D\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"\\u8FC7\\u65E9\\u8C03\\u7528\\u56DE\\u8C03\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u8FC7\\u665A\\u8C03\\u7528\\u56DE\\u8C03\\uFF08\\u6216\\u4ECE\\u4E0D\\u8C03\\u7528\\uFF09\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u8C03\\u7528\\u56DE\\u8C03\\u7684\\u6B21\\u6570\\u592A\\u5C11\\u6216\\u592A\\u591A\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u672A\\u80FD\\u4F20\\u9012\\u4EFB\\u4F55\\u5FC5\\u8981\\u7684\\u73AF\\u5883/\\u53C2\\u6570\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u541E\\u566C\\u53EF\\u80FD\\u53D1\\u751F\\u7684\\u4EFB\\u4F55\\u9519\\u8BEF/\\u5F02\\u5E38\"}),`\n`]}),`\n`,(0,n.jsx)(e.h2,{children:\"\\u7F3A\\u70B9\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"\\u7A0D\\u5FAE\\u590D\\u6742\\u7684\\u4EE3\\u7801\\uFF08\\u6709\\u4E89\\u8BAE\\uFF09\\u3002\"}),`\n`]}),`\n`,(0,n.jsx)(e.h2,{children:\"\\u5B9E\\u8DF5\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"Try implementing your own \",(0,n.jsxs)(e.a,{href:\"/questions/javascript/promise-resolve\",children:[(0,n.jsx)(e.code,{children:\"Promise.resolve()\"}),\" method\"]}),\", \",(0,n.jsxs)(e.a,{href:\"/questions/javascript/promise-reject\",children:[(0,n.jsx)(e.code,{children:\"Promise.reject()\"}),\" method\"]}),\" and \",(0,n.jsxs)(e.a,{href:\"/questions/javascript/promise-all\",children:[(0,n.jsx)(e.code,{children:\"Promise.all()\"}),\" method\"]}),\" on GreatFrontEnd.\"]}),`\n`]}),`\n`,(0,n.jsx)(e.h2,{children:\"Further reading\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\",children:\"Promise | MDN\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://developer.mozilla.org/en-US/docs/Glossary/Callback_function\",children:\"Callback function | MDN\"})}),`\n`]})]})}function T(t={}){let{wrapper:e}=t.components||{};return e?(0,n.jsx)(e,Object.assign({},t,{children:(0,n.jsx)(s,t)})):s(t)}var b=T;return P(S);})();\n;return Component;"
}