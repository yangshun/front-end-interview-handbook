{
  "description": null,
  "metadata": {
    "access": "free",
    "author": null,
    "companies": [],
    "created": 1630800000,
    "difficulty": "hard",
    "duration": 5,
    "excerpt": null,
    "featured": true,
    "format": "quiz",
    "frameworkDefault": null,
    "frameworks": [],
    "href": "/questions/quiz/what-are-iterators-and-generators-and-what-are-they-used-for",
    "importance": "medium",
    "languages": [],
    "nextQuestions": [],
    "published": true,
    "ranking": 380,
    "similarQuestions": [],
    "slug": "what-are-iterators-and-generators-and-what-are-they-used-for",
    "subtitle": null,
    "title": "What are iterators and generators in JavaScript and what are they used for?",
    "topics": [
      "javascript"
    ],
    "gitHubEditUrl": "https://github.com/yangshun/top-javascript-interview-questions/blob/main/questions/what-are-iterators-and-generators-and-what-are-they-used-for/en-US.mdx"
  },
  "solution": "var Component=(()=>{var u=Object.create;var o=Object.defineProperty;var g=Object.getOwnPropertyDescriptor;var f=Object.getOwnPropertyNames;var m=Object.getPrototypeOf,p=Object.prototype.hasOwnProperty;var v=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),y=(t,e)=>{for(var r in e)o(t,r,{get:e[r],enumerable:!0})},l=(t,e,r,i)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let a of f(e))!p.call(t,a)&&a!==r&&o(t,a,{get:()=>e[a],enumerable:!(i=g(e,a))||i.enumerable});return t};var b=(t,e,r)=>(r=t!=null?u(m(t)):{},l(e||!t||!t.__esModule?o(r,\"default\",{value:t,enumerable:!0}):r,t)),w=t=>l(o({},\"__esModule\",{value:!0}),t);var c=v((S,s)=>{s.exports=_jsx_runtime});var j={};y(j,{default:()=>h,frontmatter:()=>x});var n=b(c()),x={title:\"What are iterators and generators in JavaScript and what are they used for?\"};function d(t){let e={a:\"a\",code:\"code\",h2:\"h2\",h3:\"h3\",h4:\"h4\",hr:\"hr\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",strong:\"strong\",ul:\"ul\",...t.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.h2,{children:\"TL;DR\"}),`\n`,(0,n.jsx)(e.p,{children:\"In JavaScript, iterators and generators are powerful tools for managing sequences of data and controlling the flow of execution in a more flexible way.\"}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Iterators\"}),\" are objects that define a sequence and potentially a return value upon its termination. It adheres to a specific interface:\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"An iterator object must implement a \",(0,n.jsx)(e.code,{children:\"next()\"}),\" method.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"The \",(0,n.jsx)(e.code,{children:\"next()\"}),\" method returns an object with two properties:\",`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"value\"}),\": The next value in the sequence.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"done\"}),\": A boolean that is \",(0,n.jsx)(e.code,{children:\"true\"}),\" if the iterator has finished its sequence, otherwise \",(0,n.jsx)(e.code,{children:\"false\"}),\".\"]}),`\n`]}),`\n`]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"Here's an example of an object implementing the iterator interface.\"}),`\n`,(0,n.jsx)(e.pre,{live:!0,children:(0,n.jsx)(e.code,{className:\"language-js\",children:`const iterator = {\n  current: 0,\n  last: 5,\n  next() {\n    if (this.current <= this.last) {\n      return { value: this.current++, done: false };\n    } else {\n      return { value: undefined, done: true };\n    }\n  },\n};\n\nlet result = iterator.next();\nwhile (!result.done) {\n  console.log(result.value); // Logs 0, 1, 2, 3, 4, 5\n  result = iterator.next();\n}\n`})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Generators\"}),\" are a special functions that \",(0,n.jsx)(e.strong,{children:\"can pause execution and resume at a later point\"}),\". It uses the \",(0,n.jsx)(e.code,{children:\"function*\"}),\" syntax and the \",(0,n.jsx)(e.code,{children:\"yield\"}),\" keyword to control the flow of execution. When you call a generator function, it doesn't execute completely like a regular function. Instead, it returns an iterator object. Calling the \",(0,n.jsx)(e.code,{children:\"next()\"}),\" method on the returned iterator advances the generator to the next \",(0,n.jsx)(e.code,{children:\"yield\"}),\" statement, and the value after \",(0,n.jsx)(e.code,{children:\"yield\"}),\" becomes the return value of \",(0,n.jsx)(e.code,{children:\"next()\"}),\".\"]}),`\n`,(0,n.jsx)(e.pre,{live:!0,children:(0,n.jsx)(e.code,{className:\"language-js\",children:`function* numberGenerator() {\n  let num = 0;\n  while (num <= 5) {\n    yield num++;\n  }\n}\n\nconst gen = numberGenerator();\nconsole.log(gen.next()); // { value: 0, done: false }\nconsole.log(gen.next()); // { value: 1, done: false }\nconsole.log(gen.next()); // { value: 2, done: false }\nconsole.log(gen.next()); // { value: 3, done: false }\nconsole.log(gen.next()); // { value: 4, done: false }\nconsole.log(gen.next()); // { value: 5, done: false }\nconsole.log(gen.next()); // { value: undefined, done: true }\n`})}),`\n`,(0,n.jsx)(e.p,{children:\"Generators are powerful for creating iterators on-demand, especially for infinite sequences or complex iteration logic. They can be used for:\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"Lazy evaluation \\u2013 processing elements only when needed, improving memory efficiency for large datasets.\"}),`\n`,(0,n.jsx)(e.li,{children:\"Implementing iterators for custom data structures.\"}),`\n`,(0,n.jsx)(e.li,{children:\"Creating asynchronous iterators for handling data streams.\"}),`\n`]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{children:\"Iterators\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"Iterators are objects that define a sequence and provide a \",(0,n.jsx)(e.code,{children:\"next()\"}),\" method to access the next value in the sequence. They are used to iterate over data structures like \",(0,n.jsx)(e.code,{children:\"arrays\"}),\", \",(0,n.jsx)(e.code,{children:\"strings\"}),\", and custom \",(0,n.jsx)(e.code,{children:\"objects\"}),\". The key use case of iterators include:\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"Implementing the iterator protocol to make custom objects iterable, allowing them to be used with \",(0,n.jsx)(e.code,{children:\"for...of\"}),\" loops and other language constructs that expect iterables.\"]}),`\n`,(0,n.jsx)(e.li,{children:\"Providing a standard way to iterate over different data structures, making code more reusable and maintainable.\"}),`\n`]}),`\n`,(0,n.jsx)(e.h3,{children:\"Creating a custom iterator for a range of numbers\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"In JavaScript, we can provide a default implementation for iterator by implementing \",(0,n.jsx)(e.code,{children:\"[Symbol.iterator]()\"}),\" in any custom object.\"]}),`\n`,(0,n.jsx)(e.pre,{live:!0,children:(0,n.jsx)(e.code,{className:\"language-js\",children:`// Define a class named Range\nclass Range {\n  // The constructor takes two parameters: start and end\n  constructor(start, end) {\n    // Assign the start and end values to the instance\n    this.start = start;\n    this.end = end;\n  }\n\n  // Define the default iterator for the object\n  [Symbol.iterator]() {\n    // Initialize the current value to the start value\n    let current = this.start;\n    const end = this.end;\n\n    // Return an object with a next method\n    return {\n      // The next method returns the next value in the iteration\n      next() {\n        // If the current value is less than or equal to the end value...\n        if (current <= end) {\n          // ...return an object with the current value and done set to false\n          return { value: current++, done: false };\n        }\n\n        // ...otherwise, return an object with value set to undefined and done set to true\n        return { value: undefined, done: true };\n      },\n    };\n  }\n}\n\n// Create a new Range object with start = 1 and end = 3\nconst range = new Range(1, 3);\n// Iterate over the range object\nfor (const number of range) {\n  // Log each number to the console\n  console.log(number); // 1, 2, 3\n}\n`})}),`\n`,(0,n.jsx)(e.h3,{children:\"Built-in objects using the iterator protocol\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"In JavaScript, several built-in objects implement the iterator protocol, meaning they have a default \",(0,n.jsx)(e.code,{children:\"@@iterator\"}),\" method. This allows them to be used in constructs like \",(0,n.jsx)(e.code,{children:\"for...of\"}),\" loops and with the spread operator. Here are some of the key built-in objects that implement iterators:\"]}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Arrays\"}),\": Arrays have a built-in iterator that allows you to iterate over their elements.\"]}),`\n`,(0,n.jsx)(e.pre,{live:!0,children:(0,n.jsx)(e.code,{className:\"language-js\",children:`const array = [1, 2, 3];\nconst iterator = array[Symbol.iterator]();\n\nconsole.log(iterator.next()); // { value: 1, done: false }\nconsole.log(iterator.next()); // { value: 2, done: false }\nconsole.log(iterator.next()); // { value: 3, done: false }\nconsole.log(iterator.next()); // { value: undefined, done: true }\n\nfor (const value of array) {\n  console.log(value); // Logs 1, 2, 3\n}\n`})}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Strings\"}),\": Strings have a built-in iterator that allows you to iterate over their characters.\"]}),`\n`,(0,n.jsx)(e.pre,{live:!0,children:(0,n.jsx)(e.code,{className:\"language-js\",children:`const string = 'hello';\nconst iterator = string[Symbol.iterator]();\n\nconsole.log(iterator.next()); // { value: \"h\", done: false }\nconsole.log(iterator.next()); // { value: \"e\", done: false }\nconsole.log(iterator.next()); // { value: \"l\", done: false }\nconsole.log(iterator.next()); // { value: \"l\", done: false }\nconsole.log(iterator.next()); // { value: \"o\", done: false }\nconsole.log(iterator.next()); // { value: undefined, done: true }\n\nfor (const char of string) {\n  console.log(char); // Logs h, e, l, l, o\n}\n`})}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"DOM NodeLists\"})}),`\n`,(0,n.jsx)(e.pre,{live:!0,children:(0,n.jsx)(e.code,{className:\"language-js\",children:`// Create a new div and append it to the DOM\nconst newDiv = document.createElement('div');\nnewDiv.id = 'div1';\ndocument.body.appendChild(newDiv);\n\nconst nodeList = document.querySelectorAll('div');\nconst iterator = nodeList[Symbol.iterator]();\n\nconsole.log(iterator.next()); // { value: HTMLDivElement, done: false }\nconsole.log(iterator.next()); // { value: undefined, done: true }\n\nfor (const node of nodeList) {\n  console.log(node); // Logs each <div> element, in this case only div1\n}\n`})}),`\n`]}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"Map\"}),\"s and \",(0,n.jsx)(e.code,{children:\"Set\"}),\"s also have built-in iterators.\"]}),`\n`,(0,n.jsx)(e.h2,{children:\"Generators\"}),`\n`,(0,n.jsx)(e.p,{children:\"Generators are a special kind of function that can pause and resume their execution, allowing them to generate a sequence of values on-the-fly. They are commonly used to create iterators but have other applications as well. The key use cases of generators include:\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"Creating iterators in a more concise and readable way compared to manually implementing the iterator protocol.\"}),`\n`,(0,n.jsx)(e.li,{children:\"Implementing lazy evaluation, where values are generated only when needed, saving memory and computation time.\"}),`\n`,(0,n.jsxs)(e.li,{children:[\"Simplifying asynchronous programming by allowing code to be written in a synchronous-looking style using \",(0,n.jsx)(e.code,{children:\"yield\"}),\" and \",(0,n.jsx)(e.code,{children:\"await\"}),\".\"]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"Generators provide several benefits:\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Lazy evaluation\"}),\": They generate values on the fly and only when required, which is memory efficient.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Pause and resume\"}),\": Generators can pause execution (via \",(0,n.jsx)(e.code,{children:\"yield\"}),\") and can also receive new data upon resuming.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Asynchronous iteration\"}),\": With the advent of \",(0,n.jsx)(e.code,{children:\"async/await\"}),\", generators can be used to manage asynchronous data flows.\"]}),`\n`]}),`\n`,(0,n.jsx)(e.h3,{children:\"Creating an iterator using a generator function\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"We can rewrite our \",(0,n.jsx)(e.code,{children:\"Range\"}),\" example to use a generator function:\"]}),`\n`,(0,n.jsx)(e.pre,{live:!0,children:(0,n.jsx)(e.code,{className:\"language-js\",children:`// Define a class named Range\nclass Range {\n  // The constructor takes two parameters: start and end\n  constructor(start, end) {\n    // Assign the start and end values to the instance\n    this.start = start;\n    this.end = end;\n  }\n\n  // Define the default iterator for the object using a generator\n  *[Symbol.iterator]() {\n    // Initialize the current value to the start value\n    let current = this.start;\n\n    // While the current value is less than or equal to the end value...\n    while (current <= this.end) {\n      // ...yield the current value\n      yield current++;\n    }\n  }\n}\n\n// Create a new Range object with start = 1 and end = 3\nconst range = new Range(1, 3);\n// Iterate over the range object\nfor (const number of range) {\n  // Log each number to the console\n  console.log(number); // 1, 2, 3\n}\n`})}),`\n`,(0,n.jsx)(e.h3,{children:\"Iterating over data streams\"}),`\n`,(0,n.jsx)(e.p,{children:\"Generators are well-suited for iterating over data streams, such as fetching data from an API or reading files. This example demonstrates using a generator to fetch data from an API in batches:\"}),`\n`,(0,n.jsx)(e.pre,{live:!0,children:(0,n.jsx)(e.code,{className:\"language-js\",children:`async function* fetchDataInBatches(url, numBatches = 5, batchSize = 10) {\n  let startIndex = 0;\n  let currBatch = 0;\n\n  while (currBatch < numBatches) {\n    const response = await fetch(\n      \\`\\${url}?_start=\\${startIndex}&_limit=\\${batchSize}\\`,\n    );\n    const data = await response.json();\n    if (data.length === 0) break;\n    yield data;\n    startIndex += batchSize;\n    currBatch += 1;\n  }\n}\n\nasync function fetchAndLogData() {\n  const dataGenerator = fetchDataInBatches(\n    'https://jsonplaceholder.typicode.com/todos',\n  );\n\n  for await (const batch of dataGenerator) {\n    console.log(batch);\n  }\n}\nfetchAndLogData();\n`})}),`\n`,(0,n.jsxs)(e.p,{children:[\"This generator function \",(0,n.jsx)(e.code,{children:\"fetchDataInBatches\"}),\" fetches data from an API in batches of a specified size. It yields each batch of data, allowing you to process it before fetching the next batch. This approach can be more memory-efficient than fetching all data at once.\"]}),`\n`,(0,n.jsx)(e.h4,{children:\"Implementing asynchronous iterators\"}),`\n`,(0,n.jsx)(e.p,{children:\"Generators can be used to implement asynchronous iterators, which are useful for working with asynchronous data sources. This example demonstrates an asynchronous iterator for fetching data from an API:\"}),`\n`,(0,n.jsx)(e.pre,{live:!0,children:(0,n.jsx)(e.code,{className:\"language-js\",children:`async function* fetchDataAsyncIterator(url, pagesToFetch = 3) {\n  let currPage = 1;\n\n  while (currPage <= pagesToFetch) {\n    const response = await fetch(\\`\\${url}?_page=\\${currPage}\\`);\n    const data = await response.json();\n    if (data.length === 0) break;\n    yield data;\n    currPage++;\n  }\n}\n\nasync function fetchAndLogData() {\n  const asyncIterator = fetchDataAsyncIterator(\n    'https://jsonplaceholder.typicode.com/todos',\n  );\n\n  for await (const chunk of asyncIterator) {\n    console.log(chunk);\n  }\n}\nfetchAndLogData();\n`})}),`\n`,(0,n.jsxs)(e.p,{children:[\"The generator function \",(0,n.jsx)(e.code,{children:\"fetchDataAsyncIterator\"}),\" is an asynchronous iterator that fetches data from an API in pages. It yields each page of data, allowing you to process it before fetching the next page. This approach can be useful for handling large datasets or long-running operations.\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Generators are also used extensively in JavaScript libraries and frameworks, such as \",(0,n.jsx)(e.a,{href:\"https://redux-saga.js.org/\",children:\"Redux-Saga\"}),\" and \",(0,n.jsx)(e.a,{href:\"https://rxjs.dev/\",children:\"RxJS\"}),\", for handling asynchronous operations and reactive programming.\"]}),`\n`,(0,n.jsx)(e.h2,{children:\"Summary\"}),`\n`,(0,n.jsx)(e.p,{children:\"Iterators and generators provide a powerful and flexible way to work with collections of data in JavaScript. Iterators define a standardized way to traverse data sequences, while generators offer a more expressive and efficient way to create iterators, handle asynchronous operations, and compose complex data pipelines.\"}),`\n`,(0,n.jsx)(e.h2,{children:\"Further reading\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Iterators_and_Generators\",children:\"Iterators and generators\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://javascript.info/async-iterators-generators\",children:\"Async iteration and generators\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://javascript.info/iterable\",children:\"Iterables\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://blog.bitsrc.io/explore-iterators-and-generators-in-javascript-ea4102015377\",children:\"Explore Iterators and Generators in JavaScript\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://syntactic-sugar.dev/blog/nested-route/iterators-and-generators\",children:\"Iterators and Generators in JavaScript\"})}),`\n`]})]})}function h(t={}){let{wrapper:e}=t.components||{};return e?(0,n.jsx)(e,{...t,children:(0,n.jsx)(d,{...t})}):d(t)}return w(j);})();\n;return Component;"
}