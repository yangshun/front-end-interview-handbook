{
  "description": null,
  "metadata": {
    "access": "free",
    "author": null,
    "companies": [
      "amazon",
      "linkedin",
      "microsoft",
      "salesforce",
      "bytedance"
    ],
    "created": 1630800000,
    "difficulty": "medium",
    "duration": 5,
    "excerpt": null,
    "featured": true,
    "format": "quiz",
    "frameworkDefault": null,
    "frameworks": [],
    "href": "/questions/quiz/what-is-a-closure-and-how-why-would-you-use-one",
    "importance": "high",
    "languages": [],
    "nextQuestions": [],
    "published": true,
    "ranking": 180,
    "similarQuestions": [],
    "slug": "what-is-a-closure-and-how-why-would-you-use-one",
    "subtitle": null,
    "title": "What is a closure in JavaScript, and how/why would you use one?",
    "topics": [
      "closure",
      "javascript"
    ],
    "gitHubEditUrl": "https://github.com/yangshun/top-javascript-interview-questions/blob/main/questions/what-is-a-closure-and-how-why-would-you-use-one/en-US.mdx"
  },
  "solution": "var Component=(()=>{var d=Object.create;var r=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var f=Object.getOwnPropertyNames;var m=Object.getPrototypeOf,v=Object.prototype.hasOwnProperty;var g=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),w=(t,e)=>{for(var i in e)r(t,i,{get:e[i],enumerable:!0})},c=(t,e,i,a)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let o of f(e))!v.call(t,o)&&o!==i&&r(t,o,{get:()=>e[o],enumerable:!(a=p(e,o))||a.enumerable});return t};var b=(t,e,i)=>(i=t!=null?d(m(t)):{},c(e||!t||!t.__esModule?r(i,\"default\",{value:t,enumerable:!0}):i,t)),C=t=>c(r({},\"__esModule\",{value:!0}),t);var l=g((k,s)=>{s.exports=_jsx_runtime});var y={};w(y,{default:()=>h,frontmatter:()=>x});var n=b(l()),x={title:\"What is a closure in JavaScript, and how/why would you use one?\"};function u(t){let e={a:\"a\",blockquote:\"blockquote\",code:\"code\",h2:\"h2\",hr:\"hr\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",strong:\"strong\",ul:\"ul\",...t.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.h2,{children:\"TL;DR\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"In the book \",(0,n.jsx)(e.a,{href:\"https://github.com/getify/You-Dont-Know-JS/tree/2nd-ed/scope-closures\",children:`\"You Don't Know JS\"`}),\" (YDKJS) by Kyle Simpson, a closure is defined as follows:\"]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:\"Closure is when a function is able to remember and access its lexical scope even when that function is executing outside its lexical scope\"}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"In simple terms, functions have access to variables that were in their scope at the time of their creation. This is what we call the function's lexical scope. A closure is a function that retains access to these variables even after the outer function has finished executing. This is like the function has a memory of its original environment.\"}),`\n`,(0,n.jsx)(e.pre,{live:!0,children:(0,n.jsx)(e.code,{className:\"language-js\",children:`function outerFunction() {\n  const outerVar = 'I am outside of innerFunction';\n\n  function innerFunction() {\n    console.log(outerVar); // \\`innerFunction\\` can still access \\`outerVar\\`.\n  }\n\n  return innerFunction;\n}\n\nconst inner = outerFunction(); // \\`inner\\` now holds a reference to \\`innerFunction\\`.\n\ninner(); // \"I am outside of innerFunction\"\n// Even though \\`outerFunction\\` has completed execution, \\`inner\\` still has access to variables defined inside \\`outerFunction\\`.\n`})}),`\n`,(0,n.jsx)(e.p,{children:\"Key points to remember:\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"Closure occurs when an inner function has access to variables in its outer (lexical) scope, even when the outer function has finished executing.\"}),`\n`,(0,n.jsxs)(e.li,{children:[\"Closure allows a function to \",(0,n.jsx)(e.strong,{children:\"remember\"}),\" the environment in which it was created, even if that environment is no longer present.\"]}),`\n`,(0,n.jsx)(e.li,{children:\"Closures are used extensively in JavaScript, such as in callbacks, event handlers, and asynchronous functions.\"}),`\n`]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{children:\"Understanding JavaScript closures\"}),`\n`,(0,n.jsx)(e.p,{children:\"In JavaScript, a closure is a function that captures the lexical scope in which it was declared, allowing it to access and manipulate variables from an outer scope even after that scope has been closed.\"}),`\n`,(0,n.jsx)(e.p,{children:\"Here's how closures work:\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Lexical scoping\"}),\": JavaScript uses lexical scoping, meaning a function's access to variables is determined by its actual location within the source code.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Function creation\"}),\": When a function is created, it keeps a reference to its lexical scope. This scope contains all the local variables that were in-scope at the time the closure was created.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Maintaining state\"}),\": Closures are often used to maintain state in a secure way because the variables captured by the closure are not accessible outside the function.\"]}),`\n`]}),`\n`,(0,n.jsx)(e.h2,{children:\"ES6 syntax and closures\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"With ES6, closures can be created using arrow functions, which provide a more concise syntax and lexically bind the \",(0,n.jsx)(e.code,{children:\"this\"}),\" value. Here's an example:\"]}),`\n`,(0,n.jsx)(e.pre,{live:!0,children:(0,n.jsx)(e.code,{className:\"language-js\",children:`const createCounter = () => {\n  let count = 0;\n  return () => {\n    count += 1;\n    return count;\n  };\n};\n\nconst counter = createCounter();\nconsole.log(counter()); // Outputs: 1\nconsole.log(counter()); // Outputs: 2\n`})}),`\n`,(0,n.jsx)(e.h2,{children:\"Closures in React\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"Closures are everywhere. Below code shows a simple example of increasing a counter on a button click. In this code, \",(0,n.jsx)(e.code,{children:\"handleClick\"}),\" forms a closure. It has access to it's outer scope variable \",(0,n.jsx)(e.code,{children:\"count\"}),\" and \",(0,n.jsx)(e.code,{children:\"setCount\"})]}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-jsx\",children:`import React, { useState } from 'react';\n\nfunction Counter() {\n  // Define a state variable using the useState hook\n  const [count, setCount] = useState(0);\n\n  // This handleClick function is a closure\n  function handleClick() {\n    // It can access the 'count' state variable\n    setCount(count + 1);\n  }\n\n  return (\n    <div>\n      <p>Count: {count}</p>\n      <button onClick={handleClick}>Increment</button>\n    </div>\n  );\n}\n\nfunction App() {\n  return (\n    <div>\n      <h1>Counter App</h1>\n      <Counter />\n    </div>\n  );\n}\n\nexport default App;\n`})}),`\n`,(0,n.jsx)(e.h2,{children:\"Why use closures?\"}),`\n`,(0,n.jsx)(e.p,{children:\"Using closures provide the following benefits:\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Data encapsulation\"}),\": Closures provide a way to create private variables and functions that can't be accessed from outside the closure. This is useful for hiding implementation details and maintaining state in an encapsulated way.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Functional programming\"}),\": Closures are fundamental in functional programming paradigms, where they are used to create functions that can be passed around and invoked later, retaining access to the scope in which they were created, e.g. \",(0,n.jsx)(e.a,{href:\"https://medium.com/javascript-scene/curry-or-partial-application-8150044c78b8#.l4b6l1i3x\",children:\"partial applications or currying\"}),\".\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Event handlers and callbacks\"}),\": In JavaScript, closures are often used in event handlers and callbacks to maintain state or access variables that were in scope when the handler or callback was defined.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Module patterns\"}),\": Closures enable the \",(0,n.jsx)(e.a,{href:\"https://www.patterns.dev/vanilla/module-pattern\",children:\"module pattern\"}),\" in JavaScript, allowing the creation of modules with private and public parts.\"]}),`\n`]}),`\n`,(0,n.jsx)(e.h2,{children:\"Further reading\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Closures\",children:\"Closures - MDN\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://javascript.info/closure\",children:\"Closures - Javascript.info\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://eloquentjavascript.net/03_functions.html\",children:\"Closure - Eloquent Javascript\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://github.com/getify/You-Dont-Know-JS/tree/2nd-ed/scope-closures\",children:\"You Don't Know JS Yet: Scope & Closures\"})}),`\n`]})]})}function h(t={}){let{wrapper:e}=t.components||{};return e?(0,n.jsx)(e,{...t,children:(0,n.jsx)(u,{...t})}):u(t)}return C(y);})();\n;return Component;"
}