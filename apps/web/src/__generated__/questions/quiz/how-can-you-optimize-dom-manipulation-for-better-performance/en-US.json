{
  "description": null,
  "metadata": {
    "access": "free",
    "author": null,
    "companies": [],
    "created": 1630800000,
    "difficulty": "easy",
    "duration": 5,
    "excerpt": null,
    "featured": false,
    "format": "quiz",
    "frameworkDefault": null,
    "frameworks": [],
    "href": "/questions/quiz/how-can-you-optimize-dom-manipulation-for-better-performance",
    "importance": "low",
    "languages": [],
    "nextQuestions": [],
    "published": true,
    "ranking": 999,
    "similarQuestions": [],
    "slug": "how-can-you-optimize-dom-manipulation-for-better-performance",
    "subtitle": null,
    "title": "How can you optimize DOM manipulation for better performance?",
    "topics": [
      "web-api",
      "javascript",
      "performance"
    ],
    "gitHubEditUrl": "https://github.com/yangshun/top-javascript-interview-questions/blob/main/questions/how-can-you-optimize-dom-manipulation-for-better-performance/en-US.mdx"
  },
  "solution": "var Component=(()=>{var h=Object.create;var a=Object.defineProperty;var u=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var g=Object.getPrototypeOf,y=Object.prototype.hasOwnProperty;var f=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),w=(t,e)=>{for(var r in e)a(t,r,{get:e[r],enumerable:!0})},l=(t,e,r,o)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let i of p(e))!y.call(t,i)&&i!==r&&a(t,i,{get:()=>e[i],enumerable:!(o=u(e,i))||o.enumerable});return t};var b=(t,e,r)=>(r=t!=null?h(g(t)):{},l(e||!t||!t.__esModule?a(r,\"default\",{value:t,enumerable:!0}):r,t)),v=t=>l(a({},\"__esModule\",{value:!0}),t);var d=f((O,c)=>{c.exports=_jsx_runtime});var E={};w(E,{default:()=>s,frontmatter:()=>D});var n=b(d()),D={title:\"How can you optimize DOM manipulation for better performance?\"};function m(t){let e={a:\"a\",code:\"code\",h2:\"h2\",h3:\"h3\",hr:\"hr\",li:\"li\",p:\"p\",pre:\"pre\",ul:\"ul\",...t.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.h2,{children:\"TL;DR\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"To optimize DOM manipulation for better performance, minimize direct DOM access and updates. Use techniques like batching DOM changes, using \",(0,n.jsx)(e.code,{children:\"documentFragment\"}),\" for multiple elements, and leveraging virtual DOM libraries like React. Also, consider using \",(0,n.jsx)(e.code,{children:\"requestAnimationFrame\"}),\" for animations and avoid layout thrashing by reading and writing DOM properties separately.\"]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{children:\"How can you optimize DOM manipulation for better performance?\"}),`\n`,(0,n.jsx)(e.h3,{children:\"Minimize direct DOM access\"}),`\n`,(0,n.jsx)(e.p,{children:\"Accessing the DOM is relatively slow, so try to minimize the number of times you read from or write to the DOM. Instead, store references to elements in variables and work with those.\"}),`\n`,(0,n.jsx)(e.pre,{live:!0,children:(0,n.jsx)(e.code,{className:\"language-js\",children:`// Creating an element for the example below\nconst newElement = document.createElement('div');\nnewElement.id = 'myElement';\ndocument.body.appendChild(newElement);\n\nconst element = document.getElementById('myElement'); // Access once\n// Then use the reference to edit style\nelement.style.color = 'red';\nelement.style.backgroundColor = 'blue';\n\nconsole.log(document.body); // Notice the edits\n`})}),`\n`,(0,n.jsx)(e.h3,{children:\"Batch DOM changes\"}),`\n`,(0,n.jsx)(e.p,{children:\"Instead of making multiple changes to the DOM one at a time, batch them together. This reduces the number of reflows and repaints.\"}),`\n`,(0,n.jsx)(e.pre,{live:!0,children:(0,n.jsx)(e.code,{className:\"language-js\",children:`// Creating an element for the example below\nconst newElement = document.createElement('div');\nnewElement.id = 'myElement';\ndocument.body.appendChild(newElement);\n\nconst element = document.getElementById('myElement');\nelement.style.cssText = 'color: red; background-color: blue;';\n\nconsole.log(document.body); // Notice the edits\n`})}),`\n`,(0,n.jsxs)(e.h3,{children:[\"Use \",(0,n.jsx)(e.code,{children:\"documentFragment\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"When adding multiple elements to the DOM, use a \",(0,n.jsx)(e.code,{children:\"documentFragment\"}),\" to minimize reflows and repaints.\"]}),`\n`,(0,n.jsx)(e.pre,{live:!0,children:(0,n.jsx)(e.code,{className:\"language-js\",children:`const fragment = document.createDocumentFragment();\nfor (let i = 0; i < 100; i++) {\n  const newElement = document.createElement('div');\n  newElement.textContent = \\`Item \\${i}\\`;\n  fragment.appendChild(newElement);\n}\ndocument.body.appendChild(fragment);\n\nconsole.log(document.body); // Notice that the divs have been added\n`})}),`\n`,(0,n.jsx)(e.h3,{children:\"Leverage virtual DOM libraries\"}),`\n`,(0,n.jsx)(e.p,{children:\"Libraries like React use a virtual DOM to batch updates and minimize direct DOM manipulation, which can significantly improve performance.\"}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-js\",children:`import React from 'react';\nimport ReactDOM from 'react-dom';\n\nconst App = () => (\n  <div>\n    <h1>Hello, world!</h1>\n  </div>\n);\n\nReactDOM.render(<App />, document.getElementById('root'));\n`})}),`\n`,(0,n.jsxs)(e.h3,{children:[\"Use \",(0,n.jsx)(e.code,{children:\"requestAnimationFrame\"}),\" for animations\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"For smoother animations, use \",(0,n.jsx)(e.code,{children:\"requestAnimationFrame\"}),\" to ensure updates are synchronized with the browser's repaint cycle.\"]}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-js\",children:`function animate() {\n  // Update animation state\n  requestAnimationFrame(animate);\n}\nrequestAnimationFrame(animate);\n`})}),`\n`,(0,n.jsx)(e.h3,{children:\"Avoid layout thrashing\"}),`\n`,(0,n.jsx)(e.p,{children:\"Layout thrashing occurs when you read and write to the DOM repeatedly in a way that forces the browser to recalculate styles and layout multiple times. To avoid this, separate read and write operations.\"}),`\n`,(0,n.jsx)(e.pre,{live:!0,children:(0,n.jsx)(e.code,{className:\"language-js\",children:`// Creating an element for the example below\nconst newElement = document.createElement('div');\nnewElement.id = 'myElement';\ndocument.body.appendChild(newElement);\n\nconst element = document.getElementById('myElement');\nconst height = element.clientHeight; // Read\nelement.style.height = \\`\\${height + 10}px\\`; // Write\n`})}),`\n`,(0,n.jsx)(e.h2,{children:\"Further reading\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://www.freecodecamp.org/news/dom-manipulation-in-javascript/\",children:\"FreeCodeCamp: DOM Manipulation in JavaScript\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://developers.google.com/web/fundamentals/performance/rendering/avoid-large-complex-layouts-and-layout-thrashing\",children:\"Google Developers: Avoid large, complex layouts and layout thrashing\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://react.dev/learn\",children:\"React documentation\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame\",children:\"MDN Web Docs: Using requestAnimationFrame\"})}),`\n`]})]})}function s(t={}){let{wrapper:e}=t.components||{};return e?(0,n.jsx)(e,{...t,children:(0,n.jsx)(m,{...t})}):m(t)}return v(E);})();\n;return Component;"
}