{
  "description": null,
  "metadata": {
    "access": "free",
    "author": null,
    "companies": [],
    "created": 1630800000,
    "difficulty": "easy",
    "duration": 5,
    "excerpt": null,
    "featured": false,
    "format": "quiz",
    "frameworkDefault": null,
    "frameworks": [],
    "href": "/questions/quiz/explain-the-concept-of-cross-site-request-forgery-csrf-and-its-mitigation-techniques",
    "importance": "low",
    "languages": [],
    "nextQuestions": [],
    "published": true,
    "ranking": 999,
    "similarQuestions": [],
    "slug": "explain-the-concept-of-cross-site-request-forgery-csrf-and-its-mitigation-techniques",
    "subtitle": null,
    "title": "解释跨站点请求伪造 (CSRF) 的概念及其缓解技术",
    "topics": [
      "javascript",
      "networking",
      "security"
    ],
    "gitHubEditUrl": "https://github.com/yangshun/top-javascript-interview-questions/blob/main/questions/explain-the-concept-of-cross-site-request-forgery-csrf-and-its-mitigation-techniques/zh-CN.mdx"
  },
  "solution": "var Component=(()=>{var S=Object.create;var o=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var C=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var R=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports),g=(i,e)=>{for(var r in e)o(i,r,{get:e[r],enumerable:!0})},t=(i,e,r,l)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let c of m(e))!u.call(i,c)&&c!==r&&o(i,c,{get:()=>e[c],enumerable:!(l=p(e,c))||l.enumerable});return i};var F=(i,e,r)=>(r=i!=null?S(C(i)):{},t(e||!i||!i.__esModule?o(r,\"default\",{value:i,enumerable:!0}):r,i)),f=i=>t(o({},\"__esModule\",{value:!0}),i);var d=R((b,h)=>{h.exports=_jsx_runtime});var k={};g(k,{default:()=>a,frontmatter:()=>_});var n=F(d()),_={title:\"\\u89E3\\u91CA\\u8DE8\\u7AD9\\u70B9\\u8BF7\\u6C42\\u4F2A\\u9020 (CSRF) \\u7684\\u6982\\u5FF5\\u53CA\\u5176\\u7F13\\u89E3\\u6280\\u672F\"};function s(i){let e={a:\"a\",code:\"code\",h2:\"h2\",h3:\"h3\",h4:\"h4\",hr:\"hr\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",strong:\"strong\",ul:\"ul\",...i.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.h2,{children:\"TL;DR\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\u8DE8\\u7AD9\\u70B9\\u8BF7\\u6C42\\u4F2A\\u9020 (CSRF) \\u662F\\u4E00\\u79CD\\u653B\\u51FB\\uFF0C\\u6076\\u610F\\u7F51\\u7AD9\\u4F1A\\u8BF1\\u9A97\\u7528\\u6237\\u7684\\u6D4F\\u89C8\\u5668\\u5411\\u7528\\u6237\\u5DF2\\u901A\\u8FC7\\u8EAB\\u4EFD\\u9A8C\\u8BC1\\u7684\\u53E6\\u4E00\\u4E2A\\u7AD9\\u70B9\\u53D1\\u51FA\\u4E0D\\u9700\\u8981\\u7684\\u8BF7\\u6C42\\u3002\\u8FD9\\u53EF\\u80FD\\u5BFC\\u81F4\\u4EE3\\u8868\\u7528\\u6237\\u6267\\u884C\\u672A\\u7ECF\\u6388\\u6743\\u7684\\u64CD\\u4F5C\\u3002\\u7F13\\u89E3\\u6280\\u672F\\u5305\\u62EC\\u4F7F\\u7528\\u53CD CSRF \\u4EE4\\u724C\\u3001SameSite cookie \\u548C\\u786E\\u4FDD\\u9002\\u5F53\\u7684 CORS \\u914D\\u7F6E\\u3002\"}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{children:\"\\u8DE8\\u7AD9\\u70B9\\u8BF7\\u6C42\\u4F2A\\u9020 (CSRF) \\u53CA\\u5176\\u7F13\\u89E3\\u6280\\u672F\"}),`\n`,(0,n.jsx)(e.h3,{children:\"\\u4EC0\\u4E48\\u662F CSRF\\uFF1F\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\u8DE8\\u7AD9\\u70B9\\u8BF7\\u6C42\\u4F2A\\u9020 (CSRF) \\u662F\\u4E00\\u79CD\\u653B\\u51FB\\u7C7B\\u578B\\uFF0C\\u5F53\\u6076\\u610F\\u7F51\\u7AD9\\u5BFC\\u81F4\\u7528\\u6237\\u7684\\u6D4F\\u89C8\\u5668\\u5728\\u7528\\u6237\\u5DF2\\u901A\\u8FC7\\u8EAB\\u4EFD\\u9A8C\\u8BC1\\u7684\\u4E0D\\u540C\\u7AD9\\u70B9\\u4E0A\\u6267\\u884C\\u4E0D\\u9700\\u8981\\u7684\\u64CD\\u4F5C\\u65F6\\uFF0C\\u5C31\\u4F1A\\u53D1\\u751F\\u8FD9\\u79CD\\u653B\\u51FB\\u3002\\u8FD9\\u53EF\\u80FD\\u5BFC\\u81F4\\u672A\\u7ECF\\u6388\\u6743\\u7684\\u64CD\\u4F5C\\uFF0C\\u4F8B\\u5982\\u66F4\\u6539\\u5E10\\u6237\\u8BE6\\u7EC6\\u4FE1\\u606F\\u3001\\u8FDB\\u884C\\u8D2D\\u4E70\\u6216\\u5176\\u4ED6\\u7528\\u6237\\u65E0\\u610F\\u6267\\u884C\\u7684\\u64CD\\u4F5C\\u3002\"}),`\n`,(0,n.jsx)(e.h3,{children:\"CSRF \\u5982\\u4F55\\u5DE5\\u4F5C\\uFF1F\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u7528\\u6237\\u8EAB\\u4EFD\\u9A8C\\u8BC1\"}),\"\\uFF1A\\u7528\\u6237\\u767B\\u5F55\\u5230\\u53D7\\u4FE1\\u4EFB\\u7684\\u7F51\\u7AD9\\uFF08\\u4F8B\\u5982\\uFF0C\\u94F6\\u884C\\u7F51\\u7AD9\\uFF09\\u5E76\\u6536\\u5230\\u8EAB\\u4EFD\\u9A8C\\u8BC1 cookie\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u6076\\u610F\\u7F51\\u7AD9\"}),\"\\uFF1A\\u7528\\u6237\\u5728\\u4ECD\\u767B\\u5F55\\u5230\\u53D7\\u4FE1\\u4EFB\\u7F51\\u7AD9\\u7684\\u60C5\\u51B5\\u4E0B\\u8BBF\\u95EE\\u6076\\u610F\\u7F51\\u7AD9\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u4E0D\\u9700\\u8981\\u7684\\u8BF7\\u6C42\"}),\"\\uFF1A\\u6076\\u610F\\u7F51\\u7AD9\\u5305\\u542B\\u5411\\u53D7\\u4FE1\\u4EFB\\u7F51\\u7AD9\\u53D1\\u51FA\\u8BF7\\u6C42\\u7684\\u4EE3\\u7801\\uFF0C\\u4F7F\\u7528\\u7528\\u6237\\u7684\\u8EAB\\u4EFD\\u9A8C\\u8BC1 cookie \\u4EE3\\u8868\\u7528\\u6237\\u6267\\u884C\\u64CD\\u4F5C\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.h3,{children:\"\\u7F13\\u89E3\\u6280\\u672F\"}),`\n`,(0,n.jsx)(e.h4,{children:\"\\u53CD CSRF \\u4EE4\\u724C\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\u9632\\u6B62 CSRF \\u653B\\u51FB\\u7684\\u6700\\u6709\\u6548\\u65B9\\u6CD5\\u4E4B\\u4E00\\u662F\\u4F7F\\u7528\\u53CD CSRF \\u4EE4\\u724C\\u3002\\u8FD9\\u4E9B\\u4EE4\\u724C\\u662F\\u670D\\u52A1\\u5668\\u751F\\u6210\\u7684\\u3001\\u5305\\u542B\\u5728\\u8868\\u5355\\u6216\\u8BF7\\u6C42\\u4E2D\\u7684\\u552F\\u4E00\\u4E14\\u4E0D\\u53EF\\u9884\\u6D4B\\u7684\\u503C\\u3002\\u7136\\u540E\\uFF0C\\u670D\\u52A1\\u5668\\u9A8C\\u8BC1\\u8BE5\\u4EE4\\u724C\\u4EE5\\u786E\\u4FDD\\u8BF7\\u6C42\\u662F\\u5408\\u6CD5\\u7684\\u3002\"}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-html\",children:`<form method=\"POST\" action=\"/update-profile\">\n  <input type=\"hidden\" name=\"csrf_token\" value=\"unique_token_value\" />\n  <!-- other form fields -->\n  <button type=\"submit\">Update Profile</button>\n</form>\n`})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5728\\u670D\\u52A1\\u5668\\u7AEF\\uFF0C\\u9A8C\\u8BC1\\u4EE4\\u724C\\u4EE5\\u786E\\u4FDD\\u5B83\\u4E0E\\u9884\\u671F\\u503C\\u5339\\u914D\\u3002\"}),`\n`,(0,n.jsx)(e.h4,{children:\"SameSite cookie\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"cookie \\u4E0A\\u7684 \",(0,n.jsx)(e.code,{children:\"SameSite\"}),\" \\u5C5E\\u6027\\u53EF\\u4EE5\\u901A\\u8FC7\\u9650\\u5236 cookie \\u5982\\u4F55\\u4E0E\\u8DE8\\u7AD9\\u70B9\\u8BF7\\u6C42\\u4E00\\u8D77\\u53D1\\u9001\\u6765\\u5E2E\\u52A9\\u7F13\\u89E3 CSRF \\u653B\\u51FB\\u3002\",(0,n.jsx)(e.code,{children:\"SameSite\"}),\" \\u5C5E\\u6027\\u53EF\\u4EE5\\u8BBE\\u7F6E\\u4E3A \",(0,n.jsx)(e.code,{children:\"Strict\"}),\"\\u3001\",(0,n.jsx)(e.code,{children:\"Lax\"}),\" \\u6216 \",(0,n.jsx)(e.code,{children:\"None\"}),\"\\u3002\"]}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-http\",children:`Set-Cookie: sessionId=abc123; SameSite=Strict\n`})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"Strict\"}),\"\\uFF1ACookie \\u4EC5\\u5728\\u7B2C\\u4E00\\u65B9\\u4E0A\\u4E0B\\u6587\\u4E2D\\u53D1\\u9001\\uFF0C\\u800C\\u4E0D\\u662F\\u4E0E\\u7B2C\\u4E09\\u65B9\\u7F51\\u7AD9\\u53D1\\u8D77\\u7684\\u8BF7\\u6C42\\u4E00\\u8D77\\u53D1\\u9001\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"Lax\"}),\"\\uFF1ACookie \\u4E0D\\u4F1A\\u901A\\u8FC7\\u6B63\\u5E38\\u7684\\u8DE8\\u7AD9\\u70B9\\u5B50\\u8BF7\\u6C42\\uFF08\\u4F8B\\u5982\\uFF0C\\u52A0\\u8F7D\\u56FE\\u50CF\\uFF09\\u53D1\\u9001\\uFF0C\\u4F46\\u4F1A\\u5728\\u7528\\u6237\\u4ECE\\u5916\\u90E8\\u7AD9\\u70B9\\u5BFC\\u822A\\u5230 URL \\u65F6\\u53D1\\u9001\\uFF08\\u4F8B\\u5982\\uFF0C\\u70B9\\u51FB\\u94FE\\u63A5\\uFF09\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"None\"}),\"\\uFF1ACookie \\u5728\\u6240\\u6709\\u4E0A\\u4E0B\\u6587\\u4E2D\\u53D1\\u9001\\uFF0C\\u5305\\u62EC\\u8DE8\\u6E90\\u8BF7\\u6C42\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.h4,{children:\"CORS\\uFF08\\u8DE8\\u6E90\\u8D44\\u6E90\\u5171\\u4EAB\\uFF09\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\u6B63\\u786E\\u914D\\u7F6E CORS \\u53EF\\u4EE5\\u901A\\u8FC7\\u786E\\u4FDD\\u53EA\\u6709\\u53D7\\u4FE1\\u4EFB\\u7684\\u6765\\u6E90\\u624D\\u80FD\\u5411\\u60A8\\u7684\\u670D\\u52A1\\u5668\\u53D1\\u51FA\\u8BF7\\u6C42\\u6765\\u5E2E\\u52A9\\u9632\\u6B62 CSRF \\u653B\\u51FB\\u3002\\u8FD9\\u6D89\\u53CA\\u5728\\u670D\\u52A1\\u5668\\u4E0A\\u8BBE\\u7F6E\\u9002\\u5F53\\u7684\\u6807\\u5934\\u4EE5\\u6307\\u5B9A\\u5141\\u8BB8\\u8BBF\\u95EE\\u8D44\\u6E90\\u7684\\u6765\\u6E90\\u3002\"}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-http\",children:`Access-Control-Allow-Origin: https://trustedwebsite.com\n`})}),`\n`,(0,n.jsx)(e.h3,{children:\"\\u5EF6\\u4F38\\u9605\\u8BFB\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://cheatsheetseries.owasp.org/cheatsheets/Cross-Site_Request_Forgery_Prevention_Cheat_Sheet.html\",children:\"OWASP CSRF \\u9884\\u9632\\u5907\\u5FD8\\u5355\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Set-Cookie/SameSite\",children:\"MDN Web \\u6587\\u6863\\uFF1ASameSite cookies\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://developer.mozilla.org/zh-CN/docs/Web/HTTP/CORS\",children:\"MDN Web \\u6587\\u6863\\uFF1A\\u8DE8\\u57DF\\u8D44\\u6E90\\u5171\\u4EAB (CORS)\"})}),`\n`]})]})}function a(i={}){let{wrapper:e}=i.components||{};return e?(0,n.jsx)(e,{...i,children:(0,n.jsx)(s,{...i})}):s(i)}return f(k);})();\n;return Component;"
}