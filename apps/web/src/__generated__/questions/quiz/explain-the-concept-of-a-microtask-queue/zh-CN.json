{
  "description": null,
  "metadata": {
    "access": "free",
    "author": null,
    "companies": [],
    "created": 1630800000,
    "difficulty": "easy",
    "duration": 5,
    "excerpt": null,
    "featured": false,
    "format": "quiz",
    "frameworkDefault": null,
    "frameworks": [],
    "href": "/questions/quiz/explain-the-concept-of-a-microtask-queue",
    "importance": "low",
    "languages": [],
    "nextQuestions": [],
    "published": true,
    "ranking": 999,
    "similarQuestions": [],
    "slug": "explain-the-concept-of-a-microtask-queue",
    "subtitle": null,
    "title": "解释微任务队列的概念",
    "topics": [
      "async",
      "javascript"
    ],
    "gitHubEditUrl": "https://github.com/yangshun/top-javascript-interview-questions/blob/main/questions/explain-the-concept-of-a-microtask-queue/zh-CN.mdx"
  },
  "solution": "var Component=(()=>{var p=Object.create;var o=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var g=Object.getPrototypeOf,v=Object.prototype.hasOwnProperty;var S=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),M=(r,e)=>{for(var i in e)o(r,i,{get:e[i],enumerable:!0})},t=(r,e,i,c)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let l of u(e))!v.call(r,l)&&l!==i&&o(r,l,{get:()=>e[l],enumerable:!(c=m(e,l))||c.enumerable});return r};var P=(r,e,i)=>(i=r!=null?p(g(r)):{},t(e||!r||!r.__esModule?o(i,\"default\",{value:r,enumerable:!0}):i,r)),_=r=>t(o({},\"__esModule\",{value:!0}),r);var h=S((b,d)=>{d.exports=_jsx_runtime});var x={};M(x,{default:()=>a,frontmatter:()=>f});var n=P(h()),f={title:\"\\u89E3\\u91CA\\u5FAE\\u4EFB\\u52A1\\u961F\\u5217\\u7684\\u6982\\u5FF5\"};function s(r){let e={a:\"a\",code:\"code\",h2:\"h2\",h3:\"h3\",hr:\"hr\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",strong:\"strong\",ul:\"ul\",...r.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.h2,{children:\"TL;DR\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5FAE\\u4EFB\\u52A1\\u961F\\u5217\\u662F\\u4E00\\u4E2A\\u4EFB\\u52A1\\u961F\\u5217\\uFF0C\\u9700\\u8981\\u5728\\u5F53\\u524D\\u6267\\u884C\\u7684\\u811A\\u672C\\u4E4B\\u540E\\u548C\\u4EFB\\u4F55\\u5176\\u4ED6\\u4EFB\\u52A1\\u4E4B\\u524D\\u6267\\u884C\\u3002\\u5FAE\\u4EFB\\u52A1\\u901A\\u5E38\\u7528\\u4E8E\\u9700\\u8981\\u7D27\\u63A5\\u5728\\u5F53\\u524D\\u64CD\\u4F5C\\u4E4B\\u540E\\u6267\\u884C\\u7684\\u4EFB\\u52A1\\uFF0C\\u4F8B\\u5982 promise \\u56DE\\u8C03\\u3002\\u5FAE\\u4EFB\\u52A1\\u961F\\u5217\\u5728\\u5B8F\\u4EFB\\u52A1\\u961F\\u5217\\u4E4B\\u524D\\u5904\\u7406\\uFF0C\\u786E\\u4FDD\\u5FAE\\u4EFB\\u52A1\\u5C3D\\u5FEB\\u6267\\u884C\\u3002\"}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{children:\"\\u5FAE\\u4EFB\\u52A1\\u961F\\u5217\\u7684\\u6982\\u5FF5\"}),`\n`,(0,n.jsx)(e.h3,{children:\"\\u4EC0\\u4E48\\u662F\\u5FAE\\u4EFB\\u52A1\\u961F\\u5217\\uFF1F\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5FAE\\u4EFB\\u52A1\\u961F\\u5217\\u662F JavaScript \\u4E8B\\u4EF6\\u5FAA\\u73AF\\u673A\\u5236\\u7684\\u4E00\\u90E8\\u5206\\u3002\\u5B83\\u662F\\u4E00\\u4E2A\\u961F\\u5217\\uFF0C\\u7528\\u4E8E\\u4FDD\\u5B58\\u9700\\u8981\\u5728\\u5F53\\u524D\\u6267\\u884C\\u7684\\u811A\\u672C\\u4E4B\\u540E\\u548C\\u5B8F\\u4EFB\\u52A1\\u961F\\u5217\\u4E2D\\u7684\\u4EFB\\u4F55\\u5176\\u4ED6\\u4EFB\\u52A1\\u4E4B\\u524D\\u6267\\u884C\\u7684\\u4EFB\\u52A1\\u3002\\u5FAE\\u4EFB\\u52A1\\u901A\\u5E38\\u7528\\u4E8E\\u9700\\u8981\\u5C3D\\u5FEB\\u6267\\u884C\\u7684\\u64CD\\u4F5C\\uFF0C\\u4F8B\\u5982 promise \\u56DE\\u8C03\\u548C \",(0,n.jsx)(e.code,{children:\"MutationObserver\"}),\" \\u56DE\\u8C03\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{children:\"\\u5FAE\\u4EFB\\u52A1\\u961F\\u5217\\u5982\\u4F55\\u5DE5\\u4F5C\\uFF1F\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u6267\\u884C\\u987A\\u5E8F\"}),\"\\uFF1A\\u5FAE\\u4EFB\\u52A1\\u961F\\u5217\\u5728\\u5F53\\u524D\\u6267\\u884C\\u7684\\u811A\\u672C\\u4E4B\\u540E\\u548C\\u5B8F\\u4EFB\\u52A1\\u961F\\u5217\\u4E4B\\u524D\\u5904\\u7406\\u3002\\u8FD9\\u610F\\u5473\\u7740\\u5FAE\\u4EFB\\u52A1\\u7684\\u4F18\\u5148\\u7EA7\\u9AD8\\u4E8E\\u5B8F\\u4EFB\\u52A1\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u4E8B\\u4EF6\\u5FAA\\u73AF\"}),\"\\uFF1A\\u5728\\u4E8B\\u4EF6\\u5FAA\\u73AF\\u7684\\u6BCF\\u6B21\\u8FED\\u4EE3\\u671F\\u95F4\\uFF0CJavaScript \\u5F15\\u64CE\\u9996\\u5148\\u5904\\u7406\\u5FAE\\u4EFB\\u52A1\\u961F\\u5217\\u4E2D\\u7684\\u6240\\u6709\\u5FAE\\u4EFB\\u52A1\\uFF0C\\u7136\\u540E\\u518D\\u8F6C\\u5230\\u5B8F\\u4EFB\\u52A1\\u961F\\u5217\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u6DFB\\u52A0\\u5FAE\\u4EFB\\u52A1\"}),\"\\uFF1A\\u53EF\\u4EE5\\u4F7F\\u7528 \",(0,n.jsx)(e.code,{children:\"Promise.resolve().then()\"}),\" \\u548C \",(0,n.jsx)(e.code,{children:\"queueMicrotask()\"}),\" \\u7B49\\u65B9\\u6CD5\\u5C06\\u5FAE\\u4EFB\\u52A1\\u6DFB\\u52A0\\u5230\\u5FAE\\u4EFB\\u52A1\\u961F\\u5217\\u4E2D\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.h3,{children:\"\\u4F8B\\u5B50\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\u8FD9\\u91CC\\u6709\\u4E00\\u4E2A\\u4F8B\\u5B50\\u6765\\u8BF4\\u660E\\u5FAE\\u4EFB\\u52A1\\u961F\\u5217\\u7684\\u5DE5\\u4F5C\\u539F\\u7406\\uFF1A\"}),`\n`,(0,n.jsx)(e.pre,{live:!0,children:(0,n.jsx)(e.code,{className:\"language-js\",children:`console.log('Script start');\n\nsetTimeout(() => {\n  console.log('setTimeout');\n}, 0);\n\nPromise.resolve()\n  .then(() => {\n    console.log('Promise 1');\n  })\n  .then(() => {\n    console.log('Promise 2');\n  });\n\nconsole.log('Script end');\n`})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u8F93\\u51FA\\uFF1A\"}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{children:`Script start\nScript end\nPromise 1\nPromise 2\nsetTimeout\n`})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5728\\u8FD9\\u4E2A\\u4F8B\\u5B50\\u4E2D\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"\\u540C\\u6B65\\u4EE3\\u7801\\uFF08\",(0,n.jsx)(e.code,{children:\"console.log('Script start')\"}),\" \\u548C \",(0,n.jsx)(e.code,{children:\"console.log('Script end')\"}),\"\\uFF09\\u9996\\u5148\\u6267\\u884C\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"promise \\u56DE\\u8C03\\uFF08\",(0,n.jsx)(e.code,{children:\"Promise 1\"}),\" \\u548C \",(0,n.jsx)(e.code,{children:\"Promise 2\"}),\"\\uFF09\\u88AB\\u6DFB\\u52A0\\u5230\\u5FAE\\u4EFB\\u52A1\\u961F\\u5217\\u4E2D\\uFF0C\\u7136\\u540E\\u6267\\u884C\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"setTimeout\"}),\" \\u56DE\\u8C03\\u88AB\\u6DFB\\u52A0\\u5230\\u5B8F\\u4EFB\\u52A1\\u961F\\u5217\\u4E2D\\uFF0C\\u6700\\u540E\\u6267\\u884C\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.h3,{children:\"\\u7528\\u4F8B\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Promise \\u56DE\\u8C03\"}),\"\\uFF1A\\u5FAE\\u4EFB\\u52A1\\u901A\\u5E38\\u7528\\u4E8E promise \\u56DE\\u8C03\\uFF0C\\u4EE5\\u786E\\u4FDD\\u5B83\\u4EEC\\u5728\\u5F53\\u524D\\u64CD\\u4F5C\\u4E4B\\u540E\\u5C3D\\u5FEB\\u6267\\u884C\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"MutationObserver\"}),\"\\uFF1A\",(0,n.jsx)(e.code,{children:\"MutationObserver\"}),\" API \\u4F7F\\u7528\\u5FAE\\u4EFB\\u52A1\\u6765\\u901A\\u77E5 DOM \\u4E2D\\u7684\\u66F4\\u6539\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.h2,{children:\"\\u5EF6\\u4F38\\u9605\\u8BFB\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://developer.mozilla.org/en-US/docs/Web/API/HTML_DOM_API/Microtask_guide\",children:\"MDN Web \\u6587\\u6863\\uFF1A\\u5FAE\\u4EFB\\u52A1\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/EventLoop\",children:\"JavaScript \\u4E8B\\u4EF6\\u5FAA\\u73AF\\u89E3\\u91CA\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://javascript.info/microtask-queue\",children:\"\\u7406\\u89E3 JavaScript \\u5FAE\\u4EFB\\u52A1\\u961F\\u5217\"})}),`\n`]})]})}function a(r={}){let{wrapper:e}=r.components||{};return e?(0,n.jsx)(e,{...r,children:(0,n.jsx)(s,{...r})}):s(r)}return _(x);})();\n;return Component;"
}