{
  "description": null,
  "info": {
    "excerpt": null,
    "title": "Describe event capturing in JavaScript and browsers"
  },
  "metadata": {
    "access": "free",
    "author": null,
    "companies": [],
    "created": 1630800000,
    "difficulty": "medium",
    "duration": 5,
    "featured": true,
    "format": "quiz",
    "frameworkDefault": null,
    "frameworks": [],
    "href": "/questions/quiz/describe-event-capturing",
    "importance": "high",
    "languages": [],
    "nextQuestions": [],
    "published": true,
    "ranking": 220,
    "similarQuestions": [],
    "slug": "describe-event-capturing",
    "subtitle": null,
    "topics": [
      "web-api",
      "javascript"
    ],
    "gitHubEditUrl": "https://github.com/yangshun/top-javascript-interview-questions/blob/main/questions/describe-event-capturing/en-US.mdx"
  },
  "solution": "var Component=(()=>{var s=Object.create;var a=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var g=Object.getPrototypeOf,b=Object.prototype.hasOwnProperty;var v=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),m=(t,e)=>{for(var i in e)a(t,i,{get:e[i],enumerable:!0})},l=(t,e,i,o)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let r of u(e))!b.call(t,r)&&r!==i&&a(t,r,{get:()=>e[r],enumerable:!(o=p(e,r))||o.enumerable});return t};var f=(t,e,i)=>(i=t!=null?s(g(t)):{},l(e||!t||!t.__esModule?a(i,\"default\",{value:t,enumerable:!0}):i,t)),w=t=>l(a({},\"__esModule\",{value:!0}),t);var h=v((M,c)=>{c.exports=_jsx_runtime});var C={};m(C,{default:()=>E,frontmatter:()=>y});var n=f(h()),y={title:\"Describe event capturing in JavaScript and browsers\"};function d(t){let e=Object.assign({h2:\"h2\",p:\"p\",a:\"a\",code:\"code\",hr:\"hr\",ul:\"ul\",li:\"li\",strong:\"strong\",pre:\"pre\"},t.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.h2,{children:\"TL;DR\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"Event capturing is a lesser-used counterpart to \",(0,n.jsx)(e.a,{href:\"/questions/quiz/describe-event-bubbling\",children:\"event bubbling\"}),\" in the DOM event propagation mechanism. It follows the opposite order, where an event triggers first on the ancestor element and then travels down to the target element.\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Event capturing is rarely used as compared to event bubbling, but it can be used in specific scenarios where you need to intercept events at a higher level before they reach the target element. It is disabled by default but can be enabled through an option on \",(0,n.jsx)(e.code,{children:\"addEventListener()\"}),\".\"]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{children:\"What is event capturing?\"}),`\n`,(0,n.jsx)(e.p,{children:\"Event capturing is a propagation mechanism in the DOM (Document Object Model) where an event, such as a click or a keyboard event, is first triggered at the root of the document and then flows down through the DOM tree to the target element.\"}),`\n`,(0,n.jsx)(e.p,{children:\"Capturing has a higher priority than bubbling, meaning that capturing event handlers are executed before bubbling event handlers, as shown by the phases of event propagation:\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Capturing phase\"}),\": The event moves down towards the target element\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Target phase\"}),\": The event reaches the target element\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Bubbling phase\"}),\": The event bubbles up from the target element\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Note that event capturing is disabled by default. To enable it you have to pass the capture option into \",(0,n.jsx)(e.code,{children:\"addEventListener()\"}),\".\"]}),`\n`,(0,n.jsx)(e.h2,{children:\"Capturing phase\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"During the capturing phase, the event starts at the document root and propagates down to the target element. Any event listeners on ancestor elements in this path will be triggered before the target element's handler. But note that event capturing can't happen until the third argument of \",(0,n.jsx)(e.code,{children:\"addEventListener()\"}),\" is set to \",(0,n.jsx)(e.code,{children:\"true\"}),\" as shown below (default value is \",(0,n.jsx)(e.code,{children:\"false\"}),\").\"]}),`\n`,(0,n.jsx)(e.p,{children:\"Here's an example using modern ES2015 syntax to demonstrate event capturing:\"}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-js\",children:`// HTML:\n// <div id=\"parent\">\n//   <button id=\"child\">Click me!</button>\n// </div>\n\nconst parent = document.getElementById('parent');\nconst child = document.getElementById('child');\n\nparent.addEventListener(\n  'click',\n  () => {\n    console.log('Parent element clicked (capturing)');\n  },\n  true, // Set third argument to true for capturing\n);\n\nchild.addEventListener('click', () => {\n  console.log('Child element clicked');\n});\n`})}),`\n`,(0,n.jsx)(e.p,{children:`When you click the \"Click me!\" button, it will trigger the parent element's capturing handler first, followed by the child element's handler.`}),`\n`,(0,n.jsx)(e.h2,{children:\"Stopping propagation\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"Event propagation can be stopped during the capturing phase using the \",(0,n.jsx)(e.code,{children:\"stopPropagation()\"}),\" method. This prevents the event from traveling further down the DOM tree.\"]}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-js\",children:`// HTML:\n// <div id=\"parent\">\n//   <button id=\"child\">Click me!</button>\n// </div>\n\nconst parent = document.getElementById('parent');\nconst child = document.getElementById('child');\n\nparent.addEventListener(\n  'click',\n  (event) => {\n    console.log('Parent element clicked (capturing)');\n    event.stopPropagation(); // Stop event propagation\n  },\n  true,\n);\n\nchild.addEventListener('click', () => {\n  console.log('Child element clicked');\n});\n`})}),`\n`,(0,n.jsxs)(e.p,{children:[\"As a result of stopping event propagation, just the \",(0,n.jsx)(e.code,{children:\"parent\"}),' event listener will now be called when you click the \"Click Me!\" button, and the ',(0,n.jsx)(e.code,{children:\"child\"}),\" event listener will never be called because the event propagation has stopped at the \",(0,n.jsx)(e.code,{children:\"parent\"}),\" element.\"]}),`\n`,(0,n.jsx)(e.h2,{children:\"Uses of event capturing\"}),`\n`,(0,n.jsx)(e.p,{children:\"Event capturing is rarely used as compared to event bubbling, but it can be used in specific scenarios where you need to intercept events at a higher level before they reach the target element.\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Stopping event bubbling:\"}),\" Imagine you have a nested element (like a button) inside a container element. Clicking the button might also trigger a click event on the container. By using enabling event capturing on the container's event listener, you can capture the click event there and prevent it from traveling down to the button, potentially causing unintended behavior.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Custom dropdown menus:\"}),\": When building custom dropdown menus, you might want to capture clicks outside the menu element to close the menu. Using \",(0,n.jsx)(e.code,{children:\"capture: true\"}),\" on the \",(0,n.jsx)(e.code,{children:\"document\"}),\" object allows you to listen for clicks anywhere on the page and close the menu if the click happens outside its boundaries.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Efficiency in certain scenarios:\"}),\": In some situations, event capturing can be slightly more efficient than relying on bubbling. This is because the event doesn't need to propagate through all child elements before reaching the handler. However, the performance difference is usually negligible for most web applications.\"]}),`\n`]}),`\n`,(0,n.jsx)(e.h2,{children:\"Further reading\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Building_blocks/Events#event_capture\",children:\"Event Capturing | MDN\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://javascript.info/bubbling-and-capturing\",children:\"Bubbling and Capturing | JavaScript.info\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://www.w3.org/TR/DOM-Level-3-Events/#event-flow\",children:\"W3C DOM Level 3 Events Specification\"})}),`\n`]})]})}function k(t={}){let{wrapper:e}=t.components||{};return e?(0,n.jsx)(e,Object.assign({},t,{children:(0,n.jsx)(d,t)})):d(t)}var E=k;return w(C);})();\n;return Component;"
}