{
  "description": null,
  "metadata": {
    "access": "free",
    "author": null,
    "companies": [],
    "created": 1630800000,
    "difficulty": "hard",
    "duration": 5,
    "excerpt": null,
    "featured": true,
    "format": "quiz",
    "frameworkDefault": null,
    "frameworks": [],
    "href": "/questions/quiz/what-are-server-sent-events",
    "importance": "medium",
    "languages": [],
    "nextQuestions": [],
    "published": true,
    "ranking": 440,
    "similarQuestions": [],
    "slug": "what-are-server-sent-events",
    "subtitle": null,
    "title": "什么是服务器发送事件？",
    "topics": [
      "javascript",
      "networking"
    ],
    "gitHubEditUrl": "https://github.com/yangshun/top-javascript-interview-questions/blob/main/questions/what-are-server-sent-events/zh-CN.mdx"
  },
  "solution": "var Component=(()=>{var h=Object.create;var d=Object.defineProperty;var v=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var g=Object.getPrototypeOf,S=Object.prototype.hasOwnProperty;var u=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),m=(r,e)=>{for(var t in e)d(r,t,{get:e[t],enumerable:!0})},o=(r,e,t,l)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let c of p(e))!S.call(r,c)&&c!==t&&d(r,c,{get:()=>e[c],enumerable:!(l=v(e,c))||l.enumerable});return r};var E=(r,e,t)=>(t=r!=null?h(g(r)):{},o(e||!r||!r.__esModule?d(t,\"default\",{value:r,enumerable:!0}):t,r)),f=r=>o(d({},\"__esModule\",{value:!0}),r);var s=u((y,i)=>{i.exports=_jsx_runtime});var x={};m(x,{default:()=>j,frontmatter:()=>b});var n=E(s()),b={title:\"\\u4EC0\\u4E48\\u662F\\u670D\\u52A1\\u5668\\u53D1\\u9001\\u4E8B\\u4EF6\\uFF1F\"};function a(r){let e=Object.assign({h2:\"h2\",p:\"p\",a:\"a\",code:\"code\",table:\"table\",thead:\"thead\",tr:\"tr\",th:\"th\",tbody:\"tbody\",td:\"td\",strong:\"strong\",pre:\"pre\",hr:\"hr\",ol:\"ol\",li:\"li\",ul:\"ul\"},r.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.h2,{children:\"TL;DR\"}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.a,{href:\"https://html.spec.whatwg.org/multipage/comms.html#the-eventsource-interface\",children:\"\\u670D\\u52A1\\u5668\\u53D1\\u9001\\u4E8B\\u4EF6 (SSE)\"}),\" \\u662F\\u4E00\\u79CD\\u6807\\u51C6\\uFF0C\\u5141\\u8BB8\\u7F51\\u9875\\u901A\\u8FC7 HTTP \\u8FDE\\u63A5\\u4ECE\\u670D\\u52A1\\u5668\\u63A5\\u6536\\u81EA\\u52A8\\u66F4\\u65B0\\u3002\\u670D\\u52A1\\u5668\\u53D1\\u9001\\u4E8B\\u4EF6\\u4E0E \",(0,n.jsx)(e.code,{children:\"EventSource\"}),\" \\u5B9E\\u4F8B\\u4E00\\u8D77\\u4F7F\\u7528\\uFF0C\\u8BE5\\u5B9E\\u4F8B\\u6253\\u5F00\\u4E0E\\u670D\\u52A1\\u5668\\u7684\\u8FDE\\u63A5\\uFF0C\\u5E76\\u5141\\u8BB8\\u5BA2\\u6237\\u7AEF\\u4ECE\\u670D\\u52A1\\u5668\\u63A5\\u6536\\u4E8B\\u4EF6\\u3002\\u670D\\u52A1\\u5668\\u53D1\\u9001\\u4E8B\\u4EF6\\u521B\\u5EFA\\u7684\\u8FDE\\u63A5\\u662F\\u6301\\u4E45\\u7684\\uFF08\\u7C7B\\u4F3C\\u4E8E \",(0,n.jsx)(e.code,{children:\"WebSocket\"}),\"\\uFF09\\uFF0C\\u4F46\\u662F\\u6709\\u4E00\\u4E9B\\u533A\\u522B\\uFF1A\"]}),`\n`,(0,n.jsxs)(e.table,{children:[(0,n.jsx)(e.thead,{children:(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.th,{children:\"\\u5C5E\\u6027\"}),(0,n.jsx)(e.th,{children:(0,n.jsx)(e.code,{children:\"WebSocket\"})}),(0,n.jsx)(e.th,{children:(0,n.jsx)(e.code,{children:\"EventSource\"})})]})}),(0,n.jsxs)(e.tbody,{children:[(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:\"\\u65B9\\u5411\"}),(0,n.jsx)(e.td,{children:\"\\u53CC\\u5411 \\u2013 \\u5BA2\\u6237\\u7AEF\\u548C\\u670D\\u52A1\\u5668\\u90FD\\u53EF\\u4EE5\\u4EA4\\u6362\\u6D88\\u606F\"}),(0,n.jsx)(e.td,{children:\"\\u5355\\u5411 \\u2013 \\u53EA\\u6709\\u670D\\u52A1\\u5668\\u53D1\\u9001\\u6570\\u636E\"})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:\"\\u6570\\u636E\\u7C7B\\u578B\"}),(0,n.jsx)(e.td,{children:\"\\u4E8C\\u8FDB\\u5236\\u548C\\u6587\\u672C\\u6570\\u636E\"}),(0,n.jsx)(e.td,{children:\"\\u4EC5\\u6587\\u672C\\u6570\\u636E\"})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:\"\\u534F\\u8BAE\"}),(0,n.jsxs)(e.td,{children:[\"WebSocket \\u534F\\u8BAE (\",(0,n.jsx)(e.code,{children:\"ws://\"}),\")\"]}),(0,n.jsxs)(e.td,{children:[\"\\u5E38\\u89C4 HTTP (\",(0,n.jsx)(e.code,{children:\"http://\"}),\")\"]})]})]})]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"\\u521B\\u5EFA\\u4E8B\\u4EF6\\u6E90\"})}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-js\",children:`const eventSource = new EventSource('/sse-stream');\n`})}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"\\u76D1\\u542C\\u4E8B\\u4EF6\"})}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-js\",children:`// \\u5EFA\\u7ACB\\u8FDE\\u63A5\\u65F6\\u89E6\\u53D1\\u3002\neventSource.addEventListener('open', () => {\n  console.log('\\u8FDE\\u63A5\\u5DF2\\u6253\\u5F00');\n});\n\n// \\u4ECE\\u670D\\u52A1\\u5668\\u6536\\u5230\\u6D88\\u606F\\u65F6\\u89E6\\u53D1\\u3002\neventSource.addEventListener('message', (event) => {\n  console.log('\\u6536\\u5230\\u6D88\\u606F\\uFF1A', event.data);\n});\n\n// \\u53D1\\u751F\\u9519\\u8BEF\\u65F6\\u89E6\\u53D1\\u3002\neventSource.addEventListener('error', (error) => {\n  console.error('\\u53D1\\u751F\\u9519\\u8BEF\\uFF1A', error);\n});\n`})}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"\\u4ECE\\u670D\\u52A1\\u5668\\u53D1\\u9001\\u4E8B\\u4EF6\"})}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-js\",children:`const express = require('express');\nconst app = express();\n\napp.get('/sse-stream', (req, res) => {\n  // \\`Content-Type\\` \\u9700\\u8981\\u8BBE\\u7F6E\\u4E3A \\`text/event-stream\\`\\u3002\n  res.setHeader('Content-Type', 'text/event-stream');\n  res.setHeader('Cache-Control', 'no-cache');\n  res.setHeader('Connection', 'keep-alive');\n\n  // \\u6BCF\\u6761\\u6D88\\u606F\\u90FD\\u5E94\\u4EE5 data \\u5F00\\u5934\\u3002\n  const sendEvent = (data) => res.write(\\`data: \\${data}\\\\n\\\\n\\`);\n\n  sendEvent('\\u6765\\u81EA\\u670D\\u52A1\\u5668\\u7684\\u95EE\\u5019');\n\n  const intervalId = setInterval(() => sendEvent(new Date().toString()), 1000);\n\n  res.on('close', () => {\n    console.log('\\u5BA2\\u6237\\u7AEF\\u5173\\u95ED\\u8FDE\\u63A5');\n    clearInterval(intervalId);\n  });\n});\n\napp.listen(3000, () => console.log('\\u670D\\u52A1\\u5668\\u5DF2\\u5728\\u7AEF\\u53E3 3000 \\u542F\\u52A8'));\n`})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5728\\u6B64\\u793A\\u4F8B\\u4E2D\\uFF0C\\u670D\\u52A1\\u5668\\u6700\\u521D\\u53D1\\u9001\\u201C\\u6765\\u81EA\\u670D\\u52A1\\u5668\\u7684\\u95EE\\u5019\\u201D\\u6D88\\u606F\\uFF0C\\u7136\\u540E\\u6BCF\\u79D2\\u53D1\\u9001\\u5F53\\u524D\\u65E5\\u671F\\u3002\\u8FDE\\u63A5\\u4FDD\\u6301\\u6D3B\\u52A8\\u72B6\\u6001\\uFF0C\\u76F4\\u5230\\u5BA2\\u6237\\u7AEF\\u5C06\\u5176\\u5173\\u95ED\"}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{children:\"\\u670D\\u52A1\\u5668\\u53D1\\u9001\\u4E8B\\u4EF6 (SSE)\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\u670D\\u52A1\\u5668\\u53D1\\u9001\\u4E8B\\u4EF6 (SSE) \\u662F\\u4E00\\u79CD\\u6807\\u51C6\\uFF0C\\u5141\\u8BB8\\u670D\\u52A1\\u5668\\u901A\\u8FC7\\u5355\\u4E2A\\u3001\\u957F\\u8FDE\\u63A5\\u7684 HTTP \\u8FDE\\u63A5\\u5C06\\u66F4\\u65B0\\u63A8\\u9001\\u5230 Web \\u5BA2\\u6237\\u7AEF\\u3002\\u5B83\\u652F\\u6301\\u5B9E\\u65F6\\u66F4\\u65B0\\uFF0C\\u800C\\u65E0\\u9700\\u5BA2\\u6237\\u7AEF\\u4E0D\\u65AD\\u8F6E\\u8BE2\\u670D\\u52A1\\u5668\\u4EE5\\u83B7\\u53D6\\u65B0\\u6570\\u636E\\u3002\"}),`\n`,(0,n.jsx)(e.h2,{children:\"SSE \\u7684\\u5DE5\\u4F5C\\u539F\\u7406\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5BA2\\u6237\\u7AEF\\u521B\\u5EFA\\u4E00\\u4E2A\\u65B0\\u7684 \",(0,n.jsx)(e.code,{children:\"EventSource\"}),\" \\u5BF9\\u8C61\\uFF0C\\u4F20\\u9012\\u5C06\\u751F\\u6210\\u4E8B\\u4EF6\\u6D41\\u7684 \",(0,n.jsx)(e.code,{children:\"\\u670D\\u52A1\\u5668\\u7AEF\"}),\" \\u811A\\u672C\\u7684 URL\\uFF1A\"]}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-js\",children:`const eventSource = new EventSource('/event-stream');\n`})}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[\"\\u670D\\u52A1\\u5668\\u7AEF\\u811A\\u672C\\u8BBE\\u7F6E\\u9002\\u5F53\\u7684\\u6807\\u5934\\u4EE5\\u6307\\u793A\\u5B83\\u5C06\\u53D1\\u9001\\u4E8B\\u4EF6\\u6D41 (\",(0,n.jsx)(e.code,{children:\"Content-Type: text/event-stream\"}),\")\\uFF0C\\u7136\\u540E\\u5F00\\u59CB\\u5411\\u5BA2\\u6237\\u7AEF\\u53D1\\u9001\\u4E8B\\u4EF6\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[\"\\u670D\\u52A1\\u5668\\u53D1\\u9001\\u7684\\u6BCF\\u4E2A\\u4E8B\\u4EF6\\u90FD\\u9075\\u5FAA\\u7279\\u5B9A\\u7684\\u683C\\u5F0F\\uFF0C\\u5305\\u542B \",(0,n.jsx)(e.code,{children:\"event\"}),\"\\u3001\",(0,n.jsx)(e.code,{children:\"data\"}),\" \\u548C \",(0,n.jsx)(e.code,{children:\"id\"}),\" \\u7B49\\u5B57\\u6BB5\\u3002\\u4F8B\\u5982\\uFF1A\"]}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-js\",children:`event: message\ndata: Hello, world!\n\nevent: update\nid: 123\ndata: {\"temperature\": 25, \"humidity\": 60}\n`})}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5728\\u5BA2\\u6237\\u7AEF\\uFF0C\",(0,n.jsx)(e.code,{children:\"EventSource\"}),\" \\u5BF9\\u8C61\\u63A5\\u6536\\u8FD9\\u4E9B\\u4E8B\\u4EF6\\u5E76\\u5C06\\u5176\\u4F5C\\u4E3A\\u6D4F\\u89C8\\u5668\\u4E8B\\u4EF6\\u5206\\u6D3E\\uFF0C\\u53EF\\u4EE5\\u4F7F\\u7528\\u4E8B\\u4EF6\\u4FA6\\u542C\\u5668\\u6216 \",(0,n.jsx)(e.code,{children:\"onmessage\"}),\" \\u4E8B\\u4EF6\\u5904\\u7406\\u7A0B\\u5E8F\\u6765\\u5904\\u7406\\u8FD9\\u4E9B\\u4E8B\\u4EF6\\uFF1A\"]}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-js\",children:`eventSource.onmessage = function (event) {\n  console.log('Received message:', event.data);\n};\n\neventSource.addEventListener('update', function (event) {\n  console.log('Received update:', JSON.parse(event.data));\n});\n`})}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5982\\u679C\\u8FDE\\u63A5\\u65AD\\u5F00\\uFF0C\",(0,n.jsx)(e.code,{children:\"EventSource\"}),\" \\u5BF9\\u8C61\\u4F1A\\u81EA\\u52A8\\u5904\\u7406\\u91CD\\u65B0\\u8FDE\\u63A5\\uFF0C\\u5E76\\u4E14\\u53EF\\u4EE5\\u4F7F\\u7528 \",(0,n.jsx)(e.code,{children:\"Last-Event-ID HTTP \\u6807\\u5934\"}),\" \\u4ECE\\u4E0A\\u6B21\\u63A5\\u6536\\u5230\\u7684\\u4E8B\\u4EF6 ID \\u6062\\u590D\\u4E8B\\u4EF6\\u6D41\\u3002\"]}),`\n`]}),`\n`]}),`\n`,(0,n.jsx)(e.h2,{children:\"SSE \\u529F\\u80FD\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u5355\\u5411\"}),\"\\uFF1A\\u53EA\\u6709\\u670D\\u52A1\\u5668\\u624D\\u80FD\\u5411\\u5BA2\\u6237\\u7AEF\\u53D1\\u9001\\u6570\\u636E\\u3002\\u5BF9\\u4E8E\\u53CC\\u5411\\u901A\\u4FE1\\uFF0CWeb \\u5957\\u63A5\\u5B57\\u5C06\\u66F4\\u5408\\u9002\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u91CD\\u8BD5\\u673A\\u5236\"}),\"\\uFF1A\\u5982\\u679C\\u8FDE\\u63A5\\u5931\\u8D25\\uFF0C\\u5BA2\\u6237\\u7AEF\\u5C06\\u91CD\\u8BD5\\u8FDE\\u63A5\\uFF0C\\u91CD\\u8BD5\\u95F4\\u9694\\u7531\\u670D\\u52A1\\u5668\\u7684 \",(0,n.jsx)(e.code,{children:\"retry:\"}),\" \\u5B57\\u6BB5\\u6307\\u5B9A\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u4EC5\\u6587\\u672C\\u6570\\u636E\"}),\"\\uFF1ASSE \\u53EA\\u80FD\\u4F20\\u8F93\\u6587\\u672C\\u6570\\u636E\\uFF0C\\u8FD9\\u610F\\u5473\\u7740\\u5728\\u4F20\\u8F93\\u4E4B\\u524D\\u9700\\u8981\\u5BF9\\u4E8C\\u8FDB\\u5236\\u6570\\u636E\\u8FDB\\u884C\\u7F16\\u7801\\uFF08\\u4F8B\\u5982\\uFF0CBase64\\uFF09\\u3002\\u5BF9\\u4E8E\\u9700\\u8981\\u4F20\\u8F93\\u5927\\u578B\\u4E8C\\u8FDB\\u5236\\u6709\\u6548\\u8D1F\\u8F7D\\u7684\\u5E94\\u7528\\u7A0B\\u5E8F\\uFF0C\\u8FD9\\u53EF\\u80FD\\u4F1A\\u5BFC\\u81F4\\u5F00\\u9500\\u589E\\u52A0\\u548C\\u6548\\u7387\\u4F4E\\u4E0B\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u5185\\u7F6E\\u6D4F\\u89C8\\u5668\\u652F\\u6301\"}),\"\\uFF1A\\u53D7\\u5927\\u591A\\u6570\\u73B0\\u4EE3\\u6D4F\\u89C8\\u5668\\u652F\\u6301\\uFF0C\\u65E0\\u9700\\u5176\\u4ED6\\u5E93\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u4E8B\\u4EF6\\u7C7B\\u578B\"}),\"\\uFF1ASSE \\u4F7F\\u7528 \",(0,n.jsx)(e.code,{children:\"event:\"}),\" \\u5B57\\u6BB5\\u652F\\u6301\\u81EA\\u5B9A\\u4E49\\u4E8B\\u4EF6\\u7C7B\\u578B\\uFF0C\\u5141\\u8BB8\\u5BF9\\u6D88\\u606F\\u8FDB\\u884C\\u5206\\u7C7B\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:(0,n.jsx)(e.code,{children:\"Last-Event-Id\"})}),\"\\uFF1A\\u5BA2\\u6237\\u7AEF\\u5728\\u91CD\\u65B0\\u8FDE\\u63A5\\u65F6\\u53D1\\u9001 \",(0,n.jsx)(e.code,{children:\"Last-Event-Id\"}),\" \\u6807\\u5934\\uFF0C\\u5141\\u8BB8\\u670D\\u52A1\\u5668\\u4ECE\\u4E0A\\u6B21\\u63A5\\u6536\\u5230\\u7684\\u4E8B\\u4EF6\\u6062\\u590D\\u6D41\\u3002\\u4F46\\u662F\\uFF0C\\u6CA1\\u6709\\u5185\\u7F6E\\u7684\\u673A\\u5236\\u6765\\u91CD\\u653E\\u65AD\\u5F00\\u8FDE\\u63A5\\u671F\\u95F4\\u9519\\u8FC7\\u7684\\u4E8B\\u4EF6\\u3002\\u60A8\\u53EF\\u80FD\\u9700\\u8981\\u5B9E\\u73B0\\u4E00\\u79CD\\u673A\\u5236\\u6765\\u5904\\u7406\\u9519\\u8FC7\\u7684\\u4E8B\\u4EF6\\uFF0C\\u4F8B\\u5982\\u4F7F\\u7528 \",(0,n.jsx)(e.code,{children:\"Last-Event-Id\"}),\" \\u6807\\u5934\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u8FDE\\u63A5\\u9650\\u5236\"}),\"\\uFF1A\\u6D4F\\u89C8\\u5668\\u5BF9\\u5E76\\u53D1 SSE \\u8FDE\\u63A5\\u7684\\u6700\\u5927\\u6570\\u91CF\\u6709\\u9650\\u5236\\uFF0C\\u901A\\u5E38\\u6BCF\\u4E2A\\u57DF\\u5927\\u7EA6 6 \\u4E2A\\u3002\\u5982\\u679C\\u9700\\u8981\\u4ECE\\u540C\\u4E00\\u5BA2\\u6237\\u7AEF\\u5EFA\\u7ACB\\u591A\\u4E2A SSE \\u8FDE\\u63A5\\uFF0C\\u8FD9\\u53EF\\u80FD\\u4F1A\\u6210\\u4E3A\\u74F6\\u9888\\u3002\\u4F7F\\u7528 HTTP/2 \\u5C06\\u7F13\\u89E3\\u6B64\\u95EE\\u9898\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.h2,{children:\"\\u5728 JavaScript \\u4E2D\\u5B9E\\u73B0 SSE\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4EE5\\u4E0B\\u4EE3\\u7801\\u6F14\\u793A\\u4E86\\u5BA2\\u6237\\u7AEF\\u548C\\u670D\\u52A1\\u5668\\u4E0A SSE \\u7684\\u6700\\u5C0F\\u5B9E\\u73B0\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"\\u670D\\u52A1\\u5668\\u8BBE\\u7F6E\\u9002\\u5F53\\u7684\\u6807\\u5934\\u4EE5\\u5EFA\\u7ACB SSE \\u8FDE\\u63A5\\u3002\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u6D88\\u606F\\u6BCF 5 \\u79D2\\u53D1\\u9001\\u5230\\u5BA2\\u6237\\u7AEF\\u3002\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u5F53\\u5BA2\\u6237\\u7AEF\\u65AD\\u5F00\\u8FDE\\u63A5\\u65F6\\uFF0C\\u670D\\u52A1\\u5668\\u6E05\\u7406\\u95F4\\u9694\\u5E76\\u7ED3\\u675F\\u54CD\\u5E94\\u3002\"}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5728\\u5BA2\\u6237\\u7AEF\\u4E0A\\uFF1A\"}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-js\",children:`// Create a new EventSource object\nconst eventSource = new EventSource('/sse');\n\n// Event listener for receiving messages\neventSource.onmessage = function (event) {\n  console.log('New message:', event.data);\n};\n\n// Event listener for errors\neventSource.onerror = function (error) {\n  console.error('Error occurred:', error);\n};\n\n// Optional: Event listener for open connection\neventSource.onopen = function () {\n  console.log('Connection opened');\n};\n`})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5728\\u670D\\u52A1\\u5668\\u4E0A\\uFF1A\"}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-js\",children:`const http = require('http');\n\nhttp\n  .createServer((req, res) => {\n    if (req.url === '/sse') {\n      // Set headers for SSE\n      res.writeHead(200, {\n        'Content-Type': 'text/event-stream',\n        'Cache-Control': 'no-cache',\n        Connection: 'keep-alive',\n      });\n\n      // Function to send a message\n      const sendMessage = (message) => {\n        res.write(\\`data: \\${message}\\\\n\\\\n\\`); // Messages are delimited with double line breaks.\n      };\n\n      // Send a message every 5 seconds\n      const intervalId = setInterval(() => {\n        sendMessage(\\`Current time: \\${new Date().toLocaleTimeString()}\\`);\n      }, 5000);\n\n      // Handle client disconnect\n      req.on('close', () => {\n        clearInterval(intervalId);\n        res.end();\n      });\n    } else {\n      res.writeHead(404);\n      res.end();\n    }\n  })\n  .listen(8080, () => {\n    console.log('SSE server running on port 8080');\n  });\n`})}),`\n`,(0,n.jsx)(e.h2,{children:\"\\u603B\\u7ED3\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\u670D\\u52A1\\u5668\\u53D1\\u9001\\u4E8B\\u4EF6\\u63D0\\u4F9B\\u4E86\\u4E00\\u79CD\\u9AD8\\u6548\\u4E14\\u76F4\\u63A5\\u7684\\u65B9\\u5F0F\\uFF0C\\u53EF\\u4EE5\\u5C06\\u66F4\\u65B0\\u4ECE\\u670D\\u52A1\\u5668\\u63A8\\u9001\\u5230\\u5BA2\\u6237\\u7AEF\\u3002\\u5B83\\u4EEC\\u7279\\u522B\\u9002\\u7528\\u4E8E\\u9700\\u8981\\u8FDE\\u7EED\\u6570\\u636E\\u6D41\\u4F46\\u4E0D\\u9700\\u8981\\u5B8C\\u5168\\u53CC\\u5411\\u901A\\u4FE1\\u7684\\u5E94\\u7528\\u7A0B\\u5E8F\\u3002\\u7531\\u4E8E\\u73B0\\u4EE3\\u6D4F\\u89C8\\u5668\\u5185\\u7F6E\\u4E86\\u652F\\u6301\\uFF0CSSE \\u662F\\u8BB8\\u591A\\u5B9E\\u65F6 Web \\u5E94\\u7528\\u7A0B\\u5E8F\\u7684\\u53EF\\u9760\\u9009\\u62E9\\u3002\"}),`\n`,(0,n.jsx)(e.h2,{children:\"\\u5EF6\\u4F38\\u9605\\u8BFB\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events/Using_server-sent_events\",children:\"\\u4F7F\\u7528\\u670D\\u52A1\\u5668\\u53D1\\u9001\\u4E8B\\u4EF6 - MDN\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://javascript.info/server-sent-events\",children:\"\\u670D\\u52A1\\u5668\\u53D1\\u9001\\u4E8B\\u4EF6 - javascript.info\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://ably.com/topic/server-sent-events\",children:\"\\u670D\\u52A1\\u5668\\u53D1\\u9001\\u4E8B\\u4EF6\\uFF1A\\u4E00\\u4E2A\\u51C6\\u5907\\u597D\\u518D\\u6B21\\u5BA1\\u89C6\\u7684 WebSockets \\u66FF\\u4EE3\\u65B9\\u6848\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://bunny.net/academy/http/what-is-sse-server-sent-events-and-how-do-they-work/\",children:\"\\u4EC0\\u4E48\\u662F SSE\\uFF08\\u670D\\u52A1\\u5668\\u53D1\\u9001\\u4E8B\\u4EF6\\uFF09\\u4EE5\\u53CA\\u5B83\\u4EEC\\u5982\\u4F55\\u5DE5\\u4F5C\\uFF1F\"})}),`\n`]})]})}function w(r={}){let{wrapper:e}=r.components||{};return e?(0,n.jsx)(e,Object.assign({},r,{children:(0,n.jsx)(a,r)})):a(r)}var j=w;return f(x);})();\n;return Component;"
}