{
  "description": null,
  "info": {
    "excerpt": null,
    "title": "Explain why the following doesn't work as an IIFE: `function foo(){}();`. What needs to be changed to properly make it an IIFE?"
  },
  "metadata": {
    "access": "free",
    "author": null,
    "companies": [],
    "created": 1630800000,
    "difficulty": "hard",
    "duration": 5,
    "featured": false,
    "format": "quiz",
    "frameworkDefault": null,
    "frameworks": [],
    "href": "/questions/quiz/explain-why-the-following-doesnt-work-as-an-iife-function-foo--what-needs-to-be-changed-to-properly-make-it-an-iife",
    "importance": "low",
    "languages": [],
    "nextQuestions": [],
    "published": true,
    "ranking": 999,
    "similarQuestions": [],
    "slug": "explain-why-the-following-doesnt-work-as-an-iife-function-foo--what-needs-to-be-changed-to-properly-make-it-an-iife",
    "subtitle": null,
    "topics": [
      "javascript"
    ],
    "gitHubEditUrl": "https://github.com/yangshun/top-javascript-interview-questions/blob/main/questions/explain-why-the-following-doesnt-work-as-an-iife-function-foo--what-needs-to-be-changed-to-properly-make-it-an-iife/en-US.mdx"
  },
  "solution": "var Component=(()=>{var h=Object.create;var a=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var f=Object.getPrototypeOf,m=Object.prototype.hasOwnProperty;var x=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),y=(t,e)=>{for(var o in e)a(t,o,{get:e[o],enumerable:!0})},c=(t,e,o,i)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let r of u(e))!m.call(t,r)&&r!==o&&a(t,r,{get:()=>e[r],enumerable:!(i=p(e,r))||i.enumerable});return t};var v=(t,e,o)=>(o=t!=null?h(f(t)):{},c(e||!t||!t.__esModule?a(o,\"default\",{value:t,enumerable:!0}):o,t)),I=t=>c(a({},\"__esModule\",{value:!0}),t);var d=x((k,s)=>{s.exports=_jsx_runtime});var E={};y(E,{default:()=>b,frontmatter:()=>g});var n=v(d()),g={title:\"Explain why the following doesn't work as an IIFE: `function foo(){}();`. What needs to be changed to properly make it an IIFE?\"};function l(t){let e=Object.assign({h2:\"h2\",p:\"p\",code:\"code\",hr:\"hr\",h3:\"h3\",pre:\"pre\",ul:\"ul\",li:\"li\",a:\"a\"},t.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.h2,{children:\"TL;DR\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"The code \",(0,n.jsx)(e.code,{children:\"function foo(){}();\"}),\" doesn't work as an Immediately Invoked Function Expression (IIFE) because the JavaScript parser treats \",(0,n.jsx)(e.code,{children:\"function foo(){}\"}),\" as a function declaration, not an expression. To make it an IIFE, you need to wrap the function in parentheses to turn it into a function expression: \",(0,n.jsx)(e.code,{children:\"(function foo(){})();\"}),\".\"]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{children:\"Why the code doesn't work as an IIFE\"}),`\n`,(0,n.jsx)(e.h3,{children:\"Function declaration vs. function expression\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"In JavaScript, a function declaration and a function expression are treated differently by the parser. The code \",(0,n.jsx)(e.code,{children:\"function foo(){}\"}),\" is interpreted as a function declaration. Function declarations are not immediately invoked; they are hoisted to the top of their scope and can be called later in the code.\"]}),`\n`,(0,n.jsx)(e.h3,{children:\"Syntax error\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"When you try to immediately invoke a function declaration by adding \",(0,n.jsx)(e.code,{children:\"();\"}),\" at the end, it results in a syntax error because the parser expects a function expression to be invoked immediately, not a declaration.\"]}),`\n`,(0,n.jsx)(e.h2,{children:\"How to properly make it an IIFE\"}),`\n`,(0,n.jsx)(e.h3,{children:\"Wrapping in parentheses\"}),`\n`,(0,n.jsx)(e.p,{children:\"To convert the function declaration into a function expression, you need to wrap the function declaration in parentheses. This tells the JavaScript parser to treat it as an expression. Here is the corrected code:\"}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-javascript\",children:`(function foo(){})();\n`})}),`\n`,(0,n.jsx)(e.h3,{children:\"Alternative syntax\"}),`\n`,(0,n.jsx)(e.p,{children:\"You can also use an alternative syntax by placing the parentheses around the original line:\"}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-javascript\",children:`(function foo(){}());\n`})}),`\n`,(0,n.jsx)(e.p,{children:\"Both of these syntaxes are valid and will correctly create an IIFE.\"}),`\n`,(0,n.jsx)(e.h2,{children:\"Further reading\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://developer.mozilla.org/en-US/docs/Glossary/IIFE\",children:\"MDN Web Docs: IIFE\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/function\",children:\"JavaScript Function Expressions\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function\",children:\"JavaScript Function Declarations\"})}),`\n`]})]})}function F(t={}){let{wrapper:e}=t.components||{};return e?(0,n.jsx)(e,Object.assign({},t,{children:(0,n.jsx)(l,t)})):l(t)}var b=F;return I(E);})();\n;return Component;"
}