{
  "description": null,
  "metadata": {
    "access": "free",
    "author": null,
    "companies": [],
    "created": 1630800000,
    "difficulty": "medium",
    "duration": 5,
    "excerpt": null,
    "featured": true,
    "format": "quiz",
    "frameworkDefault": null,
    "frameworks": [],
    "href": "/questions/quiz/css-link-between-head-and-js-script-just-before-body",
    "importance": "high",
    "languages": [],
    "nextQuestions": [],
    "published": true,
    "ranking": 100,
    "similarQuestions": [],
    "slug": "css-link-between-head-and-js-script-just-before-body",
    "subtitle": "Do you know any exceptions?",
    "title": "Why is it generally a good idea to position CSS `<link>`s between `<head></head>` and JS `<script>`s just before `</body>`?",
    "topics": [
      "html",
      "performance"
    ],
    "gitHubEditUrl": "https://github.com/yangshun/front-end-interview-handbook/blob/main/packages/quiz/questions/css-link-between-head-and-js-script-just-before-body/en-US.mdx"
  },
  "solution": "var Component=(()=>{var l=Object.create;var r=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var g=Object.getPrototypeOf,m=Object.prototype.hasOwnProperty;var f=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),w=(n,e)=>{for(var i in e)r(n,i,{get:e[i],enumerable:!0})},s=(n,e,i,a)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let o of u(e))!m.call(n,o)&&o!==i&&r(n,o,{get:()=>e[o],enumerable:!(a=p(e,o))||a.enumerable});return n};var b=(n,e,i)=>(i=n!=null?l(g(n)):{},s(e||!n||!n.__esModule?r(i,\"default\",{value:n,enumerable:!0}):i,n)),y=n=>s(r({},\"__esModule\",{value:!0}),n);var c=f((j,d)=>{d.exports=_jsx_runtime});var M={};w(M,{default:()=>v,frontmatter:()=>k});var t=b(c()),k={title:\"Why is it generally a good idea to position CSS `<link>`s between `<head></head>` and JS `<script>`s just before `</body>`?\",subtitle:\"Do you know any exceptions?\"};function h(n){let e=Object.assign({p:\"p\",code:\"code\",h2:\"h2\"},n.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(e.p,{children:[\"In a nutshell, such a placement of CSS \",(0,t.jsx)(e.code,{children:\"<link>\"}),\"s and JavaScript \",(0,t.jsx)(e.code,{children:\"<script>\"}),\"s allows for faster rendering of the page and better overall performance.\"]}),`\n`,(0,t.jsxs)(e.h2,{children:[\"Placing \",(0,t.jsx)(e.code,{children:\"<link>\"}),\"s in \",(0,t.jsx)(e.code,{children:\"<head>\"})]}),`\n`,(0,t.jsxs)(e.p,{children:[\"Putting \",(0,t.jsx)(e.code,{children:\"<link>\"}),\"s in \",(0,t.jsx)(e.code,{children:\"<head>\"}),' is part of the proper specification in building an optimized website. When a page first loads, HTML and CSS are being parsed simultaneously; HTML creates the DOM (Document Object Model) and CSS creates the CSSOM (CSS Object Model). Both are needed to create the visuals in a website, allowing for a quick \"first meaningful paint\" timing. Placing CSS ',(0,t.jsx)(e.code,{children:\"<link>\"}),\"s in the \",(0,t.jsx)(e.code,{children:\"<head>\"}),\" ensures that the stylesheets are loaded and ready for use when the browser starts rendering the page.\"]}),`\n`,(0,t.jsx)(e.p,{children:\"This progressive rendering is a metric that sites are measured on in their performance scores. Putting stylesheets near the bottom of the document is what prohibits progressive rendering in many browsers. Some browsers block rendering to avoid having to repaint elements of the page if their styles change. The user is then stuck viewing a blank white page. Other times there can be flashes of unstyled content (FOUC), which show a webpage with no styling applied.\"}),`\n`,(0,t.jsxs)(e.h2,{children:[\"Placing \",(0,t.jsx)(e.code,{children:\"<script>\"}),\"s just before \",(0,t.jsx)(e.code,{children:\"</body>\"})]}),`\n`,(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:\"<script>\"}),\" tags block HTML parsing while they are being downloaded and executed which can slow down the display of your page. Placing the \",(0,t.jsx)(e.code,{children:\"<script>\"}),\"s at the bottom will allow the HTML to be parsed and displayed to the user first.\"]}),`\n`,(0,t.jsxs)(e.p,{children:[\"An exception for positioning of \",(0,t.jsx)(e.code,{children:\"<script>\"}),\"s at the bottom is when your script contains \",(0,t.jsx)(e.code,{children:\"document.write()\"}),\", but these days it's not a good practice to use \",(0,t.jsx)(e.code,{children:\"document.write()\"}),\". Also, placing \",(0,t.jsx)(e.code,{children:\"<script>\"}),\"s at the bottom means that the browser cannot start downloading the scripts until the entire document is parsed. This ensures your code that needs to manipulate DOM elements will not throw an error and halt the entire script. If you need to put \",(0,t.jsx)(e.code,{children:\"<script>\"}),\"s in the \",(0,t.jsx)(e.code,{children:\"<head>\"}),\", use the \",(0,t.jsx)(e.code,{children:\"defer\"}),\" attribute, which will achieve the same effect of running the script only after the HTML is parsed but the browser can kick off the network request earlier to download the script.\"]}),`\n`,(0,t.jsxs)(e.p,{children:[\"Keep in mind that putting scripts just before the closing \",(0,t.jsx)(e.code,{children:\"</body>\"}),\" tag will create the illusion that the page loads faster on an empty cache (since the scripts won't block downloading the rest of the document). However, if you have some code you want to run during page load, it will only start executing after the entire page has loaded. If you put those scripts in the \",(0,t.jsx)(e.code,{children:\"<head>\"}),\" tag, they would start executing before - so on a primed cache the page would actually appear to load faster.\"]}),`\n`,(0,t.jsxs)(e.h2,{children:[(0,t.jsx)(e.code,{children:\"<head>\"}),\" and \",(0,t.jsx)(e.code,{children:\"<body>\"}),\" tags are now optional\"]}),`\n`,(0,t.jsxs)(e.p,{children:[\"As per the HTML5 specification, certain HTML tags like \",(0,t.jsx)(e.code,{children:\"<head>\"}),\" and \",(0,t.jsx)(e.code,{children:\"<body>\"}),\" are optional. Google's style guide even recommends removing them to save bytes. However, this practice is still not widely adopted and the performance gain is likely to be minimal and for most sites it's not likely going to matter.\"]})]})}function S(n={}){let{wrapper:e}=n.components||{};return e?(0,t.jsx)(e,Object.assign({},n,{children:(0,t.jsx)(h,n)})):h(n)}var v=S;return y(M);})();\n;return Component;"
}