{
  "description": null,
  "metadata": {
    "access": "free",
    "author": null,
    "companies": [],
    "created": 1630800000,
    "difficulty": "easy",
    "duration": 5,
    "excerpt": null,
    "featured": false,
    "format": "quiz",
    "frameworkDefault": null,
    "frameworks": [],
    "href": "/questions/quiz/what-are-mocks-and-stubs-and-how-are-they-used-in-testing",
    "importance": "low",
    "languages": [],
    "nextQuestions": [],
    "published": true,
    "ranking": 999,
    "similarQuestions": [],
    "slug": "what-are-mocks-and-stubs-and-how-are-they-used-in-testing",
    "subtitle": null,
    "title": "What are mocks and stubs and how are they used in testing?",
    "topics": [
      "javascript",
      "testing"
    ],
    "gitHubEditUrl": "https://github.com/yangshun/top-javascript-interview-questions/blob/main/questions/what-are-mocks-and-stubs-and-how-are-they-used-in-testing/en-US.mdx"
  },
  "solution": "var Component=(()=>{var u=Object.create;var r=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var g=Object.getPrototypeOf,f=Object.prototype.hasOwnProperty;var b=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),w=(t,e)=>{for(var s in e)r(t,s,{get:e[s],enumerable:!0})},i=(t,e,s,a)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let o of p(e))!f.call(t,o)&&o!==s&&r(t,o,{get:()=>e[o],enumerable:!(a=m(e,o))||a.enumerable});return t};var k=(t,e,s)=>(s=t!=null?u(g(t)):{},i(e||!t||!t.__esModule?r(s,\"default\",{value:t,enumerable:!0}):s,t)),y=t=>i(r({},\"__esModule\",{value:!0}),t);var h=b((S,c)=>{c.exports=_jsx_runtime});var D={};w(D,{default:()=>l,frontmatter:()=>x});var n=k(h()),x={title:\"What are mocks and stubs and how are they used in testing?\"};function d(t){let e={a:\"a\",code:\"code\",h2:\"h2\",h3:\"h3\",h4:\"h4\",hr:\"hr\",li:\"li\",p:\"p\",pre:\"pre\",strong:\"strong\",ul:\"ul\",...t.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.h2,{children:\"TL;DR\"}),`\n`,(0,n.jsx)(e.p,{children:\"Mocks and stubs are tools used in testing to simulate the behavior of real objects. Stubs provide predefined responses to function calls, while mocks are more complex and can verify interactions, such as whether a function was called and with what arguments. Stubs are used to isolate the code being tested from external dependencies, and mocks are used to ensure that the code interacts correctly with those dependencies.\"}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{children:\"What are mocks and stubs and how are they used in testing?\"}),`\n`,(0,n.jsx)(e.h3,{children:\"Stubs\"}),`\n`,(0,n.jsx)(e.p,{children:\"Stubs are simple objects that provide predefined responses to function calls made during tests. They are used to isolate the code being tested from external dependencies, such as databases or APIs, by providing controlled responses.\"}),`\n`,(0,n.jsx)(e.h4,{children:\"Example\"}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-js\",children:`// A simple stub for a function that fetches user data\nconst fetchUserDataStub = sinon.stub();\nfetchUserDataStub.returns({ id: 1, name: 'John Doe' });\n\n// Using the stub in a test\nconst userData = fetchUserDataStub();\nconsole.log(userData); // { id: 1, name: 'John Doe' }\n`})}),`\n`,(0,n.jsx)(e.h3,{children:\"Mocks\"}),`\n`,(0,n.jsx)(e.p,{children:\"Mocks are more complex than stubs. They not only provide predefined responses but also record information about how they were called. This allows you to verify interactions, such as whether a function was called, how many times it was called, and with what arguments.\"}),`\n`,(0,n.jsx)(e.h4,{children:\"Example\"}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-js\",children:`// A simple mock for a function that logs user data\nconst logUserDataMock = sinon.mock();\nlogUserDataMock.expects('log').once().withArgs({ id: 1, name: 'John Doe' });\n\n// Using the mock in a test\nlogUserDataMock.log({ id: 1, name: 'John Doe' });\nlogUserDataMock.verify(); // Verifies that the log method was called once with the specified arguments\n`})}),`\n`,(0,n.jsx)(e.h3,{children:\"When to use stubs and mocks\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Stubs\"}),\": Use stubs when you need to isolate the code being tested from external dependencies and control the responses those dependencies provide.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Mocks\"}),\": Use mocks when you need to verify that the code interacts correctly with external dependencies, such as ensuring that a function is called with the correct arguments.\"]}),`\n`]}),`\n`,(0,n.jsx)(e.h2,{children:\"Further reading\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://sinonjs.org/releases/latest/\",children:\"Sinon.js documentation\"})}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://martinfowler.com/articles/mocksArentStubs.html\",children:\"Mocks Aren't Stubs\"}),\" by Martin Fowler\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://www.sitepoint.com/testing-javascript-mocks-stubs/\",children:\"Testing JavaScript with Mocks and Stubs\"}),\" on SitePoint\"]}),`\n`]})]})}function l(t={}){let{wrapper:e}=t.components||{};return e?(0,n.jsx)(e,{...t,children:(0,n.jsx)(d,{...t})}):d(t)}return y(D);})();\n;return Component;"
}