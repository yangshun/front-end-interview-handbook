{
  "description": "var Component=(()=>{var h=Object.create;var o=Object.defineProperty;var s=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var m=Object.getPrototypeOf,f=Object.prototype.hasOwnProperty;var b=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),x=(r,e)=>{for(var t in e)o(r,t,{get:e[t],enumerable:!0})},d=(r,e,t,c)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let i of p(e))!f.call(r,i)&&i!==t&&o(r,i,{get:()=>e[i],enumerable:!(c=s(e,i))||c.enumerable});return r};var g=(r,e,t)=>(t=r!=null?h(m(r)):{},d(e||!r||!r.__esModule?o(t,\"default\",{value:r,enumerable:!0}):t,r)),v=r=>d(o({},\"__esModule\",{value:!0}),r);var a=b((_,l)=>{l.exports=_jsx_runtime});var j={};x(j,{default:()=>k,frontmatter:()=>y});var n=g(a()),y={title:\"useArray\",excerpt:\"\\u5B9E\\u73B0\\u4E00\\u4E2A\\u7BA1\\u7406\\u9879\\u76EE\\u6570\\u7EC4\\u7684 Hook\"};function u(r){let e=Object.assign({p:\"p\",code:\"code\",pre:\"pre\",h2:\"h2\",ul:\"ul\",li:\"li\"},r.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.p,{children:[\"\\u5B9E\\u73B0\\u4E00\\u4E2A \",(0,n.jsx)(e.code,{children:\"useArray\"}),\" Hook\\uFF0C\\u5B83\\u7BA1\\u7406\\u4E00\\u4E2A\\u5E26\\u6709\\u9644\\u52A0\\u5B9E\\u7528\\u65B9\\u6CD5\\u7684\\u9879\\u76EE\\u6570\\u7EC4\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u4F7F\\u7528 \",(0,n.jsx)(e.code,{children:\"useArray\"}),\" \\u6BD4\\u4F7F\\u7528\\u666E\\u901A\\u7684 \",(0,n.jsx)(e.code,{children:\"useState\"}),\" \\u66F4\\u65B9\\u4FBF\\uFF0C\\u56E0\\u4E3A\\u5728\\u540E\\u4E00\\u79CD\\u60C5\\u51B5\\u4E0B\\uFF0C\\u4F60\\u603B\\u662F\\u9700\\u8981\\u521B\\u5EFA\\u4E00\\u4E2A\\u65B0\\u6570\\u7EC4\\uFF0C\\u6539\\u53D8\\u5B83\\uFF0C\\u7136\\u540E\\u8BBE\\u7F6E\\u72B6\\u6001\\u6765\\u4F7F\\u7528\\u65B0\\u6570\\u7EC4\\uFF0C\\u8FD9\\u53EF\\u80FD\\u975E\\u5E38\\u9EBB\\u70E6\\u3002\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u8BE5 Hook \\u5E94\\u8BE5\\u53EF\\u4EE5\\u901A\\u7528\\u5730\\u5904\\u7406\\u4EFB\\u4F55\\u7C7B\\u578B\\u7684\\u6570\\u7EC4\\u3002\"}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-jsx\",children:`const defaultValue = ['apple', 'banana'];\n\nexport default function Component() {\n  const { array, push, update, remove, filter, set, clear } = useArray();\n\n  return (\n    <div>\n      <p>Fruits: {array.join(', ')}</p>\n      <button onClick={() => push('orange')}>Add orange</button>\n      <button onClick={() => update(1, 'grape')}>\n        Change second item to grape\n      </button>\n      <button onClick={() => remove(0)}>Remove first</button>\n      <button onClick={() => filter((fruit) => fruit.includes('a'))}>\n        Keep fruits containing 'a'\n      </button>\n      <button onClick={() => set(defaultValue)}>Reset</button>\n      <button onClick={clear}>Clear list</button>\n    </div>\n  );\n}\n`})}),`\n`,(0,n.jsx)(e.h2,{children:\"\\u53C2\\u6570\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"defaultValue\"}),\": \\u9879\\u76EE\\u7684\\u521D\\u59CB\\u6570\\u7EC4\"]}),`\n`]}),`\n`,(0,n.jsx)(e.h2,{children:\"\\u8FD4\\u56DE\\u503C\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\u8BE5 Hook \\u8FD4\\u56DE\\u4E00\\u4E2A\\u5177\\u6709\\u4EE5\\u4E0B\\u5C5E\\u6027\\u7684\\u5BF9\\u8C61\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"array\"}),\": \\u5F53\\u524D\\u7684\\u9879\\u76EE\\u6570\\u7EC4\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"set: (newArray) => void\"}),\": \\u4E00\\u4E2A\\u8BBE\\u7F6E\\u9879\\u76EE\\u6570\\u7EC4\\u7684\\u51FD\\u6570\\u3002\\u8FD9\\u5FC5\\u987B\\u4E0E \",(0,n.jsx)(e.code,{children:\"useState\"}),\" \\u7684 setter \\u51FD\\u6570\\u7684\\u7C7B\\u578B\\u76F8\\u540C\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"push: (item) => void\"}),\": \\u4E00\\u4E2A\\u5C06\\u9879\\u76EE\\u6DFB\\u52A0\\u5230\\u6570\\u7EC4\\u672B\\u5C3E\\u7684\\u51FD\\u6570\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"remove: (index: number) => void\"}),\": \\u4E00\\u4E2A\\u901A\\u8FC7 \",(0,n.jsx)(e.code,{children:\"index\"}),\" \\u4ECE\\u6570\\u7EC4\\u4E2D\\u5220\\u9664\\u9879\\u76EE\\u7684\\u51FD\\u6570\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"filter: (predicate) => void\"}),\": \\u4E00\\u4E2A\\u57FA\\u4E8E\\u8C13\\u8BCD\\u51FD\\u6570\\u8FC7\\u6EE4\\u6570\\u7EC4\\u7684\\u51FD\\u6570\\u3002\",(0,n.jsx)(e.code,{children:\"predicate\"}),\" \\u5FC5\\u987B\\u4E0E \",(0,n.jsx)(e.code,{children:\"Array.prototype.filter\"}),\" \\u7684\\u53C2\\u6570\\u7C7B\\u578B\\u76F8\\u540C\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"update: (index: number, newItem) => void\"}),\": \\u4E00\\u4E2A\\u66FF\\u6362\\u6570\\u7EC4\\u4E2D \",(0,n.jsx)(e.code,{children:\"index\"}),\" \\u5904\\u7684\\u9879\\u76EE\\u7684\\u51FD\\u6570\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"clear: () => void\"}),\": \\u4E00\\u4E2A\\u6E05\\u9664\\u6570\\u7EC4\\u7684\\u51FD\\u6570\"]}),`\n`]})]})}function C(r={}){let{wrapper:e}=r.components||{};return e?(0,n.jsx)(e,Object.assign({},r,{children:(0,n.jsx)(u,r)})):u(r)}var k=C;return v(j);})();\n;return Component;",
  "info": {
    "excerpt": "实现一个管理项目数组的 Hook",
    "title": "useArray"
  },
  "solution": "var Component=(()=>{var h=Object.create;var c=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var x=Object.getPrototypeOf,A=Object.prototype.hasOwnProperty;var f=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),b=(r,e)=>{for(var t in e)c(r,t,{get:e[t],enumerable:!0})},s=(r,e,t,l)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let n of y(e))!A.call(r,n)&&n!==t&&c(r,n,{get:()=>e[n],enumerable:!(l=p(e,n))||l.enumerable});return r};var T=(r,e,t)=>(t=r!=null?h(x(r)):{},s(e||!r||!r.__esModule?c(t,\"default\",{value:r,enumerable:!0}):t,r)),k=r=>s(c({},\"__esModule\",{value:!0}),r);var i=f((U,o)=>{o.exports=_jsx_runtime});var S={};b(S,{default:()=>R});var a=T(i());var u=MDXCodeBlock;var d=`import { Dispatch, SetStateAction, useCallback, useState } from 'react';\n\ninterface UseArrayReturn<T> {\n  array: T[];\n  set: Dispatch<SetStateAction<T[]>>;\n  push: (element: T) => void;\n  filter: (callback: (value: T, index: number, array: T[]) => boolean) => void;\n  update: (index: number, newElement: T) => void;\n  remove: (index: number) => void;\n  clear: () => void;\n}\n\nexport default function useArray<T>(defaultValue: T[]): UseArrayReturn<T> {\n  const [array, setArray] = useState(defaultValue);\n\n  const push: UseArrayReturn<T>['push'] = useCallback(\n    (element) => setArray((a) => [...a, element]),\n    [],\n  );\n\n  const filter: UseArrayReturn<T>['filter'] = useCallback(\n    (callback) => setArray((a) => a.filter(callback)),\n    [],\n  );\n\n  const update: UseArrayReturn<T>['update'] = useCallback(\n    (index, newElement) =>\n      setArray((a) => [\n        ...a.slice(0, index),\n        newElement,\n        ...a.slice(index + 1, a.length),\n      ]),\n    [],\n  );\n\n  const remove: UseArrayReturn<T>['remove'] = useCallback(\n    (index) =>\n      setArray((a) => [...a.slice(0, index), ...a.slice(index + 1, a.length)]),\n    [],\n  );\n\n  const clear: UseArrayReturn<T>['clear'] = useCallback(() => setArray([]), []);\n\n  return { array, set: setArray, push, filter, update, remove, clear };\n}\n`;function m(r){let e=Object.assign({h2:\"h2\",p:\"p\",code:\"code\"},r.components);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.h2,{children:\"\\u89E3\\u51B3\\u65B9\\u6848\"}),`\n`,(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.code,{children:\"useArray\"}),\" hook \\u53EF\\u4EE5\\u901A\\u8FC7\\u5C06\\u6570\\u7EC4\\u5B58\\u50A8\\u5728 \",(0,a.jsx)(e.code,{children:\"useState\"}),\" \\u72B6\\u6001\\u4E2D\\u6765\\u5B9E\\u73B0\\uFF0C\\u5E76\\u6839\\u636E\\u72B6\\u6001\\u7684 setter \\u51FD\\u6570\\u5B9A\\u4E49\\u5B9E\\u7528\\u7A0B\\u5E8F\\u65B9\\u6CD5\\uFF0C\\u4F7F\\u7528 JavaScript \\u7684\\u5185\\u7F6E\\u6570\\u7EC4\\u65B9\\u6CD5\\u6765\\u64CD\\u4F5C\\u6570\\u7EC4\\u3002\"]}),`\n`,(0,a.jsxs)(e.p,{children:[\"\\u8BF7\\u8BB0\\u4F4F\\u5C06\\u5B9E\\u7528\\u7A0B\\u5E8F\\u65B9\\u6CD5\\u5305\\u88C5\\u5728 \",(0,a.jsx)(e.code,{children:\"useCallback\"}),\" \\u4E2D\\uFF0C\\u4EE5\\u9632\\u6B62\\u8C03\\u7528\\u7EC4\\u4EF6\\u4E0D\\u5FC5\\u8981\\u7684\\u91CD\\u65B0\\u6E32\\u67D3\\u3002\"]}),`\n`,(0,a.jsx)(u,{children:d}),`\n`,(0,a.jsx)(e.h2,{children:\"\\u8FB9\\u7F18\\u60C5\\u51B5\"}),`\n`,(0,a.jsx)(e.p,{children:\"\\u786E\\u4FDD\\u60A8\\u5B9E\\u73B0\\u7684\\u5B9E\\u7528\\u7A0B\\u5E8F\\u65B9\\u6CD5\\u4EE5\\u4E0D\\u53EF\\u53D8\\u7684\\u65B9\\u5F0F\\u4FEE\\u6539\\u6570\\u7EC4\\uFF0C\\u56E0\\u4E3A React \\u4E2D\\u7684\\u72B6\\u6001\\u4E0D\\u5E94\\u88AB\\u66F4\\u6539\\u3002\"})]})}function C(r={}){let{wrapper:e}=r.components||{};return e?(0,a.jsx)(e,Object.assign({},r,{children:(0,a.jsx)(m,r)})):m(r)}var R=C;return k(S);})();\n;return Component;"
}