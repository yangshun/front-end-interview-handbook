{
  "description": "var Component=(()=>{var s=Object.create;var l=Object.defineProperty;var u=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var p=Object.getPrototypeOf,y=Object.prototype.hasOwnProperty;var j=(c,e)=>()=>(e||c((e={exports:{}}).exports,e),e.exports),g=(c,e)=>{for(var r in e)l(c,r,{get:e[r],enumerable:!0})},i=(c,e,r,d)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let t of m(e))!y.call(c,t)&&t!==r&&l(c,t,{get:()=>e[t],enumerable:!(d=u(e,t))||d.enumerable});return c};var x=(c,e,r)=>(r=c!=null?s(p(c)):{},i(e||!c||!c.__esModule?l(r,\"default\",{value:c,enumerable:!0}):r,c)),f=c=>i(l({},\"__esModule\",{value:!0}),c);var a=j((N,o)=>{o.exports=_jsx_runtime});var b={};g(b,{default:()=>M,frontmatter:()=>B});var n=x(a()),B={title:\"\\u6309\\u2026\\u8BA1\\u6570\",excerpt:\"\\u5B9E\\u73B0\\u4E00\\u4E2A\\u51FD\\u6570\\uFF0C\\u8BE5\\u51FD\\u6570\\u6839\\u636E\\u51FD\\u6570\\u6216\\u5C5E\\u6027\\u540D\\u79F0\\u8BA1\\u7B97\\u503C\\u5728\\u6570\\u7EC4\\u4E2D\\u51FA\\u73B0\\u7684\\u6B21\\u6570\\u3002\"};function h(c){let e=Object.assign({p:\"p\",code:\"code\",pre:\"pre\",h2:\"h2\",ol:\"ol\",li:\"li\",em:\"em\",ul:\"ul\",a:\"a\"},c.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.p,{children:[\"\\u5B9E\\u73B0\\u4E00\\u4E2A\\u51FD\\u6570 \",(0,n.jsx)(e.code,{children:\"countBy(array, iteratee)\"}),\"\\uFF0C\\u8BE5\\u51FD\\u6570\\u521B\\u5EFA\\u4E00\\u4E2A\\u5BF9\\u8C61\\uFF0C\\u8BE5\\u5BF9\\u8C61\\u7684\\u952E\\u7531\\u901A\\u8FC7 \",(0,n.jsx)(e.code,{children:\"iteratee\"}),\" \\u8FD0\\u884C \",(0,n.jsx)(e.code,{children:\"array\"}),\" \\u7684\\u6BCF\\u4E2A\\u5143\\u7D20\\u7684\\u7ED3\\u679C\\u751F\\u6210\\u3002\\u6BCF\\u4E2A\\u952E\\u7684\\u5BF9\\u5E94\\u503C\\u662F \",(0,n.jsx)(e.code,{children:\"iteratee\"}),\" \\u8FD4\\u56DE\\u8BE5\\u952E\\u7684\\u6B21\\u6570\\u3002\"]}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-js\",children:`countBy(array, iteratee);\n`})}),`\n`,(0,n.jsx)(e.h2,{children:\"\\u53C2\\u6570\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"array\"}),\" \",(0,n.jsx)(e.em,{children:\"(Array)\"}),\": \\u8981\\u8FED\\u4EE3\\u7684\\u6570\\u7EC4\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"iteratee\"}),\" \",(0,n.jsx)(e.em,{children:\"(Function)\"}),\": \\u7528\\u4E8E\\u8F6C\\u6362\\u5143\\u7D20\\u7684 iteratee \\u51FD\\u6570\\u3002\\u8BE5\\u51FD\\u6570\\u4F7F\\u7528\\u4E00\\u4E2A\\u53C2\\u6570\\u8C03\\u7528\\uFF1A\",(0,n.jsx)(e.em,{children:\"(value)\"}),\"\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.h2,{children:\"\\u8FD4\\u56DE\\u503C\"}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.em,{children:(0,n.jsx)(e.code,{children:\"(Object)\"})}),\": \\u8FD4\\u56DE\\u7EC4\\u6210\\u7684\\u805A\\u5408\\u5BF9\\u8C61\\u3002\"]}),`\n`,(0,n.jsx)(e.h2,{children:\"\\u4F8B\\u5B50\"}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-js\",children:`countBy([6.1, 4.2, 6.3], Math.floor);\n// => { '4': 1, '6': 2 }\n\ncountBy([{ n: 3 }, { n: 5 }, { n: 3 }], (o) => o.n);\n// => { '3': 2, '5': 1 }\n`})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5F53 \",(0,n.jsx)(e.code,{children:\"array\"}),\" \\u4E3A\\u7A7A\\u65F6\\uFF0C\\u8BE5\\u51FD\\u6570\\u5E94\\u8FD4\\u56DE \",\"\\uFF0C\\u5E76\\u5C06 null / undefined \\u952E\\u5728\\u901A\\u8FC7 iteratee \\u540E\\u8FDB\\u884C\\u5904\\u7406\\u3002\"]}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-js\",children:`countBy([], (o) => o); // => {}\n\ncountBy([{ n: 1 }, { n: 2 }], (o) => o.m); // => { undefined: 2 }\n`})}),`\n`,(0,n.jsx)(e.h2,{children:\"\\u8D44\\u6E90\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:(0,n.jsxs)(e.a,{href:\"https://lodash.com/docs/#countBy\",children:[\"Lodash \",(0,n.jsx)(e.code,{children:\"_.countBy\"})]})}),`\n`]})]})}function _(c={}){let{wrapper:e}=c.components||{};return e?(0,n.jsx)(e,Object.assign({},c,{children:(0,n.jsx)(h,c)})):h(c)}var M=_;return f(b);})();\n;return Component;",
  "files": {
    "/package.json": "{\n  \"name\": \"@gfe-questions/count-by\",\n  \"version\": \"0.0.1\",\n  \"main\": \"/src/count-by.ts\",\n  \"devDependencies\": {\n    \"@types/jest\": \"29.5.0\",\n    \"typescript\": \"5.0.2\"\n  }\n}\n",
    "/tsconfig.json": "{\n  \"include\": [\"./**/*\"],\n  \"compilerOptions\": {\n    \"strict\": true,\n    \"esModuleInterop\": true,\n    \"lib\": [\"dom\", \"dom.iterable\", \"esnext\"],\n    \"jsx\": \"react-jsx\",\n    \"target\": \"es2020\"\n  }\n}\n",
    "/src/count-by.run.test.ts": "import countBy from './count-by';\n\ndescribe('countBy', () => {\n  test('empty array', () => {\n    expect(countBy([], Math.floor)).toEqual({});\n  });\n\n  test('single-element arrays', () => {\n    expect(countBy([6.1], Math.floor)).toEqual({ 6: 1 });\n  });\n\n  test('two-element arrays', () => {\n    expect(countBy([6.1, 4.2], Math.floor)).toEqual({ 4: 1, 6: 1 });\n  });\n});\n",
    "/src/count-by.submit.test.ts": "import countBy from './count-by';\n\ndescribe('countBy', () => {\n  test('empty array', () => {\n    expect(countBy([], Math.floor)).toEqual({});\n  });\n\n  test('undefined keys', () => {\n    expect(countBy([{ n: 1 }, { n: 2 }], (o: any) => o.m)).toEqual({\n      undefined: 2,\n    });\n  });\n\n  describe('function iteratees', () => {\n    test('single-element arrays', () => {\n      expect(countBy([6.1], Math.floor)).toEqual({ 6: 1 });\n    });\n\n    test('two-element arrays', () => {\n      expect(countBy([6.1, 4.2], Math.floor)).toEqual({ 4: 1, 6: 1 });\n    });\n\n    test('multiple element arrays', () => {\n      expect(countBy([6.1, 4.2, 6.3], Math.floor)).toEqual({ 4: 1, 6: 2 });\n    });\n\n    test('keys that are also properties', () => {\n      expect(\n        countBy(['one', 'two', 'three'], (val: string) => 'length'),\n      ).toEqual({\n        length: 3,\n      });\n    });\n  });\n\n  test('does not mutate the original array', () => {\n    const arr = [6.1, 4.2, 6.3];\n    const copy = arr.slice();\n    const result = countBy(arr, Math.floor);\n    expect(result).toEqual({ 4: 1, 6: 2 });\n    expect(arr).toEqual(copy); // Ensure original array is unchanged\n  });\n});\n",
    "/src/count-by.ts": "export default function countBy<T>(\n  array: Array<T>,\n  iteratee: (value: T) => number | string | undefined,\n): Record<string, number> {\n  const result: Record<string, number> = {};\n\n  for (const element of array) {\n    const key = String(iteratee(element));\n    if (!Object.prototype.hasOwnProperty.call(result, key)) {\n      result[key] = 0;\n    }\n\n    result[key]++;\n  }\n\n  return result;\n}\n"
  },
  "metadata": {
    "access": "standard",
    "author": null,
    "companies": [],
    "created": 1690416000,
    "difficulty": "medium",
    "duration": 15,
    "excerpt": "实现一个函数，该函数根据函数或属性名称计算值在数组中出现的次数。",
    "featured": false,
    "format": "javascript",
    "frameworkDefault": null,
    "frameworks": [],
    "href": "/questions/javascript/count-by",
    "importance": "low",
    "languages": [
      "js",
      "ts"
    ],
    "nextQuestions": [],
    "published": true,
    "ranking": 100,
    "similarQuestions": [
      "group-by"
    ],
    "slug": "count-by",
    "subtitle": null,
    "title": "按…计数",
    "topics": []
  },
  "skeleton": {
    "js": "/**\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns the composed aggregate object.\n */\nexport default function countBy(array, iteratee) {\n  throw 'Not implemented!';\n}",
    "ts": "export default function countBy<T>(\n  array: Array<T>,\n  iteratee: (value: T) => number | string,\n): Record<string, number> {\n  throw 'Not implemented!';\n}"
  },
  "solution": "var Component=(()=>{var p=Object.create;var c=Object.defineProperty;var g=Object.getOwnPropertyDescriptor;var k=Object.getOwnPropertyNames;var b=Object.getPrototypeOf,j=Object.prototype.hasOwnProperty;var x=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),B=(r,e)=>{for(var n in e)c(r,n,{get:e[n],enumerable:!0})},s=(r,e,n,l)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let o of k(e))!j.call(r,o)&&o!==n&&c(r,o,{get:()=>e[o],enumerable:!(l=g(e,o))||l.enumerable});return r};var O=(r,e,n)=>(n=r!=null?p(b(r)):{},s(e||!r||!r.__esModule?c(n,\"default\",{value:r,enumerable:!0}):n,r)),T=r=>s(c({},\"__esModule\",{value:!0}),r);var u=x((F,i)=>{i.exports=_jsx_runtime});var C={};B(C,{default:()=>M});var t=O(u());var a=MDXCodeBlock;var d=`/**\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns the composed aggregate object.\n */\nexport default function countBy(array, iteratee) {\n  const result = {};\n\n  for (const element of array) {\n    const key = String(iteratee(element));\n    if (!Object.prototype.hasOwnProperty.call(result, key)) {\n      result[key] = 0;\n    }\n\n    result[key]++;\n  }\n\n  return result;\n}\n`;var y=`export default function countBy<T>(\n  array: Array<T>,\n  iteratee: (value: T) => number | string | undefined,\n): Record<string, number> {\n  const result: Record<string, number> = {};\n\n  for (const element of array) {\n    const key = String(iteratee(element));\n    if (!Object.prototype.hasOwnProperty.call(result, key)) {\n      result[key] = 0;\n    }\n\n    result[key]++;\n  }\n\n  return result;\n}\n`;var h=`/**\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns the composed aggregate object.\n */\nexport default function countBy(array, iteratee) {\n  const result = Object.create(null);\n\n  for (const element of array) {\n    const key = String(iteratee(element));\n    result[key] ??= 0;\n    result[key]++;\n  }\n\n  return result;\n}\n`;var m=`export default function countBy<T>(\n  array: Array<T>,\n  iteratee: (value: T) => number | string | undefined,\n): Record<string, number> {\n  const result: Record<string, number> = Object.create(null);\n  for (const element of array) {\n    const key = String(iteratee(element));\n    result[key] ??= 0;\n    result[key]++;\n  }\n  return result;\n}\n`;function f(r){let e=Object.assign({h2:\"h2\",h3:\"h3\",ol:\"ol\",li:\"li\",code:\"code\",p:\"p\",a:\"a\",ul:\"ul\"},r.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.h2,{children:\"\\u89E3\\u51B3\\u65B9\\u6848\"}),`\n`,(0,t.jsx)(e.h3,{children:\"\\u65B9\\u6CD5 1\\uFF1A\\u57FA\\u672C\\u51FD\\u6570\\u7684\\u6807\\u51C6\\u65B9\\u6CD5\"}),`\n`,(0,t.jsxs)(e.ol,{children:[`\n`,(0,t.jsxs)(e.li,{children:[\"\\u521B\\u5EFA\\u4E00\\u4E2A\\u7A7A\\u7684 \",(0,t.jsx)(e.code,{children:\"result\"}),\" \\u5BF9\\u8C61\\uFF0C\\u7528\\u4E8E\\u5B58\\u50A8\\u6BCF\\u4E2A\\u952E\\u7684\\u51FA\\u73B0\\u6B21\\u6570\\u3002\"]}),`\n`,(0,t.jsxs)(e.li,{children:[\"\\u904D\\u5386\\u6570\\u7EC4\\uFF0C\\u901A\\u8FC7\\u8C03\\u7528 \",(0,t.jsx)(e.code,{children:\"iteratee(element)\"}),\" \\u786E\\u5B9A\\u6BCF\\u4E2A\\u5143\\u7D20\\u7684\\u952E\\u3002\\u5982\\u679C\\u8BE5\\u952E\\u5728 \",(0,t.jsx)(e.code,{children:\"result\"}),\" \\u5BF9\\u8C61\\u4E2D\\u4E0D\\u5B58\\u5728\\uFF0C\\u5219\\u5C06\\u8BE5\\u952E\\u7684\\u503C\\u8BBE\\u7F6E\\u4E3A 0\\u3002\\u63A5\\u4E0B\\u6765\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u589E\\u52A0\\u8BE5\\u952E\\u7684\\u503C\\u3002\"]}),`\n`]}),`\n`,(0,t.jsx)(a,{languages:{jsx:d,tsx:y}}),`\n`,(0,t.jsx)(e.h3,{children:\"\\u65B9\\u6CD5 2\\uFF1A\\u4F7F\\u7528\\u7A7A\\u503C\\u5408\\u5E76\\u8D4B\\u503C\\u8FD0\\u7B97\\u7B26\"}),`\n`,(0,t.jsxs)(e.p,{children:[\"\\u53E6\\u4E00\\u79CD\\u589E\\u52A0 \",(0,t.jsx)(e.code,{children:\"result\"}),\" \\u8BA1\\u6570\\u5668\\u7684\\u65B9\\u6CD5\\u662F\\u4F7F\\u7528 \",(0,t.jsx)(e.a,{href:\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Nullish_coalescing_assignment\",children:\"\\u7A7A\\u503C\\u5408\\u5E76\\u8D4B\\u503C\\u8FD0\\u7B97\\u7B26\"}),\" \\uFF0C\\u5982\\u679C \",(0,t.jsx)(e.code,{children:\"key\"}),\" \\u5728 \",(0,t.jsx)(e.code,{children:\"result\"}),\" \\u4E2D\\u4E0D\\u5B58\\u5728\\uFF0C\\u5219\\u5C06\\u5176\\u503C\\u8BBE\\u7F6E\\u4E3A 0\\u3002\\u8BF7\\u6CE8\\u610F\\uFF0C\\u4F7F\\u7528\\u7A7A\\u503C\\u5408\\u5E76\\u8D4B\\u503C\\u8FD0\\u7B97\\u7B26\\u610F\\u5473\\u7740\\u60A8\\u53EF\\u80FD\\u6B63\\u5728\\u8BBF\\u95EE\\u7EE7\\u627F\\u7684\\u5C5E\\u6027\\uFF0C\\u8FD9\\u662F\\u4E0D\\u5E0C\\u671B\\u7684\\uFF0C\\u4F46\\u7531\\u4E8E\\u8BE5\\u5BF9\\u8C61\\u662F\\u901A\\u8FC7 \",(0,t.jsx)(e.code,{children:\"Object.create(null)\"}),\" \\u521B\\u5EFA\\u7684\\uFF0C\\u56E0\\u6B64\\u4E0D\\u4F1A\\u6709\\u7EE7\\u627F\\u7684\\u5C5E\\u6027\\uFF0C\\u53EF\\u4EE5\\u5B89\\u5168\\u4F7F\\u7528\\u3002\"]}),`\n`,(0,t.jsx)(a,{languages:{jsx:h,tsx:m}}),`\n`,(0,t.jsx)(e.h2,{children:\"\\u8D44\\u6E90\"}),`\n`,(0,t.jsxs)(e.ul,{children:[`\n`,(0,t.jsx)(e.li,{children:(0,t.jsxs)(e.a,{href:\"https://lodash.com/docs/#countBy\",children:[\"Lodash \",(0,t.jsx)(e.code,{children:\"_.countBy\"})]})}),`\n`]})]})}function S(r={}){let{wrapper:e}=r.components||{};return e?(0,t.jsx)(e,Object.assign({},r,{children:(0,t.jsx)(f,r)})):f(r)}var M=S;return T(C);})();\n;return Component;",
  "workspace": {
    "main": "/src/count-by.ts",
    "run": "/src/count-by.run.test.ts",
    "submit": "/src/count-by.submit.test.ts"
  }
}