{
  "description": "var Component=(()=>{var l=Object.create;var o=Object.defineProperty;var s=Object.getOwnPropertyDescriptor;var h=Object.getOwnPropertyNames;var y=Object.getPrototypeOf,m=Object.prototype.hasOwnProperty;var x=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),j=(r,e)=>{for(var t in e)o(r,t,{get:e[t],enumerable:!0})},p=(r,e,t,d)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let n of h(e))!m.call(r,n)&&n!==t&&o(r,n,{get:()=>e[n],enumerable:!(d=s(e,n))||d.enumerable});return r};var A=(r,e,t)=>(t=r!=null?l(y(r)):{},p(e||!r||!r.__esModule?o(t,\"default\",{value:r,enumerable:!0}):t,r)),_=r=>p(o({},\"__esModule\",{value:!0}),r);var u=x((R,a)=>{a.exports=_jsx_runtime});var b={};j(b,{default:()=>v,frontmatter:()=>f});var c=A(u()),f={title:\"Array.prototype.reduce\",excerpt:\"\\u5B9E\\u73B0 Array.prototype.reduce() \\u65B9\\u6CD5\"};function i(r){let e=Object.assign({p:\"p\",code:\"code\",h2:\"h2\",pre:\"pre\",a:\"a\"},r.components);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(e.p,{children:[(0,c.jsx)(e.code,{children:\"Array.prototype.reduce\"}),\" \\u662F\\u4E00\\u79CD\\u901A\\u8FC7\\u5728\\u6570\\u7EC4\\u7684\\u6BCF\\u4E2A\\u5143\\u7D20\\u4E0A\\u8C03\\u7528\\u201Creducer\\u201D\\u56DE\\u8C03\\u51FD\\u6570\\u6765\\u201C\\u51CF\\u5C11\\u201D\\u6570\\u7EC4\\u4E2D\\u5143\\u7D20\\u7684\\u65B9\\u6CD5\\uFF0C\\u8BE5\\u56DE\\u8C03\\u51FD\\u6570\\u6309\\u987A\\u5E8F\\u6267\\u884C\\uFF0C\\u5E76\\u4F20\\u5165\\u524D\\u4E00\\u4E2A\\u5143\\u7D20\\u8BA1\\u7B97\\u7684\\u8FD4\\u56DE\\u503C\\u3002\\u5728\\u6570\\u7EC4\\u7684\\u6240\\u6709\\u5143\\u7D20\\u4E0A\\u8FD0\\u884C reducer \\u7684\\u6700\\u7EC8\\u7ED3\\u679C\\u662F\\u4E00\\u4E2A\\u5355\\u4E00\\u7684\\u503C\\u3002\"]}),`\n`,(0,c.jsxs)(e.p,{children:[\"\\u5B9E\\u73B0 \",(0,c.jsx)(e.code,{children:\"Array.prototype.reduce\"}),\"\\u3002\\u4E3A\\u4E86\\u907F\\u514D\\u8986\\u76D6\\u81EA\\u52A8\\u8BC4\\u5206\\u5668\\u6B63\\u5728\\u4F7F\\u7528\\u7684\\u5B9E\\u9645 \",(0,c.jsx)(e.code,{children:\"Array.prototype.reduce\"}),\"\\uFF0C\\u6211\\u4EEC\\u5C06\\u628A\\u5B83\\u5B9E\\u73B0\\u4E3A \",(0,c.jsx)(e.code,{children:\"Array.prototype.myReduce\"}),\"\\u3002\"]}),`\n`,(0,c.jsx)(e.h2,{children:\"\\u4F8B\\u5B50\"}),`\n`,(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:\"language-js\",children:`[1, 2, 3].myReduce((prev, curr) => prev + curr, 0); // 6\n[1, 2, 3].myReduce((prev, curr) => prev + curr, 4); // 10\n`})}),`\n`,(0,c.jsx)(e.h2,{children:\"\\u6CE8\\u610F\\u4E8B\\u9879\"}),`\n`,(0,c.jsxs)(e.p,{children:[\"\\u5173\\u4E8E \",(0,c.jsx)(e.code,{children:\"Array.prototype.reduce\"}),\" \\u51FD\\u6570\\u7684\\u5DE5\\u4F5C\\u65B9\\u5F0F\\u4EE5\\u53CA\\u4F20\\u9012\\u7ED9 reducer \\u56DE\\u8C03\\u7684\\u503C\\uFF0C\\u6709\\u4E00\\u4E9B\\u7EC6\\u5FAE\\u5DEE\\u522B\\u3002\\u5EFA\\u8BAE\\u60A8\\u5728\\u5C1D\\u8BD5\\u4E4B\\u524D\\u9605\\u8BFB \",(0,c.jsx)(e.a,{href:\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce\",children:\"MDN \\u6587\\u6863\"}),\" \\u4E0A\\u5173\\u4E8E \",(0,c.jsx)(e.code,{children:\"Array.prototype.reduce\"}),\" \\u7684\\u89C4\\u8303\\u3002\"]})]})}function g(r={}){let{wrapper:e}=r.components||{};return e?(0,c.jsx)(e,Object.assign({},r,{children:(0,c.jsx)(i,r)})):i(r)}var v=g;return _(b);})();\n;return Component;",
  "info": {
    "excerpt": "实现 Array.prototype.reduce() 方法",
    "title": "Array.prototype.reduce"
  },
  "solution": "var Component=(()=>{var k=Object.create;var c=Object.defineProperty;var f=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var V=Object.getPrototypeOf,b=Object.prototype.hasOwnProperty;var x=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),w=(r,e)=>{for(var i in e)c(r,i,{get:e[i],enumerable:!0})},d=(r,e,i,t)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let l of m(e))!b.call(r,l)&&l!==i&&c(r,l,{get:()=>e[l],enumerable:!(t=f(e,l))||t.enumerable});return r};var g=(r,e,i)=>(i=r!=null?k(V(r)):{},d(e||!r||!r.__esModule?c(i,\"default\",{value:r,enumerable:!0}):i,r)),I=r=>d(c({},\"__esModule\",{value:!0}),r);var u=x((v,o)=>{o.exports=_jsx_runtime});var O={};w(O,{default:()=>R});var n=g(u());var a=MDXCodeBlock;var h=`/**\n * @template T, U\n * @param {(previousValue: U, currentValue: T, currentIndex: number, array: T[]) => U} callbackFn\n * @param {U} [initialValue]\n * @return {Array<U>}\n */\nArray.prototype.myReduce = function (callbackFn, initialValue) {\n  const noInitialValue = initialValue === undefined;\n  const len = this.length;\n\n  if (noInitialValue && len === 0) {\n    throw new TypeError('Reduce of empty array with no initial value');\n  }\n\n  let acc = noInitialValue ? this[0] : initialValue;\n  let startingIndex = noInitialValue ? 1 : 0;\n\n  for (let k = startingIndex; k < len; k++) {\n    if (Object.hasOwn(this, k)) {\n      acc = callbackFn(acc, this[k], k, this);\n    }\n  }\n\n  return acc;\n};\n`;var s=`interface Array<T> {\n  myReduce<U>(\n    callbackFn: (\n      previousValue: U,\n      currentValue: T,\n      currentIndex: number,\n      array: T[],\n    ) => U,\n    initialValue?: U,\n  ): U;\n}\n\nArray.prototype.myReduce = function (callbackFn, initialValue) {\n  const noInitialValue = initialValue === undefined;\n  const len = this.length;\n\n  if (noInitialValue && len === 0) {\n    throw new TypeError('Reduce of empty array with no initial value');\n  }\n\n  let acc = noInitialValue ? this[0] : initialValue;\n  let startingIndex = noInitialValue ? 1 : 0;\n\n  for (let k = startingIndex; k < len; k++) {\n    if (Object.hasOwn(this, k)) {\n      acc = callbackFn(acc, this[k], k, this);\n    }\n  }\n\n  return acc;\n};\n`;var p=`Array.prototype.myReduce = function (callbackFn, initialValue) {\n  const len = this.length;\n\n  if (\n    typeof callbackFn !== 'function' ||\n    !callbackFn.call ||\n    !callbackFn.apply\n  ) {\n    throw new TypeError(\\`\\${callbackFn} is not a function\\`);\n  }\n\n  if (len === 0 && initialValue === undefined) {\n    throw new TypeError('Reduce of empty array with no initial value');\n  }\n\n  let k = 0;\n  let accumulator = undefined;\n\n  if (initialValue !== undefined) {\n    accumulator = initialValue;\n  } else {\n    let kPresent = false;\n    while (!kPresent && k < len) {\n      // Ignore index if value is not defined for index (e.g. in sparse arrays).\n      kPresent = Object.hasOwn(this, k);\n      if (kPresent) {\n        accumulator = this[k];\n      }\n      k = k + 1;\n    }\n\n    if (!kPresent) {\n      throw new TypeError('Reduce of empty array with no initial value');\n    }\n  }\n\n  while (k < len) {\n    const kPresent = Object.hasOwn(this, k);\n    if (kPresent) {\n      const kValue = this[k];\n      accumulator = callbackFn(accumulator, kValue, k, this);\n    }\n    k = k + 1;\n  }\n\n  return accumulator;\n};\n`;function y(r){let e=Object.assign({p:\"p\",ul:\"ul\",li:\"li\",code:\"code\",h2:\"h2\",pre:\"pre\",a:\"a\"},r.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.p,{children:\"\\u8FD9\\u4E2A\\u95EE\\u9898\\u4E4D\\u4E00\\u770B\\u53EF\\u80FD\\u5F88\\u7B80\\u5355\\uFF0C\\u4F46\\u5176\\u4E2D\\u7684\\u7EC6\\u5FAE\\u5DEE\\u522B\\u4F7F\\u5F97\\u8FD9\\u4E2A\\u95EE\\u9898\\u6BD4\\u8868\\u9762\\u4E0A\\u770B\\u8D77\\u6765\\u66F4\\u68D8\\u624B\\u3002\\u4E86\\u89E3\\u8FD9\\u4E9B\\u7EC6\\u5FAE\\u5DEE\\u522B\\u53EF\\u4EE5\\u533A\\u5206\\u8D44\\u6DF1\\u5019\\u9009\\u4EBA\\uFF0C\\u5E76\\u4E3A\\u4F60\\u52A0\\u5206\\u3002\\u4F60\\u662F\\u5426\\u77E5\\u9053\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"\\u5F52\\u7EA6\\u5668\\u56DE\\u8C03\\u51FD\\u6570\\u5206\\u522B\\u5C06 \",(0,n.jsx)(e.code,{children:\"currentIndex\"}),\" \\u548C \",(0,n.jsx)(e.code,{children:\"array\"}),\" \\u4F5C\\u4E3A\\u7B2C\\u4E09\\u4E2A\\u548C\\u7B2C\\u56DB\\u4E2A\\u53C2\\u6570\\u4F20\\u9012\\uFF1F\"]}),`\n`,(0,n.jsx)(e.li,{children:\"\\u5982\\u679C\\u6CA1\\u6709\\u5411 reduce \\u51FD\\u6570\\u63D0\\u4F9B\\u521D\\u59CB\\u503C\\uFF0C\\u5219\\u4F7F\\u7528\\u7D22\\u5F15 0 \\u5904\\u7684\\u6570\\u7EC4\\u5143\\u7D20\\uFF0C\\u5E76\\u4E14\\u8FED\\u4EE3\\u4ECE\\u4E0B\\u4E00\\u4E2A\\u5143\\u7D20\\uFF08\\u7D22\\u5F15 1 \\u800C\\u4E0D\\u662F\\u7D22\\u5F15 0\\uFF09\\u5F00\\u59CB\\u3002\"}),`\n`]}),`\n`,(0,n.jsx)(e.h2,{children:\"\\u89E3\\u51B3\\u65B9\\u6848\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u8003\\u8651\\u5230\\u8FD9\\u4E9B\\u7EC6\\u5FAE\\u5DEE\\u522B\\uFF0C\\u5176\\u4F59\\u7684\\u5B9E\\u73B0\\u975E\\u5E38\\u7B80\\u5355\\u3002\\u5F53\\u6211\\u4EEC\\u5728\\u6570\\u7EC4\\uFF08\\u901A\\u8FC7 \",(0,n.jsx)(e.code,{children:\"this\"}),\"\\uFF09\\u4E2D\\u5FAA\\u73AF\\u65F6\\uFF0C\\u5BF9\\u6BCF\\u4E2A\\u6570\\u7EC4\\u5143\\u7D20\\u8C03\\u7528\\u56DE\\u8C03\\u51FD\\u6570\\uFF0C\\u5E76\\u4F7F\\u7528\\u4EE5\\u4E0B\\u53C2\\u6570\\uFF1A\",(0,n.jsx)(e.code,{children:\"acc\"}),\"\\u3001\",(0,n.jsx)(e.code,{children:\"element\"}),\"\\u3001\",(0,n.jsx)(e.code,{children:\"index\"}),\" \\u548C \",(0,n.jsx)(e.code,{children:\"this\"}),\"\\u3002\\u8FD4\\u56DE\\u7684\\u503C\\u5C06\\u6210\\u4E3A\\u65B0\\u7684 \",(0,n.jsx)(e.code,{children:\"acc\"}),\"\\uFF0C\\u4F20\\u9012\\u7ED9 \",(0,n.jsx)(e.code,{children:\"callbackFn\"}),\" \\u7684\\u4E0B\\u4E00\\u6B21\\u8C03\\u7528\\u3002\"]}),`\n`,(0,n.jsx)(a,{languages:{jsx:h,tsx:s}}),`\n`,(0,n.jsx)(e.h2,{children:\"\\u8FB9\\u7F18\\u60C5\\u51B5\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"\\u7A7A\\u6570\\u7EC4\\uFF0C\\u6709\\u548C\\u6CA1\\u6709 \",(0,n.jsx)(e.code,{children:\"initialValue\"}),\" \\u53C2\\u6570\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\u5355\\u503C\\u6570\\u7EC4\\uFF0C\\u6709\\u548C\\u6CA1\\u6709 \",(0,n.jsx)(e.code,{children:\"initialValue\"}),\" \\u53C2\\u6570\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\u5C06 \",(0,n.jsx)(e.code,{children:\"index\"}),\" \\u548C \",(0,n.jsx)(e.code,{children:\"array\"}),\" \\u4F20\\u9012\\u7ED9\\u5F52\\u7EA6\\u5668\\u56DE\\u8C03\\u51FD\\u6570\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\u7A00\\u758F\\u6570\\u7EC4\\uFF0C\\u4F8B\\u5982 \",(0,n.jsx)(e.code,{children:\"[1, 2, , 4]\"}),\"\\u3002\\u5728\\u904D\\u5386\\u6570\\u7EC4\\u65F6\\u5E94\\u5FFD\\u7565\\u7A7A\\u503C\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.h2,{children:\"\\u7B14\\u8BB0\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5728 reduce \\u56DE\\u8C03\\u4E2D\\u4FEE\\u6539\\u6570\\u7EC4\\u662F\\u4E00\\u4E2A\\u574F\\u4E3B\\u610F\\uFF0C\\u53EF\\u80FD\\u4F1A\\u5BFC\\u81F4\\u610F\\u60F3\\u4E0D\\u5230\\u7684\\u540E\\u679C\\u3002\\u63D0\\u5230\\u5728\\u56DE\\u8C03\\u4E2D\\u4FEE\\u6539\\u6570\\u7EC4\\u662F\\u53EF\\u80FD\\u7684\\uFF0C\\u8FD9\\u662F\\u4E00\\u4E2A\\u79EF\\u6781\\u7684\\u4FE1\\u53F7\\u3002\\u63D0\\u4F9B\\u7684\\u89E3\\u51B3\\u65B9\\u6848\\u9075\\u5FAA TC39 \\u89C4\\u8303\\uFF0C\\u7528\\u4E8E\\u6570\\u7EC4\\u4FEE\\u6539\\u573A\\u666F\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"reduce\"}),\" \\u5904\\u7406\\u7684\\u5143\\u7D20\\u8303\\u56F4\\u5728\\u8C03\\u7528\\u7B2C\\u4E00\\u4E2A\\u56DE\\u8C03\\u51FD\\u6570\\u4E4B\\u524D\\u8BBE\\u7F6E\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\u5728\\u8C03\\u7528 \",(0,n.jsx)(e.code,{children:\"reduce\"}),\" \\u5F00\\u59CB\\u540E\\u6DFB\\u52A0\\u5230\\u6570\\u7EC4\\u4E2D\\u7684\\u5143\\u7D20\\u5C06\\u4E0D\\u4F1A\\u88AB\\u56DE\\u8C03\\u8BBF\\u95EE\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\u5982\\u679C\\u66F4\\u6539\\u4E86\\u6570\\u7EC4\\u7684\\u73B0\\u6709\\u5143\\u7D20\\uFF0C\\u5219\\u4F20\\u9012\\u7ED9\\u56DE\\u8C03\\u7684\\u503C\\u5C06\\u662F \",(0,n.jsx)(e.code,{children:\"reduce\"}),\" \\u8BBF\\u95EE\\u5B83\\u4EEC\\u65F6\\u7684\\u503C\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\u5728\\u8C03\\u7528 \",(0,n.jsx)(e.code,{children:\"reduce\"}),\" \\u5F00\\u59CB\\u540E\\u4F46\\u5728\\u88AB\\u8BBF\\u95EE\\u4E4B\\u524D\\u5220\\u9664\\u7684\\u5143\\u7D20\\u4E0D\\u4F1A\\u88AB\\u8BBF\\u95EE\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.h2,{children:\"\\u5355\\u884C\\u89E3\\u51B3\\u65B9\\u6848\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4F60\\u53EF\\u4EE5\\u901A\\u8FC7\\u8FD9\\u6837\\u505A\\u6765\\u6B3A\\u9A97\\u81EA\\u52A8\\u8BC4\\u5206\\u7A0B\\u5E8F\\uFF1A\"}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-js\",children:`Array.prototype.myReduce = Array.prototype.reduce;\n`})}),`\n`,(0,n.jsx)(e.h2,{children:\"\\u89C4\\u8303\\u89E3\\u51B3\\u65B9\\u6848\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u8FD9\\u662F\\u4E00\\u4E2A\\u57FA\\u4E8E \",(0,n.jsxs)(e.a,{href:\"https://tc39.es/ecma262/multipage/indexed-collections.html#sec-array.prototype.reduce\",children:[(0,n.jsx)(e.code,{children:\"Array.prototype.reduce\"}),\" ECMAScript \\u89C4\\u8303\"]}),\" \\u7684\\u89E3\\u51B3\\u65B9\\u6848\\u3002\"]}),`\n`,(0,n.jsx)(a,{children:p}),`\n`,(0,n.jsx)(e.h2,{children:\"\\u8D44\\u6E90\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:(0,n.jsxs)(e.a,{href:\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce\",children:[(0,n.jsx)(e.code,{children:\"Array.prototype.reduce\"}),\" | MDN\"]})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsxs)(e.a,{href:\"https://tc39.es/ecma262/multipage/indexed-collections.html#sec-array.prototype.reduce\",children:[(0,n.jsx)(e.code,{children:\"Array.prototype.reduce\"}),\" ECMAScript \\u89C4\\u8303\"]})}),`\n`]})]})}function T(r={}){let{wrapper:e}=r.components||{};return e?(0,n.jsx)(e,Object.assign({},r,{children:(0,n.jsx)(y,r)})):y(r)}var R=T;return I(O);})();\n;return Component;"
}