{
  "description": "var Component=(()=>{var h=Object.create;var r=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var v=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var b=(a,e)=>()=>(e||a((e={exports:{}}).exports,e),e.exports),I=(a,e)=>{for(var l in e)r(a,l,{get:e[l],enumerable:!0})},i=(a,e,l,c)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let t of p(e))!u.call(a,t)&&t!==l&&r(a,t,{get:()=>e[t],enumerable:!(c=m(e,t))||c.enumerable});return a};var g=(a,e,l)=>(l=a!=null?h(v(a)):{},i(e||!a||!a.__esModule?r(l,\"default\",{value:a,enumerable:!0}):l,a)),x=a=>i(r({},\"__esModule\",{value:!0}),a);var d=b((w,s)=>{s.exports=_jsx_runtime});var R={};I(R,{default:()=>k,frontmatter:()=>j});var n=g(d()),j={title:\"\\u53EF\\u6062\\u590D\\u7684 Interval\",excerpt:\"\\u5B9E\\u73B0\\u4E00\\u4E2A\\u521B\\u5EFA\\u53EF\\u6062\\u590D interval \\u5BF9\\u8C61\\u7684\\u51FD\\u6570\"};function o(a){let e=Object.assign({p:\"p\",strong:\"strong\",a:\"a\",code:\"code\",ol:\"ol\",li:\"li\",pre:\"pre\",h2:\"h2\"},a.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u6CE8\\u610F\\uFF1A\"}),\" \\u5EFA\\u8BAE\\u5728\\u5C1D\\u8BD5\\u6B64\\u95EE\\u9898\\u4E4B\\u524D\\u5B8C\\u6210 \",(0,n.jsx)(e.a,{href:\"/questions/javascript/cancellable-interval\",children:\"\\u53EF\\u53D6\\u6D88\\u7684 Interval\"}),\" \\u95EE\\u9898\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5B9E\\u73B0\\u4E00\\u4E2A\\u51FD\\u6570 \",(0,n.jsx)(e.code,{children:\"createResumableInterval\"}),\"\\uFF0C\\u5176\\u884C\\u4E3A\\u7C7B\\u4F3C\\u4E8E \",(0,n.jsx)(e.code,{children:\"setInterval\"}),\" \\u5E76\\u4E14\\u5177\\u6709\\u5B8C\\u5168\\u76F8\\u540C\\u7684\\u7B7E\\u540D\\u3002\\u4F46\\u662F\\uFF0C\\u5B83\\u4E0D\\u8FD4\\u56DE\\u8BA1\\u65F6\\u5668 ID\\uFF0C\\u800C\\u662F\\u8FD4\\u56DE\\u4E00\\u4E2A\\u5305\\u542B\\u4E09\\u4E2A\\u65B9\\u6CD5\\u7684\\u5BF9\\u8C61\\uFF1A\"]}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"start\"}),\"\\uFF1A\",(0,n.jsx)(e.strong,{children:\"\\u7ACB\\u5373\"}),\"\\u8FD0\\u884C\\u56DE\\u8C03\\u51FD\\u6570\\uFF0C\\u5E76\\u4E14\\u6BCF\\u9694 \",(0,n.jsx)(e.code,{children:\"delay\"}),\" \\u6BEB\\u79D2\\u8FD0\\u884C\\u4E00\\u6B21\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"pause\"}),\"\\uFF1A\\u6682\\u505C interval\\uFF0C\\u4F7F\\u5176\\u505C\\u6B62\\u8FD0\\u884C\\u3002\\u53EF\\u4EE5\\u901A\\u8FC7\\u518D\\u6B21\\u8C03\\u7528 \",(0,n.jsx)(e.code,{children:\"start()\"}),\" \\u6765\\u6062\\u590D\\u6267\\u884C\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"stop\"}),\"\\uFF1A\\u6C38\\u4E45\\u505C\\u6B62 interval\\uFF0C\\u65E0\\u6CD5\\u91CD\\u65B0\\u542F\\u52A8\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-js\",children:`createResumableInterval(callback);\ncreateResumableInterval(callback, delay);\ncreateResumableInterval(callback, delay, param1);\ncreateResumableInterval(callback, delay, param1, param2);\ncreateResumableInterval(callback, delay, param1, param2, /* \\u2026 ,*/ paramN);\n`})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5982\\u679C\\u60A8\\u4E0D\\u719F\\u6089\\uFF0C\\u5EFA\\u8BAE\\u60A8\\u9605\\u8BFB \",(0,n.jsx)(e.a,{href:\"https://developer.mozilla.org/en-US/docs/Web/API/setInterval\",children:\"MDN \\u6587\\u6863\"}),\" \\u4E0A\\u7684 \",(0,n.jsx)(e.code,{children:\"setInterval\"}),\"\\u3002\"]}),`\n`,(0,n.jsx)(e.h2,{children:\"\\u793A\\u4F8B\"}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-js\",children:`let i = 0;\n// t = 0:\nconst interval = createResumableInterval(() => {\n  i++;\n}, 10);\n// t = 10:\ninterval.start(); // i is now 1.\n// t = 20: callback executes and i is now 2.\n// t = 25:\ninterval.pause();\n// t = 30: i remains at 2 because interval.pause() was called.\n// t = 35:\ninterval.start(); // i is now 3.\n// t = 45: callback executes and i is now 4.\n// t = 50:\ninterval.stop(); // i remains at 4.\n`})})]})}function f(a={}){let{wrapper:e}=a.components||{};return e?(0,n.jsx)(e,Object.assign({},a,{children:(0,n.jsx)(o,a)})):o(a)}var k=f;return x(R);})();\n;return Component;",
  "files": {
    "/package.json": "{\n  \"name\": \"@gfe-questions/resumable-interval\",\n  \"version\": \"0.0.1\",\n  \"main\": \"/src/resumable-interval.ts\",\n  \"devDependencies\": {\n    \"@types/jest\": \"29.5.0\",\n    \"typescript\": \"5.0.2\"\n  }\n}\n",
    "/tsconfig.json": "{\n  \"include\": [\"./**/*\"],\n  \"compilerOptions\": {\n    \"strict\": true,\n    \"esModuleInterop\": true,\n    \"lib\": [\"dom\", \"dom.iterable\", \"esnext\"],\n    \"jsx\": \"react-jsx\",\n    \"target\": \"es2020\"\n  }\n}\n",
    "/src/resumable-interval.run.test.ts": "import createResumableInterval from './resumable-interval';\n\ndescribe('createResumableInterval', () => {\n  test('returns an object with the necessary methods', () => {\n    const interval = createResumableInterval(() => {});\n    expect(typeof interval).toBe('object');\n    expect(interval.start).toBeTruthy();\n    expect(interval.pause).toBeTruthy();\n    expect(interval.stop).toBeTruthy();\n  });\n\n  test('start', (done) => {\n    expect.assertions(3);\n    let i = 0;\n    const { start } = createResumableInterval(() => {\n      i++;\n    }, 10);\n    expect(i).toBe(0);\n    start();\n    expect(i).toBe(1);\n    setTimeout(() => {\n      expect(i).toBeGreaterThan(1);\n      done();\n    }, 20);\n  });\n\n  test('can resume', (done) => {\n    expect.assertions(5);\n    let i = 0;\n    const { start, pause, stop } = createResumableInterval(() => {\n      i++;\n    }, 10);\n    expect(i).toBe(0);\n    start();\n    expect(i).toBe(1);\n    pause();\n    expect(i).toBe(1);\n    start();\n    expect(i).toBe(2);\n    setTimeout(() => {\n      expect(i).toBe(3);\n      stop?.();\n      done();\n    }, 15);\n  });\n});\n",
    "/src/resumable-interval.submit.test.ts": "import createResumableInterval from './resumable-interval';\n\ndescribe('createResumableInterval', () => {\n  test('returns an object with the necessary methods', () => {\n    const interval = createResumableInterval(() => {});\n    expect(typeof interval).toBe('object');\n    expect(interval.start).toBeTruthy();\n    expect(interval.pause).toBeTruthy();\n    expect(interval.stop).toBeTruthy();\n  });\n\n  test('paused by default', (done) => {\n    expect.assertions(2);\n    let i = 0;\n    createResumableInterval(() => {\n      i++;\n    }, 10);\n    expect(i).toBe(0);\n    setTimeout(() => {\n      expect(i).toBe(0);\n      done();\n    }, 20);\n  });\n\n  describe('start', () => {\n    test('callback is executed immediately after starting', (done) => {\n      expect.assertions(3);\n      let i = 0;\n      const { start } = createResumableInterval(() => {\n        i++;\n      }, 10);\n      expect(i).toBe(0);\n      start();\n      expect(i).toBe(1);\n      setTimeout(() => {\n        expect(i).toBeGreaterThan(1);\n        done();\n      }, 20);\n    });\n\n    test('callback runs at intervals', (done) => {\n      let i = 0;\n      const { start, stop } = createResumableInterval(() => {\n        i++;\n        if (i === 3) {\n          stop?.();\n          done();\n        }\n      }, 10);\n      expect(i).toBe(0);\n      start();\n      expect(i).toBe(1);\n    });\n\n    test('calling start() multiple times does not execute callback each time', (done) => {\n      let i = 0;\n      const { start } = createResumableInterval(() => {\n        i++;\n      }, 10);\n      expect(i).toBe(0);\n      start();\n      expect(i).toBe(1);\n      start();\n      expect(i).toBe(1);\n      done();\n    });\n  });\n\n  describe('pause', () => {\n    describe('can be paused', () => {\n      test('immediately', (done) => {\n        expect.assertions(3);\n        let i = 0;\n        const { start, pause } = createResumableInterval(() => {\n          i++;\n        }, 10);\n        expect(i).toBe(0);\n        start();\n        expect(i).toBe(1);\n        pause();\n        setTimeout(() => {\n          expect(i).toBe(1);\n          done();\n        }, 20);\n      });\n\n      test('after first execution', (done) => {\n        expect.assertions(4);\n        let i = 0;\n        const { start, pause } = createResumableInterval(() => {\n          i++;\n        }, 10);\n        expect(i).toBe(0);\n        start();\n        expect(i).toBe(1);\n        setTimeout(() => {\n          pause();\n          expect(i).toBe(2);\n        }, 15);\n        setTimeout(() => {\n          expect(i).toBe(2);\n          done();\n        }, 25);\n      });\n    });\n\n    test('can resume', (done) => {\n      expect.assertions(5);\n      let i = 0;\n      const { start, pause, stop } = createResumableInterval(() => {\n        i++;\n      }, 10);\n      expect(i).toBe(0);\n      start();\n      expect(i).toBe(1);\n      pause();\n      expect(i).toBe(1);\n      start();\n      expect(i).toBe(2);\n      setTimeout(() => {\n        expect(i).toBe(3);\n        stop?.();\n        done();\n      }, 15);\n    });\n\n    test('can pause multiple times', (done) => {\n      expect.assertions(5);\n      let i = 0;\n      const { start, pause, stop } = createResumableInterval(() => {\n        i++;\n      }, 10);\n      expect(i).toBe(0);\n      start();\n      expect(i).toBe(1);\n      pause();\n      expect(i).toBe(1);\n      pause();\n      expect(i).toBe(1);\n      setTimeout(() => {\n        expect(i).toBe(1);\n        stop?.();\n        done();\n      }, 15);\n    });\n\n    test('can resume after pausing multiple times', (done) => {\n      expect.assertions(7);\n      let i = 0;\n      const { start, pause, stop } = createResumableInterval(() => {\n        i++;\n      }, 10);\n      expect(i).toBe(0);\n      start();\n      expect(i).toBe(1);\n      pause();\n      expect(i).toBe(1);\n      pause();\n      expect(i).toBe(1);\n      pause();\n      expect(i).toBe(1);\n      start();\n      expect(i).toBe(2);\n      setTimeout(() => {\n        expect(i).toBe(3);\n        stop?.();\n        done();\n      }, 15);\n    });\n  });\n\n  describe('stop', () => {\n    describe('can be stopped', () => {\n      test('immediately', (done) => {\n        expect.assertions(3);\n        let i = 0;\n        const { start, stop } = createResumableInterval(() => {\n          i++;\n        }, 10);\n        expect(i).toBe(0);\n        start();\n        expect(i).toBe(1);\n        stop();\n        setTimeout(() => {\n          expect(i).toBe(1);\n          done();\n        }, 15);\n      });\n\n      test('after first execution', (done) => {\n        expect.assertions(4);\n        let i = 0;\n        const { start, stop } = createResumableInterval(() => {\n          i++;\n        }, 10);\n        expect(i).toBe(0);\n        start();\n        expect(i).toBe(1);\n        setTimeout(() => {\n          stop();\n          expect(i).toBe(2);\n        }, 15);\n        setTimeout(() => {\n          expect(i).toBe(2);\n          done();\n        }, 25);\n      });\n    });\n\n    describe('cannot be resumed', () => {\n      test('stopped immediately', (done) => {\n        expect.assertions(4);\n        let i = 0;\n        const { start, stop } = createResumableInterval(() => {\n          i++;\n        }, 10);\n        expect(i).toBe(0);\n        start();\n        expect(i).toBe(1);\n        stop();\n        start();\n        setTimeout(() => {\n          expect(i).toBe(1);\n        }, 15);\n        setTimeout(() => {\n          expect(i).toBe(1);\n          done();\n        }, 25);\n      });\n\n      test('stopped after first execution', (done) => {\n        expect.assertions(4);\n        let i = 0;\n        const { start, stop } = createResumableInterval(() => {\n          i++;\n        }, 10);\n        expect(i).toBe(0);\n        start();\n        expect(i).toBe(1);\n        setTimeout(() => {\n          stop();\n          expect(i).toBe(2);\n          start();\n        }, 15);\n        setTimeout(() => {\n          expect(i).toBe(2);\n          done();\n        }, 30);\n      });\n    });\n  });\n\n  // TODO: Disabled for now.\n  // test('integration', (done) => {\n  //   expect.assertions(10);\n  //   let i = 0;\n  //   const { start, pause, stop } = createResumableInterval(() => {\n  //     i++;\n  //   }, 10);\n  //   expect(i).toBe(0);\n  //   start();\n  //   expect(i).toBe(1);\n  //   pause();\n  //   pause();\n  //   expect(i).toBe(1);\n  //   start();\n  //   expect(i).toBe(2);\n  //   setTimeout(() => {\n  //     pause();\n  //     expect(i).toBe(3);\n  //   }, 15);\n  //   setTimeout(() => {\n  //     expect(i).toBe(3);\n  //     start();\n  //     expect(i).toBe(4);\n  //   }, 30);\n  //   setTimeout(() => {\n  //     expect(i).toBe(5);\n  //     stop();\n  //   }, 45);\n  //   setTimeout(() => {\n  //     expect(i).toBe(5);\n  //     start();\n  //     pause();\n  //   }, 60);\n  //   setTimeout(() => {\n  //     expect(i).toBe(5);\n  //     done();\n  //   }, 100);\n  // });\n});\n",
    "/src/resumable-interval.ts": "interface Resumable {\n  start: () => void;\n  pause: () => void;\n  stop: () => void;\n}\n\nexport default function createResumableInterval(\n  callback: Function,\n  delay?: number,\n  ...args: Array<any>\n): Resumable {\n  let timerId: number | null = null;\n  let stopped = false;\n\n  function start() {\n    if (stopped || timerId != null) {\n      return;\n    }\n\n    callback(...args);\n    timerId = setInterval(callback, delay, ...args);\n  }\n\n  function clearTimer() {\n    clearInterval(timerId ?? undefined);\n    timerId = null;\n  }\n\n  function pause() {\n    if (stopped) {\n      return;\n    }\n\n    clearTimer();\n  }\n\n  function stop() {\n    stopped = true;\n    clearTimer();\n  }\n\n  return {\n    start,\n    pause,\n    stop,\n  };\n}\n"
  },
  "info": {
    "excerpt": "实现一个创建可恢复 interval 对象的函数",
    "title": "可恢复的 Interval"
  },
  "metadata": {
    "access": "premium",
    "author": null,
    "companies": [],
    "created": 1689552000,
    "difficulty": "medium",
    "duration": 20,
    "featured": false,
    "format": "javascript",
    "frameworkDefault": null,
    "frameworks": [],
    "href": "/questions/javascript/resumable-interval",
    "importance": "low",
    "languages": [
      "js",
      "ts"
    ],
    "nextQuestions": [],
    "published": true,
    "ranking": 100,
    "similarQuestions": [
      "resumable-timeout"
    ],
    "slug": "resumable-interval",
    "subtitle": null,
    "topics": [
      "async",
      "closure"
    ]
  },
  "skeleton": {
    "js": "/**\n * @param {Function} callback\n * @param {number} delay\n * @param {...any} args\n * @returns {{start: Function, pause: Function, stop: Function}}\n */\nexport default function createResumableInterval(callback, delay, ...args) {\n  throw 'Not implemented';\n}",
    "ts": "interface Resumable {\n  start: () => void;\n  pause: () => void;\n  stop: () => void;\n}\n\nexport default function createResumableInterval(\n  callback: Function,\n  delay?: number,\n  ...args: Array<any>\n): Resumable {\n  throw 'Not implemented';\n}"
  },
  "solution": "var Component=(()=>{var f=Object.create;var c=Object.defineProperty;var b=Object.getOwnPropertyDescriptor;var g=Object.getOwnPropertyNames;var v=Object.getPrototypeOf,S=Object.prototype.hasOwnProperty;var x=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),y=(n,e)=>{for(var r in e)c(n,r,{get:e[r],enumerable:!0})},s=(n,e,r,d)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let a of g(e))!S.call(n,a)&&a!==r&&c(n,a,{get:()=>e[a],enumerable:!(d=b(e,a))||d.enumerable});return n};var M=(n,e,r)=>(r=n!=null?f(v(n)):{},s(e||!n||!n.__esModule?c(r,\"default\",{value:n,enumerable:!0}):r,n)),k=n=>s(c({},\"__esModule\",{value:!0}),n);var o=x((C,i)=>{i.exports=_jsx_runtime});var T={};y(T,{default:()=>_});var t=M(o());var l=MDXCodeBlock;var p=`/**\n * @param {Function} callback\n * @param {number} delay\n * @param {...any} args\n * @returns {{start: Function, pause: Function, stop: Function}}\n */\nexport default function createResumableInterval(callback, delay, ...args) {\n  let timerId = null;\n  let stopped = false;\n\n  function start() {\n    if (stopped || timerId != null) {\n      return;\n    }\n\n    callback(...args);\n    timerId = setInterval(callback, delay, ...args);\n  }\n\n  function clearTimer() {\n    clearInterval(timerId);\n    timerId = null;\n  }\n\n  function pause() {\n    if (stopped) {\n      return;\n    }\n\n    clearTimer();\n  }\n\n  function stop() {\n    stopped = true;\n    clearTimer();\n  }\n\n  return {\n    start,\n    pause,\n    stop,\n  };\n}\n`;var u=`interface Resumable {\n  start: () => void;\n  pause: () => void;\n  stop: () => void;\n}\n\nexport default function createResumableInterval(\n  callback: Function,\n  delay?: number,\n  ...args: Array<any>\n): Resumable {\n  let timerId: number | null = null;\n  let stopped = false;\n\n  function start() {\n    if (stopped || timerId != null) {\n      return;\n    }\n\n    callback(...args);\n    timerId = setInterval(callback, delay, ...args);\n  }\n\n  function clearTimer() {\n    clearInterval(timerId ?? undefined);\n    timerId = null;\n  }\n\n  function pause() {\n    if (stopped) {\n      return;\n    }\n\n    clearTimer();\n  }\n\n  function stop() {\n    stopped = true;\n    clearTimer();\n  }\n\n  return {\n    start,\n    pause,\n    stop,\n  };\n}\n`;var h=`/**\n * @param {Function} callback\n * @param {number} delay\n * @param {...any} args\n * @returns {{start: Function, pause: Function, stop: Function}}\n */\nexport default function createResumableInterval(callback, delay, ...args) {\n  let timerId;\n  let state = 'paused';\n\n  function nextState(action) {\n    const newState = stateMachine[state][action];\n    if (newState === state) {\n      return;\n    }\n\n    state = newState;\n    switch (state) {\n      case 'paused':\n      case 'stopped':\n        clearInterval(timerId);\n        timerId = null;\n        return;\n      case 'running':\n        callback(...args);\n        timerId = setInterval(callback, delay, ...args);\n        return;\n    }\n  }\n\n  return {\n    start: () => nextState('start'),\n    pause: () => nextState('pause'),\n    stop: () => nextState('stop'),\n  };\n}\n\nconst stateMachine = {\n  stopped: {\n    pause: 'stopped',\n    start: 'stopped',\n    stop: 'stopped',\n  },\n  paused: {\n    pause: 'paused',\n    start: 'running',\n    stop: 'stopped',\n  },\n  running: {\n    pause: 'paused',\n    start: 'running',\n    stop: 'stopped',\n  },\n};\n`;var m=`interface Resumable {\n  start: () => void;\n  pause: () => void;\n  stop: () => void;\n}\n\nexport default function createResumableInterval(\n  callback: Function,\n  delay?: number,\n  ...args: Array<any>\n): Resumable {\n  let timerId: number | null;\n  let state: State = 'paused';\n\n  function nextState(action: Action) {\n    const newState: State = stateMachine[state][action];\n    if (newState === state) {\n      return;\n    }\n\n    state = newState;\n    switch (state) {\n      case 'paused':\n      case 'stopped':\n        clearInterval(timerId ?? undefined);\n        timerId = null;\n        return;\n      case 'running':\n        callback(...args);\n        timerId = setInterval(callback, delay, ...args);\n        return;\n    }\n  }\n\n  return {\n    start: () => nextState('start'),\n    pause: () => nextState('pause'),\n    stop: () => nextState('stop'),\n  };\n}\n\ntype State = 'stopped' | 'paused' | 'running';\ntype Action = 'pause' | 'start' | 'stop';\ntype StateMachine = Record<State, Record<Action, State>>;\n\nconst stateMachine: StateMachine = {\n  stopped: {\n    pause: 'stopped',\n    start: 'stopped',\n    stop: 'stopped',\n  },\n  paused: {\n    pause: 'paused',\n    start: 'running',\n    stop: 'stopped',\n  },\n  running: {\n    pause: 'paused',\n    start: 'running',\n    stop: 'stopped',\n  },\n};\n`;function I(n){let e=Object.assign({p:\"p\",strong:\"strong\",a:\"a\",h2:\"h2\",h3:\"h3\",code:\"code\",ul:\"ul\",li:\"li\"},n.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:\"\\u6CE8\\u610F\\uFF1A\"}),\" \\u5EFA\\u8BAE\\u5728\\u5C1D\\u8BD5\\u6B64\\u95EE\\u9898\\u4E4B\\u524D\\u5B8C\\u6210 \",(0,t.jsx)(e.a,{href:\"/questions/javascript/cancellable-interval\",children:\"\\u53EF\\u53D6\\u6D88\\u7684\\u95F4\\u9694\"}),\" \\u95EE\\u9898\\u3002\"]}),`\n`,(0,t.jsx)(e.h2,{children:\"\\u89E3\\u51B3\\u65B9\\u6848\"}),`\n`,(0,t.jsx)(e.p,{children:\"\\u6B64\\u95EE\\u9898\\u7684\\u590D\\u6742\\u6027\\u5728\\u4E8E\\u5BF9\\u95F4\\u9694\\u7684\\u5185\\u90E8\\u72B6\\u6001\\u8FDB\\u884C\\u5EFA\\u6A21\\uFF0C\\u4F8B\\u5982\\u5B83\\u662F\\u5426\\u5DF2\\u6682\\u505C\\u3001\\u6B63\\u5728\\u8FD0\\u884C\\u6216\\u5DF2\\u505C\\u6B62\\uFF08\\u8FD9\\u662F\\u4E00\\u4E2A\\u7EC8\\u6B62\\u72B6\\u6001\\uFF09\\uFF0C\\u4EE5\\u53CA\\u5982\\u4F55\\u6839\\u636E\\u8FD9\\u4E9B\\u65B9\\u6CD5\\u6B63\\u786E\\u4FEE\\u6539\\u72B6\\u6001\\u3002\"}),`\n`,(0,t.jsxs)(e.h3,{children:[\"\\u65B9\\u6CD5 1\\uFF1A\\u4F7F\\u7528 \",(0,t.jsx)(e.code,{children:\"stopped\"}),\" \\u5E03\\u5C14\\u6807\\u5FD7\"]}),`\n`,(0,t.jsxs)(e.p,{children:[\"\\u6211\\u4EEC\\u53EF\\u4EE5\\u4F7F\\u7528\\u53D8\\u91CF \",(0,t.jsx)(e.code,{children:\"timerId\"}),\" \\u548C \",(0,t.jsx)(e.code,{children:\"stopped\"}),\" \\u6765\\u6A21\\u62DF\\u6240\\u6709\\u53EF\\u80FD\\u7684\\u72B6\\u6001\\uFF1A\"]}),`\n`,(0,t.jsxs)(e.ul,{children:[`\n`,(0,t.jsxs)(e.li,{children:[\"\\u5982\\u679C \",(0,t.jsx)(e.code,{children:\"timerId\"}),\" \\u4E3A \",(0,t.jsx)(e.code,{children:\"null\"}),\"\\uFF0C\\u5219\\u95F4\\u9694\\u5DF2\\u6682\\u505C\\u3002\"]}),`\n`,(0,t.jsxs)(e.li,{children:[\"\\u5982\\u679C \",(0,t.jsx)(e.code,{children:\"timerId\"}),\" \\u4E0D\\u4E3A \",(0,t.jsx)(e.code,{children:\"null\"}),\"\\uFF0C\\u5219\\u95F4\\u9694\\u6B63\\u5728\\u8FD0\\u884C\\uFF0C\\u5E76\\u4E14\\u8BE5\\u503C\\u662F\\u8BA1\\u65F6\\u5668\\u7684 ID\\u3002\"]}),`\n`,(0,t.jsxs)(e.li,{children:[\"\\u5982\\u679C \",(0,t.jsx)(e.code,{children:\"stopped\"}),\" \\u4E3A \",(0,t.jsx)(e.code,{children:\"true\"}),\"\\uFF0C\\u5219\\u95F4\\u9694\\u5DF2\\u505C\\u6B62\\uFF0C\\u5E76\\u4E14\\u65E0\\u6CD5\\u91CD\\u65B0\\u542F\\u52A8\\uFF0C\\u65E0\\u8BBA \",(0,t.jsx)(e.code,{children:\"timerId\"}),\" \\u7684\\u503C\\u5982\\u4F55\\u3002\"]}),`\n`]}),`\n`,(0,t.jsxs)(e.p,{children:[\"\\u5728\\u6211\\u4EEC\\u7684 \",(0,t.jsx)(e.code,{children:\"start\"}),\" \\u548C \",(0,t.jsx)(e.code,{children:\"pause\"}),\" \\u51FD\\u6570\\u4E2D\\uFF0C\\u6211\\u4EEC\\u9996\\u5148\\u5FC5\\u987B\\u68C0\\u67E5 \",(0,t.jsx)(e.code,{children:\"stopped\"}),\" \\u662F\\u5426\\u4E3A \",(0,t.jsx)(e.code,{children:\"true\"}),\"\\uFF0C\\u5982\\u679C\\u662F\\uFF0C\\u5219\\u7EC8\\u6B62\\u3002\"]}),`\n`,(0,t.jsxs)(e.p,{children:[\"\\u5728 \",(0,t.jsx)(e.code,{children:\"start\"}),\" \\u51FD\\u6570\\u4E2D\\uFF0C\\u6211\\u4EEC\\u9996\\u5148\\u5FC5\\u987B\\u68C0\\u67E5 \",(0,t.jsx)(e.code,{children:\"timerId != null\"}),\"\\uFF0C\\u5E76\\u4E14\\u4E5F\\u8981\\u5C3D\\u65E9\\u7EC8\\u6B62\\uFF0C\\u5426\\u5219\\u6211\\u4EEC\\u5C06\\u540C\\u65F6\\u8FD0\\u884C\\u4E24\\u4E2A\\u95F4\\u9694\\u3002\"]}),`\n`,(0,t.jsxs)(e.p,{children:[\"\\u5728 \",(0,t.jsx)(e.code,{children:\"pause\"}),\" \\u51FD\\u6570\\u4E2D\\uFF0C\\u4E00\\u65E6\\u6211\\u4EEC\\u786E\\u5B9A\\u95F4\\u9694\\u672A\\u5904\\u4E8E \",(0,t.jsx)(e.code,{children:\"stopped\"}),\" \\u72B6\\u6001\\uFF0C\\u8BF7\\u8C03\\u7528 \",(0,t.jsx)(e.code,{children:\"clearInterval(timerId)\"}),\" \\u4EE5\\u505C\\u6B62\\u95F4\\u9694\\u56DE\\u8C03\\u3002\"]}),`\n`,(0,t.jsxs)(e.p,{children:[\"\\u5728 \",(0,t.jsx)(e.code,{children:\"stop\"}),\" \\u51FD\\u6570\\u4E2D\\uFF0C\\u5C06 \",(0,t.jsx)(e.code,{children:\"stopped\"}),\" \\u8BBE\\u7F6E\\u4E3A \",(0,t.jsx)(e.code,{children:\"true\"}),\" \\u5E76\\u8C03\\u7528 \",(0,t.jsx)(e.code,{children:\"clearInterval(timerId)\"}),\" \\u4EE5\\u505C\\u6B62\\u95F4\\u9694\\u56DE\\u8C03\\u3002 \\u95F4\\u9694\\u662F\\u5426\\u4ECD\\u5728\\u8FD0\\u884C\\u65E0\\u5173\\u7D27\\u8981\\uFF0C\\u56E0\\u4E3A \",(0,t.jsx)(e.code,{children:\"clearInterval(null)\"}),\" \\u662F\\u4E00\\u4E2A\\u7A7A\\u64CD\\u4F5C\\u3002\"]}),`\n`,(0,t.jsx)(l,{languages:{jsx:p,tsx:u}}),`\n`,(0,t.jsxs)(e.p,{children:[\"\\u6211\\u4EEC\\u4E0D\\u5FC5\\u62C5\\u5FC3\\u56DE\\u8C03\\u51FD\\u6570\\u4E2D\\u7684 \",(0,t.jsx)(e.code,{children:\"this\"}),\"\\uFF0C\\u56E0\\u4E3A\\u4E0E \",(0,t.jsx)(e.code,{children:\"Array.prototype.forEach()\"}),\"/\",(0,t.jsx)(e.code,{children:\"Array.prototype.reduce()\"}),\" \\u4E0D\\u540C\\uFF0C\\u6CA1\\u6709\\u9009\\u9879\\u53EF\\u4EE5\\u5C06 \",(0,t.jsx)(e.code,{children:\"thisArg\"}),\" \\u4F20\\u9012\\u7ED9 \",(0,t.jsx)(e.code,{children:\"setInterval\"}),\"\\u3002 \\u4E86\\u89E3\\u6709\\u5173 \",(0,t.jsx)(e.a,{href:\"https://developer.mozilla.org/en-US/docs/Web/API/setInterval#the_this_problem\",children:\"MDN \\u4E0A\\u7684 this\"}),\" \\u7684\\u66F4\\u591A\\u4FE1\\u606F\\u3002\"]}),`\n`,(0,t.jsx)(e.h2,{children:\"\\u65B9\\u6CD5 2\\uFF1A\\u72B6\\u6001\\u673A\"}),`\n`,(0,t.jsx)(e.p,{children:\"\\u4F7F\\u7528 3 \\u4E2A\\u72B6\\u6001\\u548C 3 \\u4E2A\\u53EF\\u80FD\\u7684\\u52A8\\u4F5C\\uFF0C\\u4F7F\\u7528\\u547D\\u4EE4\\u5F0F\\u903B\\u8F91\\u5BF9\\u72B6\\u6001\\u548C\\u52A8\\u4F5C\\u8FDB\\u884C\\u5EFA\\u6A21\\u5DF2\\u7ECF\\u5F00\\u59CB\\u53D8\\u5F97\\u590D\\u6742\\u3002 \\u72B6\\u6001\\u673A\\u662F\\u4E00\\u79CD\\u58F0\\u660E\\u5F0F\\u65B9\\u5F0F\\uFF0C\\u7528\\u4E8E\\u5BF9\\u72B6\\u6001\\u548C\\u76F8\\u5173\\u7684\\u4EA4\\u4E92\\u8FDB\\u884C\\u5EFA\\u6A21\\u3002 \\u72B6\\u6001\\u673A\\u63A5\\u53D7\\u5F53\\u524D\\u72B6\\u6001\\u548C\\u4E00\\u4E2A\\u52A8\\u4F5C\\uFF0C\\u5E76\\u8FD4\\u56DE\\u4E0B\\u4E00\\u4E2A\\u72B6\\u6001\\u3002 \\u7136\\u540E\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u6839\\u636E\\u65B0\\u72B6\\u6001\\u8C03\\u7528\\u5FC5\\u8981\\u7684\\u903B\\u8F91\\u3002\"}),`\n`,(0,t.jsx)(e.p,{children:\"\\u5BF9\\u4E8E\\u8FD9\\u4E2A\\u95EE\\u9898\\uFF0C\\u6211\\u4EEC\\u6709\\u4EE5\\u4E0B\\u72B6\\u6001\\u548C\\u52A8\\u4F5C\\uFF1A\"}),`\n`,(0,t.jsxs)(e.ul,{children:[`\n`,(0,t.jsxs)(e.li,{children:[\"\\u72B6\\u6001\\uFF1A\",(0,t.jsx)(e.code,{children:\"'paused'\"}),\"\\u3001\",(0,t.jsx)(e.code,{children:\"'stopped'\"}),\"\\u3001\",(0,t.jsx)(e.code,{children:\"'running'\"})]}),`\n`,(0,t.jsxs)(e.li,{children:[\"\\u52A8\\u4F5C\\uFF1A\",(0,t.jsx)(e.code,{children:\"start()\"}),\"\\u3001\",(0,t.jsx)(e.code,{children:\"pause()\"}),\"\\u3001\",(0,t.jsx)(e.code,{children:\"stop()\"})]}),`\n`]}),`\n`,(0,t.jsxs)(e.p,{children:[\"\\u6211\\u4EEC\\u53EF\\u4EE5\\u5B9A\\u4E49\\u4E00\\u4E2A \",(0,t.jsx)(e.code,{children:\"stateMachine\"}),\" \\u5BF9\\u8C61\\uFF0C\\u5176\\u4E2D\\u9876\\u5C42\\u952E\\u662F\\u5F53\\u524D\\u72B6\\u6001\\uFF0C\\u503C\\u662F\\u952E\\u662F\\u52A8\\u4F5C\\u800C\\u503C\\u662F\\u65B0\\u72B6\\u6001\\u7684\\u5BF9\\u8C61\\u3002 \\u6D3E\\u751F\\u65B0\\u72B6\\u6001\\u5F88\\u7B80\\u5355 \",(0,t.jsx)(e.code,{children:\"const newState = stateMachine[state][action]\"}),\"\\u3002\"]}),`\n`,(0,t.jsxs)(e.p,{children:[\"\\u5982\\u679C \",(0,t.jsx)(e.code,{children:\"newState\"}),\" \\u548C\\u5F53\\u524D \",(0,t.jsx)(e.code,{children:\"state\"}),\" \\u76F8\\u540C\\uFF0C\\u5219\\u65E0\\u9700\\u6267\\u884C\\u4EFB\\u4F55\\u64CD\\u4F5C\\u3002 \\u5426\\u5219\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u6839\\u636E \",(0,t.jsx)(e.code,{children:\"newState\"}),\" \\u6267\\u884C\\u5FC5\\u8981\\u7684\\u903B\\u8F91\\uFF0C\\u4EE5\\u505C\\u6B62\\u6216\\u542F\\u52A8\\u95F4\\u9694\\u3002 \\u516C\\u5F00\\u7684\\u65B9\\u6CD5\\u53EA\\u9700\\u4F7F\\u7528\\u76F8\\u5E94\\u7684\\u52A8\\u4F5C\\u8C03\\u7528 \",(0,t.jsx)(e.code,{children:\"nextState\"}),\" \\u51FD\\u6570\\u3002\"]}),`\n`,(0,t.jsx)(e.p,{children:\"\\u867D\\u7136\\u952E\\u7684\\u503C\\u6709\\u4E00\\u4E9B\\u91CD\\u590D\\uFF0C\\u4F46\\u53EF\\u4EE5\\u4E00\\u76EE\\u4E86\\u7136\\u5730\\u786E\\u5B9A\\u72B6\\u6001\\u8F6C\\u6362\\u662F\\u5426\\u6B63\\u786E\\u3002\\u4E0E\\u53E6\\u4E00\\u79CD\\u65B9\\u6CD5\\u76F8\\u6BD4\\uFF0C\\u8FD9\\u79CD\\u72B6\\u6001\\u673A\\u65B9\\u6CD5\\u9700\\u8981\\u7684\\u6761\\u4EF6\\u8BED\\u53E5\\u548C\\u72B6\\u6001\\u8D4B\\u503C\\u8BED\\u53E5\\u8981\\u5C11\\u5F97\\u591A\\uFF01\"}),`\n`,(0,t.jsx)(l,{languages:{jsx:h,tsx:m}}),`\n`,(0,t.jsx)(e.h2,{children:\"\\u8D44\\u6E90\"}),`\n`,(0,t.jsxs)(e.ul,{children:[`\n`,(0,t.jsx)(e.li,{children:(0,t.jsxs)(e.a,{href:\"https://developer.mozilla.org/en-US/docs/Web/API/setInterval\",children:[(0,t.jsx)(e.code,{children:\"setInterval()\"}),\" | MDN\"]})}),`\n`]})]})}function R(n={}){let{wrapper:e}=n.components||{};return e?(0,t.jsx)(e,Object.assign({},n,{children:(0,t.jsx)(I,n)})):I(n)}var _=R;return k(T);})();\n;return Component;",
  "workspace": {
    "main": "/src/resumable-interval.ts",
    "run": "/src/resumable-interval.run.test.ts",
    "submit": "/src/resumable-interval.submit.test.ts"
  }
}