{
  "description": "var Component=(()=>{var h=Object.create;var r=Object.defineProperty;var l=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var u=Object.getPrototypeOf,x=Object.prototype.hasOwnProperty;var f=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),A=(n,e)=>{for(var c in e)r(n,c,{get:e[c],enumerable:!0})},i=(n,e,c,a)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let s of m(e))!x.call(n,s)&&s!==c&&r(n,s,{get:()=>e[s],enumerable:!(a=l(e,s))||a.enumerable});return n};var g=(n,e,c)=>(c=n!=null?h(u(n)):{},i(e||!n||!n.__esModule?r(c,\"default\",{value:n,enumerable:!0}):c,n)),j=n=>i(r({},\"__esModule\",{value:!0}),n);var p=f((C,o)=>{o.exports=_jsx_runtime});var I={};A(I,{default:()=>q,frontmatter:()=>y});var t=g(p()),y={title:\"Map Async Limit\",excerpt:\"\\u5B9E\\u73B0\\u4E00\\u4E2A\\u51FD\\u6570\\uFF0C\\u8BE5\\u51FD\\u6570\\u4F7F\\u7528\\u5F02\\u6B65\\u6620\\u5C04\\u51FD\\u6570\\u6620\\u5C04\\u4E00\\u4E2A\\u9879\\u76EE\\u6570\\u7EC4\\uFF0C\\u540C\\u65F6\\u4E0D\\u8D85\\u8FC7\\u5E76\\u53D1\\u9650\\u5236\"};function d(n){let e=Object.assign({p:\"p\",a:\"a\",code:\"code\",h2:\"h2\",pre:\"pre\"},n.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(e.p,{children:[\"\\u5728 \",(0,t.jsx)(e.a,{href:\"/questions/javascript/map-async\",children:\"Map Async\"}),\" \\u4E2D\\uFF0C\\u6211\\u4EEC\\u7F16\\u5199\\u4E86\\u4E00\\u4E2A\\u51FD\\u6570\\uFF0C\\u8BE5\\u51FD\\u6570\\u63A5\\u53D7\\u4E00\\u4E2A\\u9879\\u76EE\\u6570\\u7EC4\\uFF0C\\u5E76\\u4F7F\\u7528\\u5F02\\u6B65\\u6620\\u5C04\\u51FD\\u6570\\u6620\\u5C04\\u6BCF\\u4E2A\\u5143\\u7D20\\uFF0C\\u5E76\\u8FD4\\u56DE\\u4E00\\u4E2A \",(0,t.jsx)(e.code,{children:\"Promise\"}),\"\\uFF0C\\u8BE5 \",(0,t.jsx)(e.code,{children:\"Promise\"}),\" \\u89E3\\u6790\\u4E3A\\u6620\\u5C04\\u7ED3\\u679C\\u3002\"]}),`\n`,(0,t.jsx)(e.p,{children:\"\\u5B9E\\u9645\\u4E0A\\uFF0C\\u8FD9\\u53EF\\u4EE5\\u7528\\u4E8E\\u5C06\\u8F93\\u5165\\u6570\\u7EC4\\u6620\\u5C04\\u5230\\u8C03\\u7528 API \\u7684\\u7ED3\\u679C\\uFF0C\\u5176\\u4E2D\\u8F93\\u5165\\u5143\\u7D20\\u662F API \\u7684\\u53C2\\u6570\\u3002\\u4F46\\u662F\\uFF0C\\u5982\\u679C\\u60A8\\u7684\\u6570\\u7EC4\\u5305\\u542B\\u5927\\u91CF\\u9879\\u76EE\\uFF0C\\u60A8\\u5C06\\u540C\\u65F6\\u8FDB\\u884C\\u5927\\u91CF API \\u8C03\\u7528\\uFF0C\\u8FD9\\u51E0\\u4E4E\\u80AF\\u5B9A\\u4F1A\\u5BFC\\u81F4\\u60A8\\u53D7\\u5230 API \\u670D\\u52A1\\u7684\\u901F\\u7387\\u9650\\u5236\\u3002\\u6211\\u4EEC\\u5E0C\\u671B\\u5E76\\u53D1\\u6267\\u884C\\u4EFB\\u52A1\\uFF0C\\u4EE5\\u4FBF\\u66F4\\u9AD8\\u6548\\uFF0C\\u540C\\u65F6\\u4FDD\\u6301\\u5728 API \\u7684\\u901F\\u7387\\u9650\\u5236\\u8303\\u56F4\\u5185\\u3002\"}),`\n`,(0,t.jsxs)(e.p,{children:[\"\\u5B9E\\u73B0\\u4E00\\u4E2A \",(0,t.jsx)(e.code,{children:\"mapAsyncLimit\"}),\" \\u51FD\\u6570\\uFF0C\\u8BE5\\u51FD\\u6570\\u63A5\\u53D7\\u4E00\\u4E2A\\u53EF\\u9009\\u53C2\\u6570 \",(0,t.jsx)(e.code,{children:\"size\"}),\"\\uFF0C\\u5373\\u6B63\\u5728\\u8FDB\\u884C\\u7684\\u5F02\\u6B65\\u4EFB\\u52A1\\u7684\\u6700\\u5927\\u6570\\u91CF\\uFF0C\\u4EE5\\u4FBF\\u53EF\\u4EE5\\u6309 \",(0,t.jsx)(e.code,{children:\"size\"}),\" \\u7684\\u5757\\u5904\\u7406\\u8F93\\u5165\\u6570\\u7EC4\\uFF0C\\u4ECE\\u800C\\u5B9E\\u73B0\\u5E76\\u884C\\u6027\\uFF0C\\u540C\\u65F6\\u4FDD\\u6301\\u5728\\u63D0\\u4F9B\\u7684\\u9650\\u5236\\u5185\\u3002\\u5982\\u679C\\u672A\\u6307\\u5B9A \",(0,t.jsx)(e.code,{children:\"size\"}),\"\\uFF0C\\u5219\\u5757\\u5927\\u5C0F\\u4E0D\\u53D7\\u9650\\u5236\\u3002\"]}),`\n`,(0,t.jsx)(e.h2,{children:\"\\u4F8B\\u5B50\"}),`\n`,(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:\"language-js\",children:`async function fetchUpperCase(q: string) {\n  // Fake API service that converts a string to uppercase.\n  const res = await fetch('https://uppercase.com?q=' + encodeURIComponent(q));\n  return await res.text();\n}\n\n// Only a maximum of 2 pending requests at any one time.\nconst results = await mapAsyncLimit(\n  ['foo', 'bar', 'qux', 'quz'],\n  fetchUpperCase,\n  2,\n);\nconsole.log(results); // ['FOO', 'BAR', 'QUX', 'QUZ'];\n`})})]})}function P(n={}){let{wrapper:e}=n.components||{};return e?(0,t.jsx)(e,Object.assign({},n,{children:(0,t.jsx)(d,n)})):d(n)}var q=P;return j(I);})();\n;return Component;",
  "files": {
    "/package.json": "{\n  \"name\": \"@gfe-questions/map-async-limit\",\n  \"version\": \"0.0.1\",\n  \"main\": \"/src/map-async-limit.ts\",\n  \"devDependencies\": {\n    \"@types/jest\": \"29.5.0\",\n    \"typescript\": \"5.0.2\"\n  }\n}\n",
    "/tsconfig.json": "{\n  \"include\": [\"./**/*\"],\n  \"compilerOptions\": {\n    \"strict\": true,\n    \"esModuleInterop\": true,\n    \"lib\": [\"dom\", \"dom.iterable\", \"esnext\"],\n    \"jsx\": \"react-jsx\",\n    \"target\": \"es2020\"\n  }\n}\n",
    "/src/map-async-limit.run.test.ts": "import mapAsyncLimit from './map-async-limit';\n\nconst asyncIdentity = (x: number) => Promise.resolve(x);\n\ndescribe('mapAsyncLimit', () => {\n  test('returns promise', () => {\n    const p = mapAsyncLimit([], asyncIdentity);\n    expect(p).toBeInstanceOf(Promise);\n  });\n\n  test('empty input array', async () => {\n    expect.assertions(1);\n    const res = await mapAsyncLimit([], asyncIdentity);\n    expect(res).toEqual([]);\n  });\n\n  test('resolved', async () => {\n    expect.assertions(1);\n    let ongoing = 0;\n    const limit = 2;\n\n    const res = await mapAsyncLimit(\n      [1, 2, 3, 4, 5],\n      (x: number) => {\n        ongoing++;\n        return new Promise((resolve, reject) => {\n          setTimeout(() => {\n            if (ongoing > limit) {\n              reject('Concurrency limit exceeded');\n            }\n\n            resolve(x * 2);\n            ongoing--;\n          }, 10);\n        });\n      },\n      limit,\n    );\n\n    expect(res).toEqual([2, 4, 6, 8, 10]);\n  });\n});\n",
    "/src/map-async-limit.submit.test.ts": "import mapAsyncLimit from './map-async-limit';\n\nconst asyncIdentity = (x: number) => Promise.resolve(x);\nconst asyncDouble = (x: number) =>\n  new Promise((resolve) => {\n    setTimeout(() => {\n      resolve(x * 2);\n    }, 10);\n  });\nconst asyncSquare = (x: number) =>\n  new Promise((resolve) => {\n    setTimeout(() => {\n      resolve(x * x);\n    }, 10);\n  });\nconst asyncRejectOdd = (x: number) =>\n  new Promise((resolve, reject) => {\n    setTimeout(() => {\n      if (x % 2 === 1) {\n        reject(x * 3);\n      }\n\n      resolve(x * 2);\n    }, 10);\n  });\n\ndescribe('mapAsyncLimit', () => {\n  test('returns promise', () => {\n    const p = mapAsyncLimit([], asyncIdentity);\n    expect(p).toBeInstanceOf(Promise);\n  });\n\n  test('empty input array', async () => {\n    expect.assertions(1);\n    const res = await mapAsyncLimit([], asyncIdentity);\n    expect(res).toEqual([]);\n  });\n\n  test('single item', async () => {\n    expect.assertions(1);\n    const res = await mapAsyncLimit([3], asyncDouble);\n    expect(res).toEqual([6]);\n  });\n\n  describe('multiple items', () => {\n    describe('no limit', () => {\n      test('all resolved', async () => {\n        expect.assertions(1);\n        const res = await mapAsyncLimit([2, 3, 4, 5, 6], asyncSquare);\n        expect(res).toEqual([4, 9, 16, 25, 36]);\n      });\n\n      test('some rejected', async () => {\n        expect.assertions(1);\n        await expect(mapAsyncLimit([2, 3], asyncRejectOdd)).rejects.toBe(9);\n      });\n    });\n\n    test('limit of one', async () => {\n      expect.assertions(1);\n      let ongoing = 0;\n      const limit = 1;\n\n      const res = await mapAsyncLimit(\n        [2, 3, 4, 5, 6],\n        (x: number) => {\n          ongoing++;\n          return new Promise((resolve, reject) => {\n            setTimeout(() => {\n              if (ongoing > limit) {\n                reject('Concurrency limit exceeded');\n              }\n\n              resolve(x * x);\n              ongoing--;\n            }, 10);\n          });\n        },\n        limit,\n      );\n\n      expect(res).toEqual([4, 9, 16, 25, 36]);\n    });\n\n    test('limit of two', async () => {\n      expect.assertions(1);\n      let ongoing = 0;\n      const limit = 2;\n\n      const res = await mapAsyncLimit(\n        [2, 3, 4, 5, 6],\n        (x: number) => {\n          ongoing++;\n          return new Promise((resolve, reject) => {\n            setTimeout(() => {\n              if (ongoing > limit) {\n                reject('Concurrency limit exceeded');\n              }\n\n              resolve(x * x);\n              ongoing--;\n            }, 10);\n          });\n        },\n        limit,\n      );\n\n      expect(res).toEqual([4, 9, 16, 25, 36]);\n    });\n\n    test('limit more than the input', async () => {\n      expect.assertions(1);\n      let ongoing = 0;\n      const limit = 10;\n\n      const res = await mapAsyncLimit(\n        [2, 3, 4, 5, 6],\n        (x: number) => {\n          ongoing++;\n          return new Promise((resolve, reject) => {\n            setTimeout(() => {\n              if (ongoing > limit) {\n                reject('Concurrency limit exceeded');\n              }\n\n              resolve(x * x);\n              ongoing--;\n            }, 10);\n          });\n        },\n        limit,\n      );\n\n      expect(res).toEqual([4, 9, 16, 25, 36]);\n    });\n  });\n});\n",
    "/src/map-async-limit.ts": "export default function mapAsyncLimit<T, U>(\n  iterable: Array<T>,\n  callbackFn: (value: T) => Promise<U>,\n  size: number = Infinity,\n): Promise<Array<U>> {\n  if (iterable.length === 0) {\n    return Promise.resolve([]);\n  }\n\n  return Promise.all(iterable.slice(0, size).map(callbackFn)).then((results) =>\n    mapAsyncLimit(iterable.slice(size), callbackFn, size).then((rest) => [\n      ...results,\n      ...rest,\n    ]),\n  );\n}\n"
  },
  "info": {
    "excerpt": "实现一个函数，该函数使用异步映射函数映射一个项目数组，同时不超过并发限制",
    "title": "Map Async Limit"
  },
  "metadata": {
    "access": "standard",
    "author": null,
    "companies": [
      "google",
      "lyft",
      "uber",
      "apple",
      "tiktok",
      "bytedance"
    ],
    "created": 1699401600,
    "difficulty": "medium",
    "duration": 25,
    "featured": false,
    "format": "javascript",
    "frameworkDefault": null,
    "frameworks": [],
    "href": "/questions/javascript/map-async-limit",
    "importance": "low",
    "languages": [
      "js",
      "ts"
    ],
    "nextQuestions": [
      "middlewares"
    ],
    "published": true,
    "ranking": 100,
    "similarQuestions": [
      "promise-all"
    ],
    "slug": "map-async-limit",
    "subtitle": null,
    "topics": [
      "async"
    ]
  },
  "skeleton": {
    "js": "/**\n * @param {Array<any>} iterable\n * @param {Function} callbackFn\n * @param {number} size\n *\n * @return {Promise}\n */\nexport default function mapAsyncLimit(iterable, callbackFn, size) {\n  throw 'Not implemented';\n}",
    "ts": "export default function mapAsyncLimit<T, U>(\n  iterable: Array<T>,\n  callbackFn: (value: T) => Promise<U>,\n  size?: number,\n): Promise<Array<U>> {\n  throw 'Not implemented';\n}"
  },
  "solution": "var Component=(()=>{var f=Object.create;var c=Object.defineProperty;var A=Object.getOwnPropertyDescriptor;var g=Object.getOwnPropertyNames;var I=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var v=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),P=(r,e)=>{for(var i in e)c(r,i,{get:e[i],enumerable:!0})},a=(r,e,i,s)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let t of g(e))!k.call(r,t)&&t!==i&&c(r,t,{get:()=>e[t],enumerable:!(s=A(e,t))||s.enumerable});return r};var z=(r,e,i)=>(i=r!=null?f(I(r)):{},a(e||!r||!r.__esModule?c(i,\"default\",{value:r,enumerable:!0}):i,r)),F=r=>a(c({},\"__esModule\",{value:!0}),r);var d=v((q,o)=>{o.exports=_jsx_runtime});var D={};P(D,{default:()=>_});var n=z(d());var l=MDXCodeBlock;var m=`export default function mapAsyncLimit<T, U>(\n  iterable: Array<T>,\n  callbackFn: (value: T) => Promise<U>,\n  size: number = Infinity,\n): Promise<Array<U>> {\n  return new Promise((resolve, reject) => {\n    const results: Array<U> = [];\n\n    function processItem(index: number) {\n      if (index === iterable.length) {\n        resolve(results);\n      }\n\n      return callbackFn(iterable[index])\n        .then((result) => {\n          results.push(result);\n          processItem(index + 1);\n        })\n        .catch(reject);\n    }\n\n    return processItem(0);\n  });\n}\n`;var h=`/**\n * @param {Array<any>} iterable\n * @param {Function} callbackFn\n * @param {number} size\n *\n * @return {Promise}\n */\nexport default function mapAsyncLimit(iterable, callbackFn, size = Infinity) {\n  if (iterable.length === 0) {\n    return Promise.resolve([]);\n  }\n\n  const currentChunk = iterable.slice(0, size);\n  const remainingItems = iterable.slice(size);\n\n  return Promise.all(currentChunk.map(callbackFn)).then((results) =>\n    mapAsyncLimit(remainingItems, callbackFn, size).then((rest) => [\n      ...results,\n      ...rest,\n    ]),\n  );\n}\n`;var u=`export default function mapAsyncLimit<T, U>(\n  iterable: Array<T>,\n  callbackFn: (value: T) => Promise<U>,\n  size: number = Infinity,\n): Promise<Array<U>> {\n  if (iterable.length === 0) {\n    return Promise.resolve([]);\n  }\n\n  return Promise.all(iterable.slice(0, size).map(callbackFn)).then((results) =>\n    mapAsyncLimit(iterable.slice(size), callbackFn, size).then((rest) => [\n      ...results,\n      ...rest,\n    ]),\n  );\n}\n`;var p=`export default async function mapAsyncLimit<T, U>(\n  iterable: Array<T>,\n  callbackFn: (value: T) => Promise<U>,\n  size: number = Infinity,\n): Promise<Array<U>> {\n  const results = [];\n\n  for (let i = 0; i < iterable.length; i += size) {\n    const chunk = iterable.slice(i, i + size);\n    const chunkResults = await Promise.all(chunk.map(callbackFn));\n\n    results.push(...chunkResults);\n  }\n\n  return results;\n}\n`;var b=`export default function mapAsyncLimit<T, U>(\n  iterable: Array<T>,\n  callbackFn: (value: T) => Promise<U>,\n  size: number = Infinity,\n): Promise<Array<U>> {\n  return new Promise((resolve, reject) => {\n    const results: Array<U> = [];\n    let nextIndex = 0;\n    let resolved = 0;\n\n    if (iterable.length === 0) {\n      resolve(results);\n      return;\n    }\n\n    function processItem(index: number) {\n      nextIndex++;\n      callbackFn(iterable[index])\n        .then((result) => {\n          results[index] = result;\n          resolved++;\n\n          if (resolved === iterable.length) {\n            resolve(results);\n            return;\n          }\n\n          if (nextIndex < iterable.length) {\n            processItem(nextIndex);\n          }\n        })\n        .catch(reject);\n    }\n\n    for (let i = 0; i < Math.min(iterable.length, size); i++) {\n      processItem(i);\n    }\n  });\n}\n`;var y=`export default function mapAsyncLimit<T, U>(\n  iterable: Array<T>,\n  callbackFn: (value: T) => Promise<U>,\n  size: number = Infinity,\n): Promise<Array<U>> {\n  return new Promise((resolve, reject) => {\n    const results: Array<U> = [];\n    let nextIndex = 0;\n    let resolved = 0;\n\n    if (iterable.length === 0) {\n      resolve(results);\n      return;\n    }\n\n    async function processItem(index: number) {\n      nextIndex++;\n      try {\n        const result = await callbackFn(iterable[index]);\n        results[index] = result;\n        resolved++;\n\n        if (resolved === iterable.length) {\n          resolve(results);\n          return;\n        }\n\n        if (nextIndex < iterable.length) {\n          processItem(nextIndex);\n        }\n      } catch (err) {\n        reject(err);\n      }\n    }\n\n    for (let i = 0; i < Math.min(iterable.length, size); i++) {\n      processItem(i);\n    }\n  });\n}\n`;function x(r){let e=Object.assign({h2:\"h2\",p:\"p\",code:\"code\",a:\"a\",h3:\"h3\",ol:\"ol\",li:\"li\",img:\"img\",ul:\"ul\",strong:\"strong\"},r.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.h2,{children:\"\\u89E3\\u51B3\\u65B9\\u6848\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u4E00\\u822C\\u7684\\u60F3\\u6CD5\\u662F\\u5C06\\u8F93\\u5165\\u6570\\u7EC4\\u5207\\u6210 \",(0,n.jsx)(e.code,{children:\"size\"}),\" \\u5143\\u7D20\\u7684\\u5757\\uFF0C\\u5E76\\u4E00\\u6B21\\u5904\\u7406\\u4E00\\u4E2A\\u5757\\u3002\\u8FD9\\u91CC\\u4ECB\\u7ECD\\u7684\\u89E3\\u51B3\\u65B9\\u6848\\u4F7F\\u7528 \",(0,n.jsx)(e.code,{children:\"Promise.all\"}),\"\\uFF0C\\u4F46\\u5982\\u679C\\u5B83\\u4E0D\\u5141\\u8BB8\\uFF0C\\u4F60\\u53EF\\u4EE5\\u4F7F\\u7528\\u5728 \",(0,n.jsxs)(e.a,{href:\"/questions/javascript/promise-all\",children:[(0,n.jsx)(e.code,{children:\"Promise.all\"}),\" \\u95EE\\u9898\"]}),\" \\u4E2D\\u4ECB\\u7ECD\\u7684\\u81EA\\u5B9E\\u73B0\\u7248\\u672C\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{children:\"\\u65B9\\u6CD5 1\\uFF1A\\u987A\\u5E8F\\uFF08\\u4E0D\\u597D\\uFF01\\uFF09\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u8FD9\\u79CD\\u65B9\\u6CD5\\u5FFD\\u7565\\u4E86 \",(0,n.jsx)(e.code,{children:\"size\"}),\" \\u53C2\\u6570\\uFF0C\\u5E76\\u9010\\u4E2A\\u5904\\u7406\\u6BCF\\u4E2A\\u9879\\u76EE\\u3002\\u8FD9\\u5B8C\\u5168\\u5728\\u5E76\\u53D1\\u9650\\u5236\\u4E4B\\u5185\\uFF0C\\u4F46\\u8FDD\\u80CC\\u4E86\\u95EE\\u9898\\u7684\\u76EE\\u7684\\u3002\"]}),`\n`,(0,n.jsx)(l,{children:m}),`\n`,(0,n.jsx)(e.h3,{children:\"\\u65B9\\u6CD5 2\\uFF1A\\u5E26\\u9012\\u5F52\\u7684\\u5757\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5C06\\u4E00\\u4E2A\\u9879\\u76EE\\u6570\\u7EC4\\u5206\\u6210\\u5757\\u53EF\\u4EE5\\u5206\\u89E3\\u6210\\u66F4\\u5C0F\\u7684\\u5B50\\u95EE\\u9898\\uFF0C\\u5E76\\u901A\\u8FC7\\u9012\\u5F52\\u89E3\\u51B3\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"\\u901A\\u8FC7 \",(0,n.jsx)(e.code,{children:\"Promise.all\"}),\" \\u5E76\\u53D1\\u5904\\u7406\\u5F53\\u524D\\u5757\\u4E2D\\u7684\\u9879\\u76EE\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\u9012\\u5F52\\u5730\\u5BF9\\u5269\\u4F59\\u9879\\u76EE\\u8C03\\u7528 \",(0,n.jsx)(e.code,{children:\"mapAsyncLimit\"}),\"\\u3002\"]}),`\n`,(0,n.jsx)(e.li,{children:\"\\u57FA\\u672C\\u60C5\\u51B5\\u662F\\u5F53\\u6CA1\\u6709\\u66F4\\u591A\\u9879\\u76EE\\u8981\\u5904\\u7406\\u65F6\\uFF0C\\u8FD4\\u56DE\\u4E00\\u4E2A\\u7A7A\\u6570\\u7EC4\\u3002\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u6700\\u540E\\uFF0C\\u5408\\u5E76\\u6B65\\u9AA4 1 \\u7684\\u7ED3\\u679C\\u548C\\u6B65\\u9AA4 2 \\u4E2D\\u5269\\u4F59\\u9879\\u76EE\\u7684\\u6620\\u5C04\\u7ED3\\u679C\\u5E76\\u8FD4\\u56DE\\u3002\"}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u6211\\u4EEC\\u5FC5\\u987B\\u6CE8\\u610F\\u53EA\\u5728\\u6B65\\u9AA4 1 \\u7ED3\\u675F\\u540E\\u624D\\u8FDB\\u884C\\u5BF9 \",(0,n.jsx)(e.code,{children:\"mapAsyncLimit\"}),\" \\u7684\\u9012\\u5F52\\u8C03\\u7528\\uFF0C\\u5426\\u5219\\u6211\\u4EEC\\u5C06\\u8D85\\u8FC7\\u6240\\u9700\\u7684\\u5E76\\u53D1\\u9650\\u5236\\uFF0C\\u5E76\\u4E14\\u4E0E \",(0,n.jsx)(e.code,{children:\"mapAsync\"}),\" \\u6CA1\\u6709\\u4EFB\\u4F55\\u533A\\u522B\\u3002\"]}),`\n`,(0,n.jsx)(l,{languages:{jsx:h,tsx:u}}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u8FD9\\u79CD\\u89E3\\u51B3\\u65B9\\u6848\\u7684\\u7F3A\\u70B9\\uFF08\\u4E0E\\u6240\\u6709\\u9012\\u5F52\\u65B9\\u6CD5\\u4E00\\u6837\\uFF09\\u662F\\u9012\\u5F52\\u5806\\u6808\\u7684\\u9650\\u5236\\u3002\\u4F46\\u662F\\uFF0C\\u4F7F\\u7528 \",(0,n.jsx)(e.code,{children:\"async\"}),\"/\",(0,n.jsx)(e.code,{children:\"await\"}),\" \\u6709\\u4E00\\u4E2A\\u66F4\\u73B0\\u4EE3\\u548C\\u66F4\\u7B80\\u6D01\\u7684\\u89E3\\u51B3\\u65B9\\u6848\\u3002\"]}),`\n`,(0,n.jsxs)(e.h3,{children:[\"\\u65B9\\u6CD5 3\\uFF1A\\u5E26 \",(0,n.jsx)(e.code,{children:\"async\"}),\"/\",(0,n.jsx)(e.code,{children:\"await\"}),\" \\u7684\\u5757\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u4F7F\\u7528 \",(0,n.jsx)(e.code,{children:\"async\"}),\"/\",(0,n.jsx)(e.code,{children:\"await\"}),\"\\uFF0C\\u60F3\\u6CD5\\u4FDD\\u6301\\u4E0D\\u53D8\\uFF0C\\u4F46\\u662F\\u901A\\u8FC7\\u5C06\\u6570\\u7EC4\\u5207\\u6210 \",(0,n.jsx)(e.code,{children:\"size\"}),\" \\u5757\\u5E76\\u5728 for \\u5FAA\\u73AF\\u4E2D \",(0,n.jsx)(e.code,{children:\"await\"}),\" \\u6BCF\\u4E2A\\u5757\\uFF0C\\u66F4\\u5BB9\\u6613\\u7F16\\u5199\\u987A\\u5E8F \",(0,n.jsx)(e.code,{children:\"async\"}),\" \\u4EE3\\u7801\\u3002\"]}),`\n`,(0,n.jsx)(l,{children:p}),`\n`,(0,n.jsx)(e.h3,{children:\"\\u65B9\\u6CD5 4\\uFF1A\\u65E0\\u5757\\uFF08\\u6700\\u5927\\u5E76\\u53D1\\uFF09\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4E4B\\u524D\\u7684\\u65B9\\u6848\\u6709\\u4E00\\u4E2A\\u5DE8\\u5927\\u7684\\u7F3A\\u70B9\\uFF0C\\u5373\\u5B58\\u5728\\u4E00\\u4E9B\\u7A7A\\u95F2\\u65F6\\u95F4\\uFF0C\\u5E76\\u4E14\\u53EF\\u7528\\u7684\\u4E0A\\u9650\\u5E76\\u53D1\\u9650\\u5236\\u5E76\\u4E0D\\u603B\\u662F\\u88AB\\u5145\\u5206\\u5229\\u7528\\u3002\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\u60F3\\u8C61\\u4E00\\u4E0B\\uFF0C\\u6709 7 \\u4E2A\\u9879\\u76EE\\u8981\\u6620\\u5C04\\uFF0C\\u6BCF\\u4E2A\\u9879\\u76EE\\u90FD\\u9700\\u8981\\u4E0D\\u540C\\u7684\\u6301\\u7EED\\u65F6\\u95F4\\u3002\\u4E0B\\u56FE\\u663E\\u793A\\u4E86\\u6839\\u636E\\u6240\\u91C7\\u7528\\u7684\\u6620\\u5C04\\u65B9\\u6CD5\\u7684\\u6301\\u7EED\\u65F6\\u95F4\\u7684\\u76F8\\u5BF9\\u5DEE\\u5F02\\u3002\"}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"/img/questions/map-async-limit/map-async-limit.png\",alt:\"Map async limit\"})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u987A\\u5E8F\"}),\": \\u987A\\u5E8F\\uFF08\\u4E00\\u6B21\\u4E00\\u4E2A\\uFF09\\u65B9\\u6CD5\\u80AF\\u5B9A\\u4F1A\\u4FDD\\u6301\\u5728\\u5E76\\u53D1\\u9650\\u5236\\u5185\\uFF0C\\u4F46\\u901F\\u5EA6\\u6781\\u6162\\uFF0C\\u5E76\\u4E14\\u6CA1\\u6709\\u5229\\u7528\\u6211\\u4EEC\\u53EF\\u4EE5\\u8FDB\\u884C\\u5E76\\u53D1\\u5F02\\u6B65\\u4EFB\\u52A1\\u7684\\u4E8B\\u5B9E\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u5757\"}),\": \\u5757\\u65B9\\u6CD5\\u63D0\\u9AD8\\u4E86\\u5E76\\u53D1\\u6027\\uFF0C\\u4F46\\u5B83\\u4F1A\\u7B49\\u5F85\\u5F53\\u524D\\u5757\\u4E2D\\u7684\\u6240\\u6709\\u9879\\u76EE\\u5B8C\\u6210\\u540E\\u518D\\u79FB\\u81F3\\u4E0B\\u4E00\\u4E2A\\u3002 \\u5982\\u679C\\u6709\\u4E00\\u4E2A\\u4EFB\\u52A1\\u6BD4\\u5176\\u4ED6\\u4EFB\\u52A1\\u6162\\u5F97\\u591A\\uFF0C\\u5219\\u4F1A\\u51FA\\u73B0\\u7A7A\\u95F2\\u5468\\u671F\\uFF0C\\u5E76\\u4E14\\u65E0\\u6CD5\\u5145\\u5206\\u5229\\u7528\\u53EF\\u7528\\u9650\\u5236\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u65E0\\u5757\"}),\": \\u6700\\u6709\\u6548\\u7684\\u65B9\\u6CD5\\u662F\\u5F53\\u4E00\\u4E2A\\u9879\\u76EE\\u5B8C\\u6210\\u540E\\u7ACB\\u5373\\u5F00\\u59CB\\u5904\\u7406\\u4E0B\\u4E00\\u4E2A\\u9879\\u76EE\\u3002 \\u8FD9\\u786E\\u4FDD\\u4E86\\u603B\\u662F\\u6709 \",(0,n.jsx)(e.code,{children:\"size\"}),\" \\u4E2A\\u6B63\\u5728\\u8FDB\\u884C\\u7684\\u5F02\\u6B65\\u4EFB\\u52A1\\uFF08\\u5F53\\u6709\\u672A\\u5904\\u7406\\u7684\\u9879\\u76EE\\u65F6\\uFF09\\uFF0C\\u5E76\\u4E14\\u5145\\u5206\\u5229\\u7528\\u4E86\\u53EF\\u7528\\u9650\\u5236\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5C31\\u50CF\\u5728 \",(0,n.jsx)(e.code,{children:\"Promise.all\"}),\" \\u7684\\u81EA\\u5B9A\\u4E49\\u5B9E\\u73B0\\u4E2D\\u4E00\\u6837\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u8DDF\\u8E2A\\u5DF2\\u89E3\\u6790\\u9879\\u76EE\\u7684\\u6570\\u91CF\\uFF0C\\u5E76\\u5728\\u6BCF\\u4E2A\\u9879\\u76EE\\u90FD\\u5DF2\\u5904\\u7406\\u5B8C\\u6BD5\\u540E\\u4F7F\\u7528\\u6620\\u5C04\\u7ED3\\u679C \",(0,n.jsx)(e.code,{children:\"resolve()\"}),\"\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u8FD9\\u91CC\\u7684\\u60F3\\u6CD5\\u662F\\u5B9A\\u4E49\\u4E00\\u4E2A\\u51FD\\u6570 \",(0,n.jsx)(e.code,{children:\"processItem\"}),\"\\uFF0C\\u8BE5\\u51FD\\u6570\\u63A5\\u53D7\\u4E00\\u4E2A\\u7D22\\u5F15\\u5E76\\u5904\\u7406\\u8BE5\\u7D22\\u5F15\\u5904\\u7684\\u9879\\u76EE\\uFF0C\\u5E76\\u5728\\u8BE5\\u9879\\u76EE\\u5B8C\\u6210\\u540E\\u5C06\\u7ED3\\u679C\\u6DFB\\u52A0\\u5230\\u6700\\u7EC8\\u6620\\u5C04\\u7684 \",(0,n.jsx)(e.code,{children:\"results\"}),\" \\u6570\\u7EC4\\u4E2D\\u3002 \",(0,n.jsx)(e.code,{children:\"processItem\"}),\" \\u662F\\u4E00\\u4E2A\\u9012\\u5F52\\u51FD\\u6570\\uFF0C\\u5B83\\u5C06\\u4F7F\\u7528\\u8981\\u5904\\u7406\\u7684\\u4E0B\\u4E00\\u4E2A\\u9879\\u76EE\\u7684\\u7D22\\u5F15\\u6765\\u8C03\\u7528\\u81EA\\u8EAB\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u4E3A\\u6B64\\uFF0C\\u6211\\u4EEC\\u9700\\u8981\\u8DDF\\u8E2A\\u8981\\u5904\\u7406\\u7684\\u4E0B\\u4E00\\u4E2A\\u9879\\u76EE\\u7684\\u7D22\\u5F15\\u4F5C\\u4E3A \",(0,n.jsx)(e.code,{children:\"nextIndex\"}),\"\\u3002 \\u6BCF\\u5F53\\u4E00\\u4E2A\\u9879\\u76EE\\u5F00\\u59CB\\u5904\\u7406\\u65F6\\uFF0C\",(0,n.jsx)(e.code,{children:\"nextIndex\"}),\" \\u5C31\\u4F1A\\u9012\\u589E\\u3002 \\u5F53\\u4E00\\u4E2A\\u9879\\u76EE\\u88AB\\u5904\\u7406\\u540E\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u5C06 \",(0,n.jsx)(e.code,{children:\"nextIndex\"}),\" \\u5904\\u7684\\u9879\\u76EE\\u4F5C\\u4E3A\\u4E0B\\u4E00\\u6B65\\u5904\\u7406\\u3002 \\u8FD9\\u786E\\u4FDD\\u4E86\\u603B\\u662F\\u6709 \",(0,n.jsx)(e.code,{children:\"size\"}),\" \\u4E2A\\u6B63\\u5728\\u8FDB\\u884C\\u7684\\u5F02\\u6B65\\u4EFB\\u52A1\\uFF08\\u5F53\\u6709\\u5269\\u4F59\\u7684\\u672A\\u5904\\u7406\\u9879\\u76EE\\u65F6\\uFF09\\uFF0C\\u5E76\\u4E14\\u5B83\\u59CB\\u7EC8\\u5904\\u4E8E\\u9650\\u5236\\u72B6\\u6001\\u3002\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u8FD9\\u79CD\\u60C5\\u51B5\\u4E00\\u76F4\\u6301\\u7EED\\u5230\\u6240\\u6709\\u9879\\u76EE\\u90FD\\u5DF2\\u5904\\u7406\\u5B8C\\u6BD5\\u6216\\u5176\\u4E2D\\u4E00\\u4E2A\\u9879\\u76EE\\u88AB\\u62D2\\u7EDD/\\u51FA\\u9519\\u3002\"}),`\n`,(0,n.jsx)(l,{children:b}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u4EE5\\u4E0B\\u65B9\\u6CD5\\u5BF9\\u5185\\u90E8\\u9012\\u5F52\\u51FD\\u6570\\u4F7F\\u7528 \",(0,n.jsx)(e.code,{children:\"async\"}),\"/\",(0,n.jsx)(e.code,{children:\"await\"}),\"\\uFF1A\"]}),`\n`,(0,n.jsx)(l,{children:y})]})}function M(r={}){let{wrapper:e}=r.components||{};return e?(0,n.jsx)(e,Object.assign({},r,{children:(0,n.jsx)(x,r)})):x(r)}var _=M;return F(D);})();\n;return Component;",
  "workspace": {
    "main": "/src/map-async-limit.ts",
    "run": "/src/map-async-limit.run.test.ts",
    "submit": "/src/map-async-limit.submit.test.ts"
  }
}