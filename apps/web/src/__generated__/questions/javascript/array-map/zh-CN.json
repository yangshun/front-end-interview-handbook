{
  "description": "var Component=(()=>{var s=Object.create;var a=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var y=Object.getPrototypeOf,x=Object.prototype.hasOwnProperty;var j=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),A=(r,e)=>{for(var n in e)a(r,n,{get:e[n],enumerable:!0})},c=(r,e,n,p)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let o of m(e))!x.call(r,o)&&o!==n&&a(r,o,{get:()=>e[o],enumerable:!(p=h(e,o))||p.enumerable});return r};var u=(r,e,n)=>(n=r!=null?s(y(r)):{},c(e||!r||!r.__esModule?a(n,\"default\",{value:r,enumerable:!0}):n,r)),_=r=>c(a({},\"__esModule\",{value:!0}),r);var d=j((D,i)=>{i.exports=_jsx_runtime});var b={};A(b,{default:()=>M,frontmatter:()=>f});var t=u(d()),f={title:\"Array.prototype.map\",excerpt:\"\\u5B9E\\u73B0 Array.prototype.map() \\u65B9\\u6CD5\"};function l(r){let e=Object.assign({p:\"p\",code:\"code\",h2:\"h2\",pre:\"pre\",a:\"a\"},r.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:\"Array.prototype.map\"}),\" \\u521B\\u5EFA\\u4E00\\u4E2A\\u65B0\\u6570\\u7EC4\\uFF0C\\u5176\\u4E2D\\u5145\\u6EE1\\u5BF9\\u8C03\\u7528\\u6570\\u7EC4\\u4E2D\\u6BCF\\u4E2A\\u5143\\u7D20\\u6267\\u884C\\u63D0\\u4F9B\\u7684\\u51FD\\u6570\\u7684\\u7ED3\\u679C\\u3002\"]}),`\n`,(0,t.jsxs)(e.p,{children:[\"\\u5B9E\\u73B0 \",(0,t.jsx)(e.code,{children:\"Array.prototype.map\"}),\"\\u3002\\u4E3A\\u4E86\\u907F\\u514D\\u8986\\u76D6\\u81EA\\u52A8\\u8BC4\\u5206\\u5668\\u6B63\\u5728\\u4F7F\\u7528\\u7684\\u5B9E\\u9645 \",(0,t.jsx)(e.code,{children:\"Array.prototype.map\"}),\"\\uFF0C\\u6211\\u4EEC\\u5C06\\u628A\\u5B83\\u5B9E\\u73B0\\u4E3A \",(0,t.jsx)(e.code,{children:\"Array.prototype.myMap\"}),\"\\u3002\"]}),`\n`,(0,t.jsx)(e.h2,{children:\"\\u793A\\u4F8B\"}),`\n`,(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:\"language-js\",children:`[1, 2, 3, 4].myMap((i) => i); // [1, 2, 3, 4]\n[1, 2, 3, 4].myMap((i) => i * i); // [1, 4, 9, 16]\n`})}),`\n`,(0,t.jsx)(e.h2,{children:\"\\u6CE8\\u610F\\u4E8B\\u9879\"}),`\n`,(0,t.jsxs)(e.p,{children:[\"map \\u56DE\\u8C03\\u51FD\\u6570\\u4E0D\\u4EC5\\u4EC5\\u63A5\\u53D7\\u5143\\u7D20\\uFF01\",(0,t.jsx)(e.code,{children:\"Array.prototype.map\"}),\" \\u4E5F\\u6709\\u7B2C\\u4E8C\\u4E2A\\u53C2\\u6570\\u3002\\u5EFA\\u8BAE\\u60A8\\u5728\\u5C1D\\u8BD5\\u4E4B\\u524D\\u9605\\u8BFB \",(0,t.jsx)(e.a,{href:\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/map\",children:\"MDN \\u6587\\u6863\"}),\" \\u4E0A\\u5173\\u4E8E \",(0,t.jsx)(e.code,{children:\"Array.prototype.map\"}),\" \\u7684\\u89C4\\u8303\\u3002\"]})]})}function g(r={}){let{wrapper:e}=r.components||{};return e?(0,t.jsx)(e,Object.assign({},r,{children:(0,t.jsx)(l,r)})):l(r)}var M=g;return _(b);})();\n;return Component;",
  "files": {
    "/package.json": "{\n  \"name\": \"@gfe-questions/array-map\",\n  \"version\": \"0.0.1\",\n  \"main\": \"/src/array-map.ts\",\n  \"devDependencies\": {\n    \"@types/jest\": \"29.5.0\",\n    \"typescript\": \"5.0.2\"\n  }\n}\n",
    "/tsconfig.json": "{\n  \"include\": [\"./**/*\"],\n  \"compilerOptions\": {\n    \"strict\": true,\n    \"esModuleInterop\": true,\n    \"lib\": [\"dom\", \"dom.iterable\", \"esnext\"],\n    \"jsx\": \"react-jsx\",\n    \"target\": \"es2020\"\n  }\n}\n",
    "/src/array-map.run.test.ts": "import './array-map';\n\nconst identity = <T>(element: T) => element;\nconst square = (element: number) => element * element;\n\ndescribe('Array.prototype.myMap', () => {\n  test('identity', () => {\n    expect([10].myMap(identity)).toEqual([10]);\n    expect([10, 20].myMap(identity)).toEqual([10, 20]);\n  });\n\n  test('square', () => {\n    expect([-4].myMap(square)).toEqual([16]);\n    expect([5].myMap(square)).toEqual([25]);\n  });\n});\n",
    "/src/array-map.submit.test.ts": "import './array-map';\n\nconst identity = <T>(element: T) => element;\nconst square = (element: any) => element * element;\nconst multiplyByIndex = (element: number, index: number) => element * index;\nconst squareAlt = (element: number, index: number, array: Array<number>) =>\n  element * array[index];\nconst usesThis = function (this: any, element: number) {\n  return element * this;\n};\nconst usesThisArrowFn = (element: number) => element * this!;\n\ndescribe('Array.prototype.myMap', () => {\n  test('empty array', () => {\n    expect([].myMap(identity)).toEqual([]);\n    expect([].myMap(square)).toEqual([]);\n  });\n\n  test('one value', () => {\n    expect([10].myMap(identity)).toEqual([10]);\n    expect([10].myMap(square)).toEqual([100]);\n  });\n\n  test('two values', () => {\n    expect([-4, 10].myMap(identity)).toEqual([-4, 10]);\n    expect([-4, 10].myMap(square)).toEqual([16, 100]);\n  });\n\n  test('multiple values', () => {\n    expect([1, 2, 3, 4].myMap(identity)).toEqual([1, 2, 3, 4]);\n    expect([1, 2, 3, 4, 5].myMap(square)).toEqual([1, 4, 9, 16, 25]);\n  });\n\n  test('reducer uses index argument when provided', () => {\n    expect([1, 2, 3].myMap(multiplyByIndex)).toEqual([0, 2, 6]);\n    expect([-1, -3, 4].myMap(multiplyByIndex)).toEqual([-0, -3, 8]);\n  });\n\n  test('reducer uses array argument when provided', () => {\n    expect([1, 2, 3, 4].myMap(squareAlt)).toEqual([1, 4, 9, 16]);\n    expect([-1, -3, 4].myMap(squareAlt)).toEqual([1, 9, 16]);\n  });\n\n  test('uses this argument', () => {\n    expect([1, 2, 3, 4].myMap(usesThis)).toEqual([NaN, NaN, NaN, NaN]);\n    expect([1, 2, 3, 4].myMap(usesThis, 10)).toEqual([10, 20, 30, 40]);\n    expect([1, 2, 3, 4].myMap(usesThisArrowFn)).toEqual([NaN, NaN, NaN, NaN]);\n    expect([1, 2, 3, 4].myMap(usesThisArrowFn, 10)).toEqual([\n      NaN,\n      NaN,\n      NaN,\n      NaN,\n    ]);\n  });\n\n  test('sparse arrays', () => {\n    // eslint-disable-next-line no-sparse-arrays\n    expect([1, 2, , 4].myMap(identity)).toEqual([1, 2, , 4]);\n    // eslint-disable-next-line no-sparse-arrays\n    expect([1, 2, , 4].myMap(square)).toEqual([1, 4, , 16]);\n  });\n\n  test('arrays with undefined values', () => {\n    expect([1, 2, undefined, 4].myMap(identity)).toEqual([1, 2, undefined, 4]);\n    expect([1, 2, undefined, 4].myMap(square)).toEqual([1, 4, NaN, 16]);\n  });\n});\n",
    "/src/array-map.ts": "interface Array<T> {\n  myMap<U>(\n    callbackFn: (value: T, index: number, array: Array<T>) => U,\n    thisArg?: any,\n  ): Array<U>;\n}\n\nArray.prototype.myMap = function (callbackFn, thisArg) {\n  const len = this.length;\n  const array = new Array(len);\n\n  for (let k = 0; k < len; k++) {\n    // Ignore index if value is not defined for index (e.g. in sparse arrays).\n    if (Object.hasOwn(this, k)) {\n      array[k] = callbackFn.call(thisArg, this[k], k, this);\n    }\n  }\n\n  return array;\n};\n"
  },
  "info": {
    "excerpt": "实现 Array.prototype.map() 方法",
    "title": "Array.prototype.map"
  },
  "metadata": {
    "access": "premium",
    "author": null,
    "companies": [
      "amazon",
      "apple",
      "bytedance"
    ],
    "created": 1652918400,
    "difficulty": "easy",
    "duration": 15,
    "featured": false,
    "format": "javascript",
    "frameworkDefault": null,
    "frameworks": [],
    "href": "/questions/javascript/array-map",
    "importance": "medium",
    "languages": [
      "js",
      "ts"
    ],
    "nextQuestions": [
      "contact-form",
      "curry",
      "deep-map",
      "object-map"
    ],
    "published": true,
    "ranking": 100,
    "similarQuestions": [
      "array-square",
      "array-filter",
      "array-reduce"
    ],
    "slug": "array-map",
    "subtitle": null,
    "topics": []
  },
  "skeleton": {
    "js": "/**\n * @template T, U\n * @param { (value: T, index: number, array: Array<T>) => U } callbackFn\n * @param {any} [thisArg]\n * @return {Array<U>}\n */\nArray.prototype.myMap = function (callbackFn, thisArg) {\n  throw 'Not implemented!';\n};",
    "ts": "interface Array<T> {\n  myMap<U>(\n    callbackFn: (value: T, index: number, array: Array<T>) => U,\n    thisArg?: any,\n  ): Array<U>;\n}\n\nArray.prototype.myMap = function (callbackFn, thisArg) {\n  throw 'Not implemented!';\n};"
  },
  "solution": "var Component=(()=>{var k=Object.create;var l=Object.defineProperty;var u=Object.getOwnPropertyDescriptor;var f=Object.getOwnPropertyNames;var A=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var x=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),b=(n,e)=>{for(var a in e)l(n,a,{get:e[a],enumerable:!0})},o=(n,e,a,t)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let c of f(e))!g.call(n,c)&&c!==a&&l(n,c,{get:()=>e[c],enumerable:!(t=u(e,c))||t.enumerable});return n};var F=(n,e,a)=>(a=n!=null?k(A(n)):{},o(e||!n||!n.__esModule?l(a,\"default\",{value:n,enumerable:!0}):a,n)),M=n=>o(l({},\"__esModule\",{value:!0}),n);var h=x((U,d)=>{d.exports=_jsx_runtime});var v={};b(v,{default:()=>_});var r=F(h());var i=MDXCodeBlock;var p=`/**\n * @template T, U\n * @param { (value: T, index: number, array: Array<T>) => U } callbackFn\n * @param {any} [thisArg]\n * @return {Array<U>}\n */\nArray.prototype.myMap = function (callbackFn, thisArg) {\n  const len = this.length;\n  const array = new Array(len);\n\n  for (let k = 0; k < len; k++) {\n    // Ignore index if value is not defined for index (e.g. in sparse arrays).\n    if (Object.hasOwn(this, k)) {\n      array[k] = callbackFn.call(thisArg, this[k], k, this);\n    }\n  }\n\n  return array;\n};\n`;var s=`interface Array<T> {\n  myMap<U>(\n    callbackFn: (value: T, index: number, array: Array<T>) => U,\n    thisArg?: any,\n  ): Array<U>;\n}\n\nArray.prototype.myMap = function (callbackFn, thisArg) {\n  const len = this.length;\n  const array = new Array(len);\n\n  for (let k = 0; k < len; k++) {\n    // Ignore index if value is not defined for index (e.g. in sparse arrays).\n    if (Object.hasOwn(this, k)) {\n      array[k] = callbackFn.call(thisArg, this[k], k, this);\n    }\n  }\n\n  return array;\n};\n`;var y=`Array.prototype.myMap = function (callbackFn, thisArg) {\n  if (\n    typeof callbackFn !== 'function' ||\n    !callbackFn.call ||\n    !callbackFn.apply\n  ) {\n    throw new TypeError(\\`\\${callbackFn} is not a function\\`);\n  }\n\n  const len = this.length;\n  const A = new Array(len);\n  let k = 0;\n\n  while (k < len) {\n    // Ignore index if value is not defined for index (e.g. in sparse arrays).\n    const kPresent = Object.hasOwn(this, k);\n    if (kPresent) {\n      const kValue = this[k];\n      const mappedValue = callbackFn.call(thisArg, kValue, k, this);\n      A[k] = mappedValue;\n    }\n    k = k + 1;\n  }\n\n  return A;\n};\n`;function m(n){let e=Object.assign({p:\"p\",code:\"code\",h2:\"h2\",ul:\"ul\",li:\"li\",pre:\"pre\",a:\"a\"},n.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(e.p,{children:[\"\\u8FD9\\u4E2A\\u95EE\\u9898\\u975E\\u5E38\\u7B80\\u5355\\uFF0C\\u53EA\\u662F\\u6D4B\\u8BD5\\u4F60\\u662F\\u5426\\u77E5\\u9053\\u5982\\u4F55\\u5728 \",(0,r.jsx)(e.code,{children:\"Array.prototype\"}),\" \\u65B9\\u6CD5\\uFF08\\u4F7F\\u7528 \",(0,r.jsx)(e.code,{children:\"this\"}),\"\\uFF09\\u4E2D\\u8BBF\\u95EE\\u6570\\u7EC4\\u503C\\u3002\"]}),`\n`,(0,r.jsx)(e.h2,{children:\"\\u89E3\\u51B3\\u65B9\\u6848\"}),`\n`,(0,r.jsxs)(e.p,{children:[\"\\u521D\\u59CB\\u5316\\u4E00\\u4E2A\\u65B0\\u6570\\u7EC4\\u6765\\u5B58\\u50A8\\u6620\\u5C04\\u7ED3\\u679C\\u3002 \\u5F53\\u6211\\u4EEC\\u904D\\u5386\\u6570\\u7EC4\\uFF08\\u901A\\u8FC7 \",(0,r.jsx)(e.code,{children:\"this\"}),\"\\uFF09\\u65F6\\uFF0C\\u5BF9\\u6BCF\\u4E2A\\u6570\\u7EC4\\u5143\\u7D20\\u8C03\\u7528\\u56DE\\u8C03\\uFF0C\\u5E76\\u4F7F\\u7528\\u4EE5\\u4E0B\\u53C2\\u6570\\uFF1A\",(0,r.jsx)(e.code,{children:\"element\"}),\"\\u3001\",(0,r.jsx)(e.code,{children:\"index\"}),\"\\u3001\",(0,r.jsx)(e.code,{children:\"array\"}),\" \\u548C \",(0,r.jsx)(e.code,{children:\"this\"}),\"\\u3002 \\u8FD9\\u53EF\\u4EE5\\u901A\\u8FC7\\u4F7F\\u7528 \",(0,r.jsx)(e.code,{children:\"Function.prototype.call\"}),\" \\u6216 \",(0,r.jsx)(e.code,{children:\"Function.prototype.apply\"}),\" \\u6765\\u5B8C\\u6210\\u3002\"]}),`\n`,(0,r.jsx)(i,{languages:{jsx:p,tsx:s}}),`\n`,(0,r.jsx)(e.h2,{children:\"\\u8FB9\\u7F18\\u60C5\\u51B5\"}),`\n`,(0,r.jsxs)(e.ul,{children:[`\n`,(0,r.jsxs)(e.li,{children:[\"\\u5C06 \",(0,r.jsx)(e.code,{children:\"index\"}),\" \\u548C \",(0,r.jsx)(e.code,{children:\"array\"}),\" \\u4F20\\u9012\\u7ED9 map \\u56DE\\u8C03\\u3002\"]}),`\n`,(0,r.jsxs)(e.li,{children:[\"\\u5982\\u679C\\u6307\\u5B9A\\u4E86 \",(0,r.jsx)(e.code,{children:\"thisArg\"}),\"\\uFF0C\\u5219\\u4F7F\\u7528\\u6B63\\u786E\\u7684 \",(0,r.jsx)(e.code,{children:\"this\"}),\" \\u8C03\\u7528 map \\u56DE\\u8C03\\u3002\"]}),`\n`,(0,r.jsxs)(e.li,{children:[\"\\u7A00\\u758F\\u6570\\u7EC4\\uFF08\\u4F8B\\u5982 \",(0,r.jsx)(e.code,{children:\"[1, 2, , 4]\"}),\"\\uFF09\\u3002 \\u5728\\u904D\\u5386\\u6570\\u7EC4\\u65F6\\u5E94\\u5FFD\\u7565\\u7A7A\\u503C\\u3002\"]}),`\n`]}),`\n`,(0,r.jsx)(e.h2,{children:\"\\u7B14\\u8BB0\"}),`\n`,(0,r.jsx)(e.p,{children:\"\\u5728 map \\u56DE\\u8C03\\u4E2D\\u4FEE\\u6539\\u6570\\u7EC4\\u662F\\u4E00\\u4E2A\\u574F\\u4E3B\\u610F\\uFF0C\\u53EF\\u80FD\\u4F1A\\u5BFC\\u81F4\\u610F\\u60F3\\u4E0D\\u5230\\u7684\\u540E\\u679C\\u3002 \\u63D0\\u53CA\\u5728\\u56DE\\u8C03\\u4E2D\\u4FEE\\u6539\\u6570\\u7EC4\\u662F\\u53EF\\u80FD\\u7684\\uFF0C\\u8FD9\\u662F\\u4E00\\u4E2A\\u79EF\\u6781\\u7684\\u4FE1\\u53F7\\u3002 \\u63D0\\u4F9B\\u7684\\u89E3\\u51B3\\u65B9\\u6848\\u9075\\u5FAA TC39 \\u89C4\\u8303\\u7684\\u6570\\u7EC4\\u4FEE\\u6539\\u65B9\\u6848\\uFF1A\"}),`\n`,(0,r.jsxs)(e.ul,{children:[`\n`,(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:\"map\"}),\" \\u5904\\u7406\\u7684\\u5143\\u7D20\\u8303\\u56F4\\u5728\\u8C03\\u7528\\u7B2C\\u4E00\\u4E2A\\u56DE\\u8C03\\u4E4B\\u524D\\u8BBE\\u7F6E\\u3002\"]}),`\n`,(0,r.jsxs)(e.li,{children:[\"\\u5728\\u8C03\\u7528 \",(0,r.jsx)(e.code,{children:\"map\"}),\" \\u4E4B\\u540E\\u6DFB\\u52A0\\u5230\\u6570\\u7EC4\\u4E2D\\u7684\\u5143\\u7D20\\u5C06\\u4E0D\\u4F1A\\u88AB\\u56DE\\u8C03\\u8BBF\\u95EE\\u3002\"]}),`\n`,(0,r.jsxs)(e.li,{children:[\"\\u5982\\u679C\\u66F4\\u6539\\u4E86\\u6570\\u7EC4\\u7684\\u73B0\\u6709\\u5143\\u7D20\\uFF0C\\u5219\\u4F20\\u9012\\u7ED9\\u56DE\\u8C03\\u7684\\u503C\\u5C06\\u662F \",(0,r.jsx)(e.code,{children:\"map\"}),\" \\u8BBF\\u95EE\\u5B83\\u4EEC\\u65F6\\u8BE5\\u5143\\u7D20\\u7684\\u503C\\u3002\"]}),`\n`,(0,r.jsxs)(e.li,{children:[\"\\u5728\\u8C03\\u7528 \",(0,r.jsx)(e.code,{children:\"map\"}),\" \\u4E4B\\u540E\\u4F46\\u5728\\u8BBF\\u95EE\\u4E4B\\u524D\\u5220\\u9664\\u7684\\u5143\\u7D20\\u4E0D\\u4F1A\\u88AB\\u8BBF\\u95EE\\u3002\"]}),`\n`]}),`\n`,(0,r.jsxs)(e.p,{children:[\"\\u5982\\u679C\\u56DE\\u8C03\\u5B9A\\u4E49\\u4E3A\\u7BAD\\u5934\\u51FD\\u6570\\uFF0C\\u5219 \",(0,r.jsx)(e.code,{children:\"thisArg\"}),\" \\u4E0D\\u8D77\\u4F5C\\u7528\\uFF0C\\u56E0\\u4E3A\\u7BAD\\u5934\\u51FD\\u6570\\u6CA1\\u6709\\u81EA\\u5DF1\\u7684 \",(0,r.jsx)(e.code,{children:\"this\"}),\" \\u7ED1\\u5B9A\\u3002\"]}),`\n`,(0,r.jsx)(e.h2,{children:\"\\u5355\\u884C\\u89E3\\u51B3\\u65B9\\u6848\"}),`\n`,(0,r.jsx)(e.p,{children:\"\\u4F60\\u53EF\\u4EE5\\u901A\\u8FC7\\u8FD9\\u6837\\u505A\\u6765\\u6B3A\\u9A97\\u81EA\\u52A8\\u8BC4\\u5206\\u5668\\uFF1A\"}),`\n`,(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:\"language-js\",children:`Array.prototype.myMap = Array.prototype.map;\n`})}),`\n`,(0,r.jsx)(e.h2,{children:\"\\u89C4\\u8303\\u89E3\\u51B3\\u65B9\\u6848\"}),`\n`,(0,r.jsxs)(e.p,{children:[\"\\u8FD9\\u662F\\u4E00\\u4E2A\\u57FA\\u4E8E \",(0,r.jsxs)(e.a,{href:\"https://tc39.es/ecma262/multipage/indexed-collections.html#sec-array.prototype.map\",children:[(0,r.jsx)(e.code,{children:\"Array.prototype.map\"}),\" ECMAScript \\u89C4\\u8303\"]}),\" \\u7684\\u89E3\\u51B3\\u65B9\\u6848\\u3002\"]}),`\n`,(0,r.jsx)(i,{children:y}),`\n`,(0,r.jsx)(e.h2,{children:\"\\u8D44\\u6E90\"}),`\n`,(0,r.jsxs)(e.ul,{children:[`\n`,(0,r.jsx)(e.li,{children:(0,r.jsxs)(e.a,{href:\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map\",children:[(0,r.jsx)(e.code,{children:\"Array.prototype.map\"}),\" | MDN\"]})}),`\n`,(0,r.jsx)(e.li,{children:(0,r.jsxs)(e.a,{href:\"https://tc39.es/ecma262/multipage/indexed-collections.html#sec-array.prototype.map\",children:[(0,r.jsx)(e.code,{children:\"Array.prototype.map\"}),\" ECMAScript \\u89C4\\u8303\"]})}),`\n`]})]})}function T(n={}){let{wrapper:e}=n.components||{};return e?(0,r.jsx)(e,Object.assign({},n,{children:(0,r.jsx)(m,n)})):m(n)}var _=T;return M(v);})();\n;return Component;",
  "workspace": {
    "main": "/src/array-map.ts",
    "run": "/src/array-map.run.test.ts",
    "submit": "/src/array-map.submit.test.ts"
  }
}