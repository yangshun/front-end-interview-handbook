{
  "description": "var Component=(()=>{var u=Object.create;var i=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var x=Object.getOwnPropertyNames;var a=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var h=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),f=(e,n)=>{for(var c in n)i(e,c,{get:n[c],enumerable:!0})},r=(e,n,c,s)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let t of x(n))!g.call(e,t)&&t!==c&&i(e,t,{get:()=>n[t],enumerable:!(s=p(n,t))||s.enumerable});return e};var F=(e,n,c)=>(c=e!=null?u(a(e)):{},r(n||!e||!e.__esModule?i(c,\"default\",{value:e,enumerable:!0}):c,e)),j=e=>r(i({},\"__esModule\",{value:!0}),e);var l=h((M,m)=>{m.exports=_jsx_runtime});var C={};f(C,{default:()=>_,frontmatter:()=>z});var o=F(l()),z={title:\"Memoize\",excerpt:\"\\u5B9E\\u73B0\\u4E00\\u4E2A\\u51FD\\u6570\\uFF0C\\u8BE5\\u51FD\\u6570\\u8FD4\\u56DE\\u4E00\\u4E2A\\u51FD\\u6570\\u7684\\u8BB0\\u5FC6\\u5316\\u7248\\u672C\\uFF0C\\u8BE5\\u51FD\\u6570\\u63A5\\u53D7\\u5355\\u4E2A\\u53C2\\u6570\"};function d(e){let n=Object.assign({p:\"p\",code:\"code\",h2:\"h2\",pre:\"pre\"},e.components);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.p,{children:\"\\u8BB0\\u5FC6\\u5316\\u51FD\\u6570\\u662F\\u4E00\\u4E2A\\u9AD8\\u9636\\u51FD\\u6570\\uFF0C\\u5B83\\u63A5\\u53D7\\u4E00\\u4E2A\\u51FD\\u6570\\u5E76\\u8FD4\\u56DE\\u8BE5\\u51FD\\u6570\\u7684\\u8BB0\\u5FC6\\u5316\\u7248\\u672C\\u3002\\u8BB0\\u5FC6\\u5316\\u51FD\\u6570\\u7F13\\u5B58\\u6602\\u8D35\\u51FD\\u6570\\u8C03\\u7528\\u7684\\u7ED3\\u679C\\uFF0C\\u5E76\\u5728\\u518D\\u6B21\\u6536\\u5230\\u76F8\\u540C\\u7684\\u8F93\\u5165\\u65F6\\u8FD4\\u56DE\\u7F13\\u5B58\\u7684\\u7ED3\\u679C\\u3002\\u8FD9\\u53EF\\u4EE5\\u663E\\u8457\\u63D0\\u9AD8\\u6D89\\u53CA\\u590D\\u6742\\u5904\\u7406/\\u663E\\u8457\\u5EF6\\u8FDF\\u4E14\\u53CD\\u590D\\u4F7F\\u7528\\u76F8\\u540C\\u53C2\\u6570\\u8C03\\u7528\\u7684\\u51FD\\u6570\\u7684\\u6027\\u80FD\\u3002\"}),`\n`,(0,o.jsxs)(n.p,{children:[\"\\u5B9E\\u73B0\\u4E00\\u4E2A\\u51FD\\u6570 \",(0,o.jsx)(n.code,{children:\"memoize(func)\"}),\"\\uFF0C\\u5B83\\u63A5\\u53D7\\u4E00\\u4E2A\\u51FD\\u6570\\u53C2\\u6570 \",(0,o.jsx)(n.code,{children:\"func\"}),\" \\u5E76\\u8FD4\\u56DE\\u8BE5\\u51FD\\u6570\\u7684\\u8BB0\\u5FC6\\u5316\\u7248\\u672C\\u3002\\u60A8\\u53EF\\u4EE5\\u5047\\u8BBE \",(0,o.jsx)(n.code,{children:\"func\"}),\" \\u4EC5\\u63A5\\u53D7\\u5B57\\u7B26\\u4E32\\u6216\\u6570\\u5B57\\u4F5C\\u4E3A\\u5176\\u552F\\u4E00\\u53C2\\u6570\\u3002\"]}),`\n`,(0,o.jsx)(n.h2,{children:\"\\u4F8B\\u5B50\"}),`\n`,(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:\"language-js\",children:`function expensiveFunction(n) {\n  console.log('Computing...');\n  return n * 2;\n}\n\n// \\u521B\\u5EFA\\u8BE5\\u51FD\\u6570\\u7684\\u8BB0\\u5FC6\\u5316\\u7248\\u672C\\u3002\nconst memoizedExpensiveFunction = memoize(expensiveFunction);\n\n// \\u7B2C\\u4E00\\u6B21\\u8C03\\u7528\\uFF08\\u8BA1\\u7B97\\u5E76\\u7F13\\u5B58\\u7ED3\\u679C\\uFF09\\u3002\nconsole.log(memoizedExpensiveFunction(5)); // \\u8F93\\u51FA\\uFF1AComputing... 10\n\n// \\u7B2C\\u4E8C\\u6B21\\u8C03\\u7528\\uFF0C\\u4F7F\\u7528\\u76F8\\u540C\\u7684\\u53C2\\u6570\\uFF08\\u8FD4\\u56DE\\u7F13\\u5B58\\u7684\\u7ED3\\u679C\\uFF09\\u3002\nconsole.log(memoizedExpensiveFunction(5)); // \\u8F93\\u51FA\\uFF1A10\n\n// \\u7B2C\\u4E09\\u6B21\\u8C03\\u7528\\uFF0C\\u4F7F\\u7528\\u4E0D\\u540C\\u7684\\u53C2\\u6570\\uFF08\\u8BA1\\u7B97\\u5E76\\u7F13\\u5B58\\u65B0\\u7ED3\\u679C\\uFF09\\u3002\nconsole.log(memoizedExpensiveFunction(10)); // \\u8F93\\u51FA\\uFF1AComputing... 20\n\n// \\u7B2C\\u56DB\\u6B21\\u8C03\\u7528\\uFF0C\\u4F7F\\u7528\\u4E0E\\u7B2C\\u4E09\\u6B21\\u8C03\\u7528\\u76F8\\u540C\\u7684\\u53C2\\u6570\\uFF08\\u8FD4\\u56DE\\u7F13\\u5B58\\u7684\\u7ED3\\u679C\\uFF09\\u3002\nconsole.log(memoizedExpensiveFunction(10)); // \\u8F93\\u51FA\\uFF1A20\n`})})]})}function v(e={}){let{wrapper:n}=e.components||{};return n?(0,o.jsx)(n,Object.assign({},e,{children:(0,o.jsx)(d,e)})):d(e)}var _=v;return j(C);})();\n;return Component;",
  "info": {
    "excerpt": "实现一个函数，该函数返回一个函数的记忆化版本，该函数接受单个参数",
    "title": "Memoize"
  },
  "solution": "var Component=(()=>{var p=Object.create;var i=Object.defineProperty;var g=Object.getOwnPropertyDescriptor;var f=Object.getOwnPropertyNames;var z=Object.getPrototypeOf,x=Object.prototype.hasOwnProperty;var F=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),M=(n,e)=>{for(var r in e)i(n,r,{get:e[r],enumerable:!0})},t=(n,e,r,d)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let o of f(e))!x.call(n,o)&&o!==r&&i(n,o,{get:()=>e[o],enumerable:!(d=g(e,o))||d.enumerable});return n};var j=(n,e,r)=>(r=n!=null?p(z(n)):{},t(e||!n||!n.__esModule?i(r,\"default\",{value:n,enumerable:!0}):r,n)),y=n=>t(i({},\"__esModule\",{value:!0}),n);var h=F((k,l)=>{l.exports=_jsx_runtime});var D={};M(D,{default:()=>C});var c=j(h());var a=MDXCodeBlock;var u=`/**\n * @param {Function} func\n * @returns Function\n */\nexport default function memoize(func) {\n  const cache = new Map();\n\n  return function (arg) {\n    if (cache.has(arg)) {\n      return cache.get(arg);\n    }\n\n    const result = func.call(this, arg);\n    cache.set(arg, result);\n\n    return result;\n  };\n}\n`;var s=`type Fn<T> = (this: any, arg: T) => unknown;\n\nexport default function memoize<T>(func: Fn<T>): Fn<T> {\n  const cache = new Map();\n\n  return function (arg) {\n    if (cache.has(arg)) {\n      return cache.get(arg);\n    }\n\n    const result = func.call(this, arg);\n    cache.set(arg, result);\n\n    return result;\n  };\n}\n`;function m(n){let e=Object.assign({h2:\"h2\",p:\"p\",h3:\"h3\",code:\"code\",ol:\"ol\",li:\"li\",ul:\"ul\"},n.components);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(e.h2,{children:\"\\u89E3\\u51B3\\u65B9\\u6848\"}),`\n`,(0,c.jsx)(e.p,{children:\"\\u89E3\\u51B3\\u6B64\\u95EE\\u9898\\u7684\\u5173\\u952E\\u662F\\u4F7F\\u7528\\u4E00\\u4E2A\\u7F13\\u5B58\\uFF0C\\u7528\\u4E8E\\u5B58\\u50A8\\u8F93\\u5165\\u53C2\\u6570\\u7684\\u7ED3\\u679C\\u3002\\u5982\\u679C\\u8F93\\u5165\\u53C2\\u6570\\u5B58\\u5728\\u7F13\\u5B58\\u6761\\u76EE\\uFF0C\\u5219\\u8FD4\\u56DE\\u7F13\\u5B58\\u7684\\u7ED3\\u679C\\u3002\\u5426\\u5219\\uFF0C\\u50CF\\u5F80\\u5E38\\u4E00\\u6837\\u8C03\\u7528\\u8BE5\\u51FD\\u6570\\uFF0C\\u5C06\\u7ED3\\u679C\\u653E\\u5165\\u7F13\\u5B58\\u4E2D\\uFF0C\\u5E76\\u5C06\\u8F93\\u5165\\u53C2\\u6570\\u4F5C\\u4E3A\\u952E\\uFF0C\\u4EE5\\u4FBF\\u540E\\u7EED\\u4F7F\\u7528\\u76F8\\u540C\\u53C2\\u6570\\u8C03\\u7528\\u8BE5\\u51FD\\u6570\\u65F6\\uFF0C\\u5C06\\u547D\\u4E2D\\u7F13\\u5B58\\u5E76\\u76F4\\u63A5\\u8FD4\\u56DE\\u503C\\uFF0C\\u800C\\u65E0\\u9700\\u8C03\\u7528\\u539F\\u59CB\\u51FD\\u6570\\u3002\\u8FD9\\u4E2A\\u95EE\\u9898\\u53EF\\u4EE5\\u5206\\u89E3\\u4E3A\\u4E09\\u4E2A\\u90E8\\u5206\\uFF1A\"}),`\n`,(0,c.jsx)(e.h3,{children:\"\\u786E\\u5B9A\\u7F13\\u5B58\\u952E\"}),`\n`,(0,c.jsxs)(e.p,{children:[\"\\u7F13\\u5B58\\u952E\\u662F\\u4E00\\u4E2A\\u4E0E \",(0,c.jsx)(e.code,{children:\"func\"}),\" \\u53EF\\u4EE5\\u8C03\\u7528\\u7684\\u53C2\\u6570\\u5177\\u6709\\u4E00\\u4E00\\u5BF9\\u5E94\\u5173\\u7CFB\\u7684\\u6570\\u503C\\u3002\\u7531\\u4E8E\\u5BF9\\u8F93\\u5165\\u7C7B\\u578B\\u6709\\u9650\\u5236\\uFF0C\\u5E76\\u4E14 \",(0,c.jsx)(e.code,{children:\"func\"}),\" \\u53EA\\u6709\\u4E00\\u4E2A\\u8F93\\u5165\\u53C2\\u6570\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u76F4\\u63A5\\u4F7F\\u7528\\u8BE5\\u53C2\\u6570\\u4F5C\\u4E3A\\u952E\\u3002\"]}),`\n`,(0,c.jsx)(e.h3,{children:\"\\u786E\\u5B9A\\u7F13\\u5B58\\u7684\\u7ED3\\u6784\"}),`\n`,(0,c.jsxs)(e.p,{children:[\"\\u7F13\\u5B58\\u67E5\\u627E\\u5FC5\\u987B\\u5FEB\\u901F\\uFF0C\\u7406\\u60F3\\u60C5\\u51B5\\u4E0B\\u5177\\u6709 O(1) \\u7684\\u65F6\\u95F4\\u590D\\u6742\\u5EA6\\u3002\\u5728 JavaScript \\u4E2D\\uFF0C\\u5BF9\\u8C61\\u548C \",(0,c.jsx)(e.code,{children:\"Map\"}),\" \\u80FD\\u591F\\u6EE1\\u8DB3\\u5FEB\\u901F\\u67E5\\u627E\\u952E\\u53CA\\u5176\\u5BF9\\u5E94\\u503C\\u7684\\u76EE\\u7684\\u3002\\u4F46\\u662F\\uFF0C\\u6211\\u4EEC\\u4E0D\\u80FD\\u5728\\u8FD9\\u91CC\\u4F7F\\u7528 JavaScript \\u5BF9\\u8C61\\uFF0C\\u56E0\\u4E3A\\u5B83\\u53EA\\u5141\\u8BB8\\u5B57\\u7B26\\u4E32\\u952E\\uFF0C\\u5F53\\u6570\\u5B57\\u7528\\u4F5C\\u5BF9\\u8C61\\u7684\\u952E\\u65F6\\uFF0C\\u5B83\\u4EEC\\u5C06\\u88AB\\u8F6C\\u6362\\u4E3A\\u5B57\\u7B26\\u4E32\\u3002\\u4F46\\u662F\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u4F7F\\u7528 \",(0,c.jsx)(e.code,{children:\"Map\"}),\"\\uFF0C\\u5B83\\u533A\\u5206\\u76F8\\u540C\\u503C\\u7684\\u5B57\\u7B26\\u4E32\\u952E\\u548C\\u6570\\u5B57\\u952E\\uFF08\\u4F8B\\u5982 \",(0,c.jsx)(e.code,{children:\"1\"}),\" \\u4E0E \",(0,c.jsx)(e.code,{children:\"'1'\"}),\"\\uFF09\\u3002\"]}),`\n`,(0,c.jsx)(e.p,{children:\"\\u8FD4\\u56DE\\u7684\\u51FD\\u6570\\u53EF\\u4EE5\\u901A\\u8FC7\\u95ED\\u5305\\u8BBF\\u95EE\\u7F13\\u5B58\\u3002\\u901A\\u8FC7\\u95ED\\u5305\\uFF0C\\u6BCF\\u4E2A\\u552F\\u4E00\\u7684 memoized \\u51FD\\u6570\\u5B9E\\u4F8B\\u90FD\\u5C06\\u62E5\\u6709\\u81EA\\u5DF1\\u7684\\u7F13\\u5B58\\u3002\"}),`\n`,(0,c.jsx)(e.h3,{children:\"\\u4F7F\\u7528\\u7F13\\u5B58\"}),`\n`,(0,c.jsxs)(e.p,{children:[\"\\u5728\\u8C03\\u7528\\u539F\\u59CB\\u51FD\\u6570 \",(0,c.jsx)(e.code,{children:\"func\"}),\" \\u4E4B\\u524D\\uFF0Cmemoized \\u51FD\\u6570\\u9996\\u5148\\u68C0\\u67E5 \",(0,c.jsx)(e.code,{children:\"cache\"}),\" \\u662F\\u5426\\u5DF2\\u7ECF\\u5305\\u542B\\u5F53\\u524D \",(0,c.jsx)(e.code,{children:\"arg\"}),\" \\u7684\\u6761\\u76EE\\u3002\\u8FD9\\u5C06\\u5BFC\\u81F4\\u4EE5\\u4E0B\\u4E24\\u79CD\\u60C5\\u51B5\\u4E4B\\u4E00\\uFF1A\"]}),`\n`,(0,c.jsxs)(e.ol,{children:[`\n`,(0,c.jsxs)(e.li,{children:[\"\\u7F13\\u5B58\\u5305\\u542B \",(0,c.jsx)(e.code,{children:\"arg\"}),\" \\u7684\\u6761\\u76EE\\u3002\\u5B58\\u5728\\u7F13\\u5B58\\u7ED3\\u679C\\uFF0C\\u8FD9\\u610F\\u5473\\u7740\\u8BE5\\u51FD\\u6570\\u4E4B\\u524D\\u5DF2\\u4F7F\\u7528\\u76F8\\u540C\\u7684\\u53C2\\u6570\\u8C03\\u7528\\uFF0C\\u5E76\\u4E14\\u65E0\\u9700\\u91CD\\u65B0\\u8BA1\\u7B97\\u7ED3\\u679C\\u3002\\u5728\\u8FD9\\u79CD\\u60C5\\u51B5\\u4E0B\\uFF0Cmemoized \\u51FD\\u6570\\u53EA\\u9700\\u4F7F\\u7528 \",(0,c.jsx)(e.code,{children:\"cache.get(arg)\"}),\" \\u8FD4\\u56DE\\u7F13\\u5B58\\u7ED3\\u679C\\u3002\"]}),`\n`,(0,c.jsxs)(e.li,{children:[\"\\u7F13\\u5B58\\u4E0D\\u5305\\u542B \",(0,c.jsx)(e.code,{children:\"arg\"}),\" \\u7684\\u6761\\u76EE\\u3002\\u5982\\u679C\\u7F13\\u5B58\\u4E0D\\u5305\\u542B\\u5F53\\u524D \",(0,c.jsx)(e.code,{children:\"arg\"}),\" \\u7684\\u7ED3\\u679C\\uFF0C\\u5219\\u610F\\u5473\\u7740\\u8BE5\\u51FD\\u6570\\u4F7F\\u7528\\u65B0\\u53C2\\u6570\\u8C03\\u7528\\u3002\\u7136\\u540E\\uFF0Cmemoized \\u51FD\\u6570\\u4F7F\\u7528 \",(0,c.jsx)(e.code,{children:\"Function.prototype.call()\"}),\" \\u65B9\\u6CD5\\u8C03\\u7528\\u539F\\u59CB\\u51FD\\u6570 func\\u3002\\u4E5F\\u53EF\\u4EE5\\u4F7F\\u7528 \",(0,c.jsx)(e.code,{children:\"Function.prototype.apply()\"}),\"\\uFF0C\\u4F46\\u8003\\u8651\\u5230\\u53EA\\u6709\\u4E00\\u4E2A\\u53C2\\u6570\\uFF0C\",(0,c.jsx)(e.code,{children:\"Function.prototype.call()\"}),\" \\u66F4\\u6613\\u4E8E\\u4F7F\\u7528\\u3002\",(0,c.jsx)(e.code,{children:\"Function.prototype.call()\"}),\" \\u65B9\\u6CD5\\u7528\\u4E8E\\u786E\\u4FDD\\u5728\\u4ECE memoized \\u51FD\\u6570\\u8C03\\u7528\\u65F6\\u4FDD\\u7559\\u539F\\u59CB\\u51FD\\u6570\\u7684\\u4E0A\\u4E0B\\u6587\\uFF08\",(0,c.jsx)(e.code,{children:\"this\"}),\"\\uFF09\\u3002\\u53C2\\u6570 \",(0,c.jsx)(e.code,{children:\"arg\"}),\" \\u5C06\\u4F20\\u9012\\u7ED9\\u539F\\u59CB\\u51FD\\u6570 \",(0,c.jsx)(e.code,{children:\"func\"}),\"\\u3002\\u5728\\u4F7F\\u7528\\u539F\\u59CB\\u51FD\\u6570\\u8BA1\\u7B97\\u7ED3\\u679C\\u540E\\uFF0Cmemoized \\u51FD\\u6570\\u901A\\u8FC7\\u5C06\\u7ED3\\u679C\\u4E0E\\u5BF9\\u5E94\\u7684 \",(0,c.jsx)(e.code,{children:\"arg\"}),\" \\u952E\\u5173\\u8054\\u8D77\\u6765\\uFF0C\\u4F7F\\u7528 \",(0,c.jsx)(e.code,{children:\"cache.set(arg, result)\"}),\" \\u5C06\\u7ED3\\u679C\\u5B58\\u50A8\\u5728\\u7F13\\u5B58\\u4E2D\\u3002\\u6700\\u540E\\uFF0Cmemoized \\u51FD\\u6570\\u8FD4\\u56DE\\u8BA1\\u7B97\\u7ED3\\u679C\\u3002\"]}),`\n`]}),`\n`,(0,c.jsx)(a,{languages:{jsx:u,tsx:s}}),`\n`,(0,c.jsx)(e.h2,{children:\"\\u8FB9\\u7F18\\u60C5\\u51B5\"}),`\n`,(0,c.jsxs)(e.ul,{children:[`\n`,(0,c.jsxs)(e.li,{children:[\"\\u5728\\u5B9E\\u8DF5\\u4E2D\\uFF0C\\u51FD\\u6570\\u53EF\\u4EE5\\u63A5\\u53D7\\u591A\\u4E2A\\u4E0D\\u540C\\u7C7B\\u578B\\u7684\\u53C2\\u6570\\uFF0C\\u800C\\u4E0D\\u4EC5\\u4EC5\\u662F\\u5B57\\u7B26\\u4E32\\u548C\\u6570\\u5B57\\uFF0C\\u56E0\\u6B64\\u5F53\\u524D\\u7684 \",(0,c.jsx)(e.code,{children:\"memoize\"}),\" \\u5B9E\\u73B0\\u5BF9\\u4E8E\\u8FD9\\u4E9B\\u60C5\\u51B5\\u6765\\u8BF4\\u662F\\u4E0D\\u591F\\u7684\\u3002\"]}),`\n`,(0,c.jsxs)(e.li,{children:[\"\\u867D\\u7136\\u53EF\\u4EE5\\u6BEB\\u65E0\\u95EE\\u9898\\u5730\\u8BBF\\u95EE \",(0,c.jsx)(e.code,{children:\"this\"}),\"\\uFF0C\\u4F46\\u7ED3\\u679C\\u4EC5\\u57FA\\u4E8E\\u8F93\\u5165\\u53C2\\u6570\\u8FDB\\u884C memoized\\uFF0C\\u5373\\u4F7F\\u5728\\u8C03\\u7528\\u4E4B\\u95F4 \",(0,c.jsx)(e.code,{children:\"this\"}),\" \\u7684\\u503C\\u4E0D\\u540C\\uFF0C\\u5BF9\\u4E8E\\u76F8\\u540C\\u7684\\u8F93\\u5165\\u53C2\\u6570\\u4E5F\\u4F1A\\u8FD4\\u56DE\\u76F8\\u540C\\u7684 memoized \\u7ED3\\u679C\\u3002\"]}),`\n`]})]})}function w(n={}){let{wrapper:e}=n.components||{};return e?(0,c.jsx)(e,Object.assign({},n,{children:(0,c.jsx)(m,n)})):m(n)}var C=w;return y(D);})();\n;return Component;"
}