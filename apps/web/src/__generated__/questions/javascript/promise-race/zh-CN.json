{
  "description": "var Component=(()=>{var p=Object.create;var s=Object.defineProperty;var d=Object.getOwnPropertyDescriptor;var h=Object.getOwnPropertyNames;var u=Object.getPrototypeOf,j=Object.prototype.hasOwnProperty;var P=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),g=(r,e)=>{for(var o in e)s(r,o,{get:e[o],enumerable:!0})},i=(r,e,o,t)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let c of h(e))!j.call(r,c)&&c!==o&&s(r,c,{get:()=>e[c],enumerable:!(t=d(e,c))||t.enumerable});return r};var v=(r,e,o)=>(o=r!=null?p(u(r)):{},i(e||!r||!r.__esModule?s(o,\"default\",{value:r,enumerable:!0}):o,r)),b=r=>i(s({},\"__esModule\",{value:!0}),r);var a=P((q,l)=>{l.exports=_jsx_runtime});var f={};g(f,{default:()=>_,frontmatter:()=>x});var n=v(a()),x={title:\"Promise.race\",excerpt:\"\\u5B9E\\u73B0 Promise.race() \\u51FD\\u6570\\uFF0C\\u5F53\\u4EFB\\u4F55\\u4E00\\u4E2A\\u8F93\\u5165\\u5143\\u7D20\\u88AB\\u89E3\\u51B3\\u6216\\u62D2\\u7EDD\\u65F6\\uFF0C\\u5B83\\u5C31\\u4F1A\\u88AB\\u89E3\\u51B3\\u6216\\u62D2\\u7EDD\\u3002\"};function m(r){let e=Object.assign({blockquote:\"blockquote\",p:\"p\",code:\"code\",em:\"em\",a:\"a\",h2:\"h2\",pre:\"pre\"},r.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"Promise.race()\"}),\" \\u65B9\\u6CD5\\u8FD4\\u56DE\\u4E00\\u4E2A promise\\uFF0C\\u8BE5 promise \\u5728\\u53EF\\u8FED\\u4EE3\\u5BF9\\u8C61\\u4E2D\\u7684\\u4E00\\u4E2A promise \\u89E3\\u51B3\\u6216\\u62D2\\u7EDD\\u65F6\\u5C31\\u89E3\\u51B3\\u6216\\u62D2\\u7EDD\\uFF0C\\u5E76\\u5E26\\u6709\\u8BE5 promise \\u7684\\u503C\\u6216\\u539F\\u56E0\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:\"\\u5982\\u679C\\u4F20\\u9012\\u7684\\u53EF\\u8FED\\u4EE3\\u5BF9\\u8C61\\u4E3A\\u7A7A\\uFF0C\\u5219\\u8FD4\\u56DE\\u7684 promise \\u5C06\\u6C38\\u8FDC\\u5904\\u4E8E\\u5F85\\u5B9A\\u72B6\\u6001\\u3002\"}),`\n`]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5982\\u679C\\u53EF\\u8FED\\u4EE3\\u5BF9\\u8C61\\u5305\\u542B\\u4E00\\u4E2A\\u6216\\u591A\\u4E2A\\u975E promise \\u503C\\u548C/\\u6216\\u4E00\\u4E2A\\u5DF2\\u786E\\u5B9A\\u7684 promise\\uFF0C\\u90A3\\u4E48 \",(0,n.jsx)(e.code,{children:\"Promise.race()\"}),\" \\u5C06\\u89E3\\u6790\\u4E3A\\u5728\\u53EF\\u8FED\\u4EE3\\u5BF9\\u8C61\\u4E2D\\u627E\\u5230\\u7684\\u7B2C\\u4E00\\u4E2A\\u8FD9\\u4E9B\\u503C\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsxs)(e.em,{children:[\"\\u6765\\u6E90\\uFF1A\",(0,n.jsx)(e.a,{href:\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Promise/race\",children:\"Promise.race() - JavaScript | MDN\"})]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u8BA9\\u6211\\u4EEC\\u5B9E\\u73B0\\u6211\\u4EEC\\u81EA\\u5DF1\\u7684 \",(0,n.jsx)(e.code,{children:\"Promise.race()\"}),\" \\u7248\\u672C\\uFF0C\\u4E00\\u4E2A \",(0,n.jsx)(e.code,{children:\"promiseRace\"}),\" \\u51FD\\u6570\\uFF0C\\u4E0D\\u540C\\u4E4B\\u5904\\u5728\\u4E8E\\u8BE5\\u51FD\\u6570\\u63A5\\u53D7\\u4E00\\u4E2A\\u6570\\u7EC4\\u800C\\u4E0D\\u662F\\u4E00\\u4E2A\\u53EF\\u8FED\\u4EE3\\u5BF9\\u8C61\\u3002\\u8BF7\\u52A1\\u5FC5\\u4ED4\\u7EC6\\u9605\\u8BFB\\u63CF\\u8FF0\\u5E76\\u76F8\\u5E94\\u5730\\u5B9E\\u73B0\\uFF01\"]}),`\n`,(0,n.jsx)(e.h2,{children:\"\\u4F8B\\u5B50\"}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-js\",children:`const p0 = new Promise((resolve) => {\n  setTimeout(() => {\n    resolve(42);\n  }, 100);\n});\nconst p1 = new Promise((resolve, reject) => {\n  setTimeout(() => {\n    reject('Err!');\n  }, 400);\n});\n\nawait promiseRace([p0, p1]); // 42\n`})}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-js\",children:`const p0 = Promise.resolve(42);\nconst p1 = new Promise((resolve, reject) => {\n  setTimeout(() => {\n    resolve(21);\n  }, 100);\n});\n\nawait promiseRace([p0, p1]); // 42\n`})}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-js\",children:`const p0 = new Promise((resolve) => {\n  setTimeout(() => {\n    resolve(42);\n  }, 400);\n});\nconst p1 = new Promise((resolve, reject) => {\n  setTimeout(() => {\n    reject('Err!');\n  }, 100);\n});\n\ntry {\n  await promiseRace([p0, p1]);\n} catch (err) {\n  console.log(err); // 'Err!'\n}\n`})})]})}function w(r={}){let{wrapper:e}=r.components||{};return e?(0,n.jsx)(e,Object.assign({},r,{children:(0,n.jsx)(m,r)})):m(r)}var _=w;return b(f);})();\n;return Component;",
  "files": {
    "/package.json": "{\n  \"name\": \"@gfe-questions/promise-race\",\n  \"version\": \"0.0.1\",\n  \"main\": \"/src/promise-race.ts\",\n  \"devDependencies\": {\n    \"@types/jest\": \"29.5.0\",\n    \"typescript\": \"5.0.2\"\n  }\n}\n",
    "/tsconfig.json": "{\n  \"include\": [\"./**/*\"],\n  \"compilerOptions\": {\n    \"strict\": true,\n    \"esModuleInterop\": true,\n    \"lib\": [\"dom\", \"dom.iterable\", \"esnext\"],\n    \"jsx\": \"react-jsx\",\n    \"target\": \"es2020\"\n  }\n}\n",
    "/src/promise-race.run.test.ts": "import promiseRace from './promise-race';\n\ndescribe('promiseRace', () => {\n  test('returns a promise', () => {\n    const promise = promiseRace([]);\n    expect(promise).toBeInstanceOf(Promise);\n  });\n\n  test('empty input array', (done) => {\n    expect.assertions(1);\n    const promise = promiseRace([]);\n    expect(promise).toBeInstanceOf(Promise);\n    promise.then(\n      (value) => {\n        expect(value).toBeTruthy();\n      },\n      (reason) => {\n        expect(reason).toBeTruthy();\n      },\n    );\n\n    setTimeout(() => {\n      done();\n    }, 10);\n  });\n\n  test('one promise', async () => {\n    expect.assertions(1);\n    const p0 = 2;\n\n    const res = await promiseRace([p0]);\n    expect(res).toEqual(2);\n  });\n\n  test('mix of resolve and reject', async () => {\n    expect.assertions(1);\n    const p0 = Promise.resolve(42);\n    const p1 = new Promise((_, reject) => {\n      setTimeout(() => {\n        reject(2);\n      }, 10);\n    });\n\n    const res = await promiseRace([p0, p1]);\n    expect(res).toEqual(42);\n  });\n});\n",
    "/src/promise-race.submit.test.ts": "import promiseRace from './promise-race';\n\ndescribe('promiseRace', () => {\n  test('returns a promise', () => {\n    const promise = promiseRace([]);\n    expect(promise).toBeInstanceOf(Promise);\n  });\n\n  test('empty input array', (done) => {\n    expect.assertions(1);\n    const promise = promiseRace([]);\n    expect(promise).toBeInstanceOf(Promise);\n    promise.then(\n      (value) => {\n        expect(value).toBeTruthy();\n      },\n      (reason) => {\n        expect(reason).toBeTruthy();\n      },\n    );\n\n    setTimeout(() => {\n      done();\n    }, 10);\n  });\n\n  describe('one promise', () => {\n    describe('resolve', () => {\n      test('value', async () => {\n        expect.assertions(1);\n        const p0 = 2;\n\n        const res = await promiseRace([p0]);\n        expect(res).toEqual(2);\n      });\n\n      test('instant', async () => {\n        expect.assertions(1);\n        const p0 = Promise.resolve(2);\n\n        const res = await promiseRace([p0]);\n        expect(res).toEqual(2);\n      });\n\n      test('delayed', async () => {\n        expect.assertions(1);\n        const p0 = new Promise((resolve) => {\n          setTimeout(() => {\n            resolve(2);\n          }, 10);\n        });\n\n        const res = await promiseRace([p0]);\n        expect(res).toEqual(2);\n      });\n    });\n\n    describe('reject', () => {\n      test('instant', async () => {\n        expect.assertions(1);\n        const p0 = Promise.reject(2);\n\n        await expect(promiseRace([p0])).rejects.toBe(2);\n      });\n\n      test('delayed', async () => {\n        expect.assertions(1);\n        const p0 = new Promise((_, reject) => {\n          setTimeout(() => {\n            reject(2);\n          }, 10);\n        });\n\n        await expect(promiseRace([p0])).rejects.toBe(2);\n      });\n    });\n  });\n\n  describe('multiple promises', () => {\n    describe('all resolve', () => {\n      test('instant', async () => {\n        expect.assertions(1);\n        const p0 = Promise.resolve(2);\n        const p1 = Promise.resolve(3);\n\n        const res = await promiseRace([p0, p1]);\n        expect(res).toEqual(2);\n      });\n\n      test('delayed', async () => {\n        expect.assertions(1);\n        const p0 = Promise.resolve(2);\n        const p1 = new Promise((resolve) => {\n          setTimeout(() => {\n            resolve(3);\n          }, 10);\n        });\n\n        const res = await promiseRace([p0, p1]);\n        expect(res).toEqual(2);\n      });\n\n      test('mixture', async () => {\n        expect.assertions(1);\n        const p0 = new Promise((resolve) => {\n          setTimeout(() => {\n            resolve(2);\n          }, 10);\n        });\n        const p1 = Promise.resolve(3);\n        const p2 = 4;\n\n        const res = await promiseRace([p0, p1, p2]);\n        expect(res).toEqual(3);\n      });\n\n      test('many delayed', async () => {\n        expect.assertions(1);\n        const p0 = new Promise((resolve) => {\n          setTimeout(() => {\n            resolve(1);\n          }, 200);\n        });\n        const p1 = new Promise((resolve) => {\n          setTimeout(() => {\n            resolve(2);\n          }, 100);\n        });\n        const p2 = new Promise((resolve) => {\n          setTimeout(() => {\n            resolve(3);\n          }, 10);\n        });\n\n        const res = await promiseRace([p0, p1, p2]);\n        expect(res).toEqual(3);\n      });\n    });\n\n    describe('all reject', () => {\n      test('instant', async () => {\n        expect.assertions(1);\n        const p0 = Promise.reject(2);\n        const p1 = Promise.reject(3);\n\n        await expect(promiseRace([p0, p1])).rejects.toBe(2);\n      });\n\n      test('delayed', async () => {\n        expect.assertions(1);\n        const p0 = new Promise((_, reject) => {\n          setTimeout(() => {\n            reject(3);\n          }, 1);\n        });\n        const p1 = new Promise((_, reject) => {\n          setTimeout(() => {\n            reject(2);\n          }, 10);\n        });\n\n        await expect(promiseRace([p0, p1])).rejects.toBe(3);\n      });\n\n      test('mixture', async () => {\n        expect.assertions(1);\n        const p0 = Promise.reject(42);\n        const p1 = new Promise((_, reject) => {\n          setTimeout(() => {\n            reject(2);\n          }, 10);\n        });\n\n        await expect(promiseRace([p0, p1])).rejects.toBe(42);\n      });\n    });\n\n    describe('mix of resolve and reject', () => {\n      test('instant resolve delayed reject', async () => {\n        expect.assertions(1);\n        const p0 = Promise.resolve(42);\n        const p1 = new Promise((_, reject) => {\n          setTimeout(() => {\n            reject(2);\n          }, 10);\n        });\n\n        const res = await promiseRace([p0, p1]);\n        expect(res).toEqual(42);\n      });\n\n      test('instant resolve instant reject', async () => {\n        expect.assertions(1);\n        const p0 = Promise.resolve(42);\n        const p1 = Promise.reject(2);\n\n        const res = await promiseRace([p0, p1]);\n        expect(res).toEqual(42);\n      });\n\n      test('instant reject instant resolve', async () => {\n        expect.assertions(1);\n        const p0 = Promise.reject(42);\n        const p1 = Promise.resolve(2);\n\n        await expect(promiseRace([p0, p1])).rejects.toBe(42);\n      });\n\n      test('instant rejects', async () => {\n        expect.assertions(1);\n        const p0 = Promise.reject(42);\n        const p1 = Promise.reject(43);\n\n        await expect(promiseRace([p0, p1])).rejects.toBe(42);\n      });\n\n      test('delayed resolve', async () => {\n        expect.assertions(1);\n        const p0 = new Promise((resolve) => {\n          setTimeout(() => {\n            resolve(1);\n          }, 10);\n        });\n        const p1 = new Promise((_, reject) => {\n          setTimeout(() => {\n            reject(2);\n          }, 100);\n        });\n        const p2 = new Promise((resolve) => {\n          setTimeout(() => {\n            resolve(3);\n          }, 200);\n        });\n\n        await expect(promiseRace([p0, p1, p2])).resolves.toBe(1);\n      });\n\n      test('delayed reject', async () => {\n        expect.assertions(1);\n        const p0 = new Promise((_, reject) => {\n          setTimeout(() => {\n            reject(1);\n          }, 200);\n        });\n        const p1 = new Promise((resolve) => {\n          setTimeout(() => {\n            resolve(2);\n          }, 100);\n        });\n        const p2 = new Promise((_, reject) => {\n          setTimeout(() => {\n            reject(3);\n          }, 10);\n        });\n\n        await expect(promiseRace([p0, p1, p2])).rejects.toBe(3);\n      });\n\n      test('delayed throw', async () => {\n        expect.assertions(1);\n        const p0 = new Promise(() => {\n          throw 42;\n        });\n        const p1 = new Promise((resolve) => {\n          setTimeout(() => {\n            resolve(2);\n          }, 100);\n        });\n\n        await expect(promiseRace([p0, p1])).rejects.toBe(42);\n      });\n    });\n  });\n});\n",
    "/src/promise-race.ts": "export default function promiseRace<T extends readonly unknown[] | []>(\n  iterable: T,\n): Promise<Awaited<T[number]>> {\n  return new Promise((resolve, reject) => {\n    if (iterable.length === 0) {\n      return;\n    }\n\n    iterable.forEach(async (item) => {\n      try {\n        const result = await item;\n        resolve(result as Awaited<T[number]>);\n      } catch (err) {\n        reject(err);\n      }\n    });\n  });\n}\n"
  },
  "info": {
    "excerpt": "实现 Promise.race() 函数，当任何一个输入元素被解决或拒绝时，它就会被解决或拒绝。",
    "title": "Promise.race"
  },
  "metadata": {
    "access": "premium",
    "author": "yangshun",
    "companies": [
      "google"
    ],
    "created": 1655596800,
    "difficulty": "easy",
    "duration": 15,
    "featured": false,
    "format": "javascript",
    "frameworkDefault": null,
    "frameworks": [],
    "href": "/questions/javascript/promise-race",
    "importance": "medium",
    "languages": [
      "js",
      "ts"
    ],
    "nextQuestions": [],
    "published": true,
    "ranking": 100,
    "similarQuestions": [
      "promise-all",
      "promise-all-settled",
      "promise-any"
    ],
    "slug": "promise-race",
    "subtitle": null,
    "topics": [
      "async"
    ]
  },
  "skeleton": {
    "js": "/**\n * @param {Array} iterable\n * @return {Promise}\n */\nexport default function promiseRace(iterable) {\n  throw 'Not implemented!';\n}",
    "ts": "export default function promiseRace<T extends readonly unknown[] | []>(\n  iterable: T,\n): Promise<Awaited<T[number]>> {\n  throw 'Not implemented!';\n}"
  },
  "solution": "var Component=(()=>{var P=Object.create;var o=Object.defineProperty;var f=Object.getOwnPropertyDescriptor;var j=Object.getOwnPropertyNames;var b=Object.getPrototypeOf,v=Object.prototype.hasOwnProperty;var x=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),y=(n,e)=>{for(var c in e)o(n,c,{get:e[c],enumerable:!0})},t=(n,e,c,d)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let i of j(e))!v.call(n,i)&&i!==c&&o(n,i,{get:()=>e[i],enumerable:!(d=f(e,i))||d.enumerable});return n};var g=(n,e,c)=>(c=n!=null?P(b(n)):{},t(e||!n||!n.__esModule?o(c,\"default\",{value:n,enumerable:!0}):c,n)),w=n=>t(o({},\"__esModule\",{value:!0}),n);var s=x((E,h)=>{h.exports=_jsx_runtime});var C={};y(C,{default:()=>T});var r=g(s());var l=MDXCodeBlock;var a=`/**\n * @param {Array} iterable\n * @return {Promise}\n */\nexport default function promiseRace(iterable) {\n  return new Promise((resolve, reject) => {\n    if (iterable.length === 0) {\n      return;\n    }\n\n    iterable.forEach(async (item) => {\n      try {\n        const result = await item;\n        resolve(result);\n      } catch (err) {\n        reject(err);\n      }\n    });\n  });\n}\n`;var m=`export default function promiseRace<T extends readonly unknown[] | []>(\n  iterable: T,\n): Promise<Awaited<T[number]>> {\n  return new Promise((resolve, reject) => {\n    if (iterable.length === 0) {\n      return;\n    }\n\n    iterable.forEach(async (item) => {\n      try {\n        const result = await item;\n        resolve(result as Awaited<T[number]>);\n      } catch (err) {\n        reject(err);\n      }\n    });\n  });\n}\n`;var p=`/**\n * @param {Array} iterable\n * @return {Promise}\n */\nexport default function promiseRace(iterable) {\n  return new Promise((resolve, reject) => {\n    if (iterable.length === 0) {\n      return;\n    }\n\n    iterable.forEach((item) => Promise.resolve(item).then(resolve, reject));\n  });\n}\n`;function u(n){let e=Object.assign({p:\"p\",code:\"code\",h2:\"h2\",ol:\"ol\",li:\"li\",h3:\"h3\",ul:\"ul\",pre:\"pre\",a:\"a\"},n.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(e.p,{children:[\"\\u5728\\u9762\\u8BD5\\u4E2D\\u7ECF\\u5E38\\u4F1A\\u6D4B\\u8BD5\\u5F02\\u6B65\\u7F16\\u7A0B\\u3002\\u4E86\\u89E3 \",(0,r.jsx)(e.code,{children:\"Promise.race\"}),\" \\u7684\\u5DE5\\u4F5C\\u539F\\u7406\\u5C06\\u5E2E\\u52A9\\u4F60\\u7406\\u89E3\\u7C7B\\u4F3C \",(0,r.jsx)(e.code,{children:\"Promise\"}),\" \\u76F8\\u5173\\u51FD\\u6570\\uFF08\\u5982 \",(0,r.jsx)(e.code,{children:\"Promise.any\"}),\"\\u3001\",(0,r.jsx)(e.code,{children:\"Promise.all\"}),\"\\u3001\",(0,r.jsx)(e.code,{children:\"Promise.allSettled\"}),\" \\u7B49\\uFF09\\u80CC\\u540E\\u7684\\u673A\\u5236\\u3002\"]}),`\n`,(0,r.jsx)(e.h2,{children:\"\\u89E3\\u51B3\\u65B9\\u6848\"}),`\n`,(0,r.jsx)(e.p,{children:\"\\u5173\\u4E8E\\u8FD9\\u4E2A\\u95EE\\u9898\\uFF0C\\u6211\\u4EEC\\u9700\\u8981\\u8BB0\\u4F4F\\u5E76\\u5904\\u7406\\u51E0\\u4E2A\\u65B9\\u9762\\uFF1A\"}),`\n`,(0,r.jsxs)(e.ol,{children:[`\n`,(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:\"Promise\"}),\" \\u65E8\\u5728\\u88AB\\u94FE\\u63A5\\uFF0C\\u56E0\\u6B64\\u8BE5\\u51FD\\u6570\\u9700\\u8981\\u8FD4\\u56DE\\u4E00\\u4E2A \",(0,r.jsx)(e.code,{children:\"Promise\"}),\"\\u3002\"]}),`\n`,(0,r.jsxs)(e.li,{children:[\"\\u5982\\u679C\\u8F93\\u5165\\u6570\\u7EC4\\u4E3A\\u7A7A\\uFF0C\\u5219\\u8FD4\\u56DE\\u7684 \",(0,r.jsx)(e.code,{children:\"Promise\"}),\" \\u5C06\\u6C38\\u8FDC\\u5904\\u4E8E\\u6302\\u8D77\\u72B6\\u6001\\u3002\"]}),`\n`,(0,r.jsxs)(e.li,{children:[\"\\u8F93\\u5165\\u6570\\u7EC4\\u53EF\\u4EE5\\u5305\\u542B\\u975E \",(0,r.jsx)(e.code,{children:\"Promise\"}),\"\\u3002\"]}),`\n`]}),`\n`,(0,r.jsxs)(e.h3,{children:[\"\\u65B9\\u6CD5 1\\uFF1A\\u4F7F\\u7528 \",(0,r.jsx)(e.code,{children:\"await\"})]}),`\n`,(0,r.jsxs)(e.p,{children:[\"\\u6211\\u4EEC\\u5C06\\u5728\\u8BE5\\u51FD\\u6570\\u7684\\u9876\\u5C42\\u8FD4\\u56DE\\u4E00\\u4E2A \",(0,r.jsx)(e.code,{children:\"Promise\"}),\"\\u3002\\u9996\\u5148\\u68C0\\u67E5\\u8F93\\u5165\\u6570\\u7EC4\\u662F\\u5426\\u4E3A\\u7A7A\\uFF0C\\u5982\\u679C\\u662F\\uFF0C\\u6211\\u4EEC\\u9700\\u8981\\u8FD4\\u56DE\\u4E00\\u4E2A\\u6C38\\u8FDC\\u6302\\u8D77\\u7684 promise\\u3002\\u8FD9\\u53EF\\u4EE5\\u901A\\u8FC7 \",(0,r.jsx)(e.code,{children:\"return\"}),\" \\u800C\\u4E0D\\u8C03\\u7528 \",(0,r.jsx)(e.code,{children:\"resolve()\"}),\" \\u6216 \",(0,r.jsx)(e.code,{children:\"reject()\"}),\" \\u6765\\u5B8C\\u6210\\u3002\"]}),`\n`,(0,r.jsxs)(e.p,{children:[\"\\u7136\\u540E\\u6211\\u4EEC\\u9700\\u8981\\u5C1D\\u8BD5\\u89E3\\u6790\\u8F93\\u5165\\u6570\\u7EC4\\u4E2D\\u7684\\u6BCF\\u4E2A\\u9879\\u76EE\\u3002\\u8FD9\\u53EF\\u4EE5\\u4F7F\\u7528 \",(0,r.jsx)(e.code,{children:\"Array.prototype.forEach\"}),\" \\u6216 \",(0,r.jsx)(e.code,{children:\"Array.prototype.map\"}),\" \\u6765\\u5B9E\\u73B0\\u3002\"]}),`\n`,(0,r.jsxs)(e.ul,{children:[`\n`,(0,r.jsxs)(e.li,{children:[\"\\u5982\\u679C\\u4E00\\u4E2A\\u9879\\u76EE\\u88AB\\u89E3\\u6790\\uFF0C\\u5219\\u4F7F\\u7528\\u7ED3\\u679C \",(0,r.jsx)(e.code,{children:\"resolve()\"}),\"\\u3002\"]}),`\n`,(0,r.jsxs)(e.li,{children:[\"\\u5982\\u679C\\u4E00\\u4E2A\\u9879\\u76EE\\u88AB\\u62D2\\u7EDD\\uFF0C\\u5219\\u4F7F\\u7528\\u539F\\u56E0 \",(0,r.jsx)(e.code,{children:\"reject()\"}),\"\\u3002\"]}),`\n`]}),`\n`,(0,r.jsxs)(e.p,{children:[\"\\u7531\\u4E8E\\u8FD9\\u662F\\u4E00\\u573A\\u6BD4\\u8D5B\\uFF0C\\u6211\\u4EEC\\u4E0D\\u5FC5\\u50CF\\u5728 \",(0,r.jsx)(e.code,{children:\"Promise.all\"}),\" \\u4E2D\\u90A3\\u6837\\u505A\\u592A\\u591A\\u7684\\u534F\\u8C03\\u3002\\u65E0\\u8BBA\\u54EA\\u4E2A\\u9879\\u76EE\\u5148\\u89E3\\u6790/\\u62D2\\u7EDD\\uFF0C\\u90FD\\u4F1A\\u8D62\\u5F97\\u6BD4\\u8D5B\\uFF0C\\u5E76\\u5206\\u522B\\u8C03\\u7528 \",(0,r.jsx)(e.code,{children:\"resolve\"}),\"/\",(0,r.jsx)(e.code,{children:\"reject\"}),\" \\u51FD\\u6570\\u6765\\u786E\\u5B9A\\u8FD4\\u56DE\\u7684 \",(0,r.jsx)(e.code,{children:\"Promise\"}),\" \\u7684\\u6700\\u7EC8\\u72B6\\u6001\\u548C\\u503C/\\u539F\\u56E0\\u3002\"]}),`\n`,(0,r.jsxs)(e.p,{children:[\"\\u8FD9\\u91CC\\u9700\\u8981\\u6CE8\\u610F\\u7684\\u4E00\\u70B9\\u662F\\uFF0C\\u7531\\u4E8E\\u8F93\\u5165\\u6570\\u7EC4\\u53EF\\u4EE5\\u5305\\u542B\\u975E \",(0,r.jsx)(e.code,{children:\"Promise\"}),\" \\u503C\\uFF0C\\u5982\\u679C\\u6211\\u4EEC\\u4E0D \",(0,r.jsx)(e.code,{children:\"await\"}),\" \\u5B83\\u4EEC\\uFF0C\\u6211\\u4EEC\\u9700\\u8981\\u4F7F\\u7528 \",(0,r.jsx)(e.code,{children:\"Promise.resolve()\"}),\" \\u5305\\u88C5\\u6BCF\\u4E2A\\u503C\\uFF0C\\u8FD9\\u5141\\u8BB8\\u6211\\u4EEC\\u5728\\u6BCF\\u4E2A\\u503C\\u4E0A\\u4F7F\\u7528 \",(0,r.jsx)(e.code,{children:\".then()\"}),\"\\uFF0C\\u8FD9\\u6837\\u6211\\u4EEC\\u5C31\\u4E0D\\u5FC5\\u533A\\u5206 \",(0,r.jsx)(e.code,{children:\"Promise\"}),\" \\u548C\\u975E \",(0,r.jsx)(e.code,{children:\"Promise\"}),\" \\u503C\\u4EE5\\u53CA\\u5B83\\u4EEC\\u662F\\u5426\\u9700\\u8981\\u88AB\\u89E3\\u6790\\u3002\"]}),`\n`,(0,r.jsx)(l,{languages:{jsx:a,tsx:m}}),`\n`,(0,r.jsxs)(e.h3,{children:[\"\\u65B9\\u6CD5 2\\uFF1A\\u4F7F\\u7528 \",(0,r.jsx)(e.code,{children:\"Promise.then()\"})]}),`\n`,(0,r.jsxs)(e.p,{children:[\"\\u5982\\u679C\\u4F60\\u4E0D\\u559C\\u6B22\\u4F7F\\u7528 \",(0,r.jsx)(e.code,{children:\"async\"}),\"/\",(0,r.jsx)(e.code,{children:\"await\"}),\"\\uFF0C\\u8FD9\\u91CC\\u6709\\u4E00\\u4E2A\\u4F7F\\u7528 \",(0,r.jsx)(e.code,{children:\"Promise.then()\"}),\" \\u7684\\u66FF\\u4EE3\\u7248\\u672C\\uFF0C\\u5B83\\u77ED\\u5F97\\u591A\\u3002\"]}),`\n`,(0,r.jsxs)(e.p,{children:[\"\\u8BF7\\u6CE8\\u610F\\uFF0C\\u88AB\\u62D2\\u7EDD\\u7684 promise \\u4E5F\\u4F1A\\u8C03\\u7528 \",(0,r.jsx)(e.code,{children:\".then()\"}),\"\\uFF0C\\u800C \",(0,r.jsx)(e.code,{children:\".then()\"}),\" \\u7684\\u7B2C\\u4E8C\\u4E2A\\u53C2\\u6570\\u662F\\u5904\\u7406\\u88AB\\u62D2\\u7EDD\\u7684 promise \\u7684\\u56DE\\u8C03\\u3002\"]}),`\n`,(0,r.jsx)(l,{children:p}),`\n`,(0,r.jsxs)(e.p,{children:[\"\\u5728 \",(0,r.jsx)(e.code,{children:\".then()\"}),\" \\u8C03\\u7528\\u4E2D\\uFF08\\u901A\\u8FC7\\u7B2C\\u4E8C\\u4E2A\\u56DE\\u8C03\\u53C2\\u6570\\uFF09\",(0,r.jsx)(e.code,{children:\"reject()\"}),\" \\u88AB\\u62D2\\u7EDD\\u7684 promise \\u975E\\u5E38\\u91CD\\u8981\\uFF0C\\u800C\\u4E0D\\u662F\\u5728 \",(0,r.jsx)(e.code,{children:\"catch()\"}),\" \\u4E2D\\u3002\\u4E0B\\u9762\\u7684\\u65B9\\u6CD5\\u770B\\u8D77\\u6765\\u7C7B\\u4F3C\\uFF0C\\u4F46\\u5BF9\\u4E8E \",(0,r.jsx)(e.code,{children:\"iterable\"}),\" \\u5305\\u542B\\u7ACB\\u5373\\u89E3\\u6790\\u548C\\u62D2\\u7EDD\\u7684 promise\\uFF08\\u4F8B\\u5982 \",(0,r.jsx)(e.code,{children:\"[Promise.reject(42), Promise.resolve(2)]\"}),\"\\uFF09\\u7684\\u60C5\\u51B5\\uFF0C\\u5B83\\u4E0D\\u8D77\\u4F5C\\u7528\\u3002\"]}),`\n`,(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.code,{children:\".catch()\"}),\" \\u88AB\\u8C03\\u5EA6\\uFF0C\\u5E76\\u4E14\\u4E0D\\u4F1A\\u5728 \",(0,r.jsx)(e.code,{children:\".then()\"}),\" \\u4E4B\\u540E\\u7ACB\\u5373\\u8FD0\\u884C\\u3002\\u5BF9\\u4E8E\\u7ACB\\u5373\\u89E3\\u51B3\\u7684 promise\\uFF0C\",(0,r.jsx)(e.code,{children:\"then()\"}),\" \\u5728\\u4EFB\\u4F55 \",(0,r.jsx)(e.code,{children:\".catch()\"}),\" \\u4E4B\\u524D\\u8FD0\\u884C\\uFF0C\\u56E0\\u6B64\\u6574\\u4F53 \",(0,r.jsx)(e.code,{children:\"Promise\"}),\" \\u4EE5 2 \\u800C\\u4E0D\\u662F 42 \\u88AB\\u62D2\\u7EDD\\u3002\"]}),`\n`,(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:\"language-js\",children:`export default function promiseRace(iterable) {\n  return new Promise((resolve, reject) => {\n    if (iterable.length === 0) {\n      return;\n    }\n\n    iterable.forEach((item) =>\n      // \\u9519\\u8BEF\\u4F7F\\u7528 \\`catch()\\`\\uFF0C\\u5728 \\`then()\\` \\u4E2D\\u4F7F\\u7528 onReject\\u3002\n      Promise.resolve(item).then(resolve).catch(reject),\n    );\n  });\n}\n`})}),`\n`,(0,r.jsx)(e.h2,{children:\"\\u8FB9\\u7F18\\u60C5\\u51B5\"}),`\n`,(0,r.jsxs)(e.ul,{children:[`\n`,(0,r.jsx)(e.li,{children:\"\\u7A7A\\u8F93\\u5165\\u6570\\u7EC4\\u3002\\u5E94\\u8FD4\\u56DE\\u4E00\\u4E2A\\u6C38\\u8FDC\\u5F85\\u5B9A\\u7684 Promise\\u3002\"}),`\n`,(0,r.jsxs)(e.li,{children:[\"\\u5982\\u679C\\u6570\\u7EC4\\u5305\\u542B\\u975E \",(0,r.jsx)(e.code,{children:\"Promise\"}),\" \\u503C\\uFF0C\",(0,r.jsx)(e.code,{children:\"Promise.race()\"}),\" \\u5C06\\u89E3\\u6790\\u4E3A\\u5728\\u53EF\\u8FED\\u4EE3\\u5BF9\\u8C61\\u4E2D\\u627E\\u5230\\u7684\\u7B2C\\u4E00\\u4E2A\\u8FD9\\u4E9B\\u503C\\u3002\"]}),`\n`]}),`\n`,(0,r.jsx)(e.h2,{children:\"\\u6280\\u672F\"}),`\n`,(0,r.jsxs)(e.ul,{children:[`\n`,(0,r.jsxs)(e.li,{children:[\"\\u4E86\\u89E3 \",(0,r.jsx)(e.code,{children:\"Promise\"}),\"\\uFF0C\\u5982\\u4F55\\u6784\\u9020\\u4E00\\u4E2A\\uFF0C\\u5982\\u4F55\\u4F7F\\u7528\\u5B83\\u4EEC\\u3002\"]}),`\n`,(0,r.jsx)(e.li,{children:\"\\u5F02\\u6B65\\u7F16\\u7A0B\\u3002\"}),`\n`]}),`\n`,(0,r.jsx)(e.h2,{children:\"\\u8D44\\u6E90\"}),`\n`,(0,r.jsxs)(e.ul,{children:[`\n`,(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Promise/race\",children:\"Promise.race() - JavaScript | MDN\"})}),`\n`]})]})}function M(n={}){let{wrapper:e}=n.components||{};return e?(0,r.jsx)(e,Object.assign({},n,{children:(0,r.jsx)(u,n)})):u(n)}var T=M;return w(C);})();\n;return Component;",
  "workspace": {
    "main": "/src/promise-race.ts",
    "run": "/src/promise-race.run.test.ts",
    "submit": "/src/promise-race.submit.test.ts"
  }
}