{
  "description": "var Component=(()=>{var m=Object.create;var r=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var g=Object.getOwnPropertyNames;var p=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var E=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),f=(t,e)=>{for(var l in e)r(t,l,{get:e[l],enumerable:!0})},o=(t,e,l,i)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let a of g(e))!u.call(t,a)&&a!==l&&r(t,a,{get:()=>e[a],enumerable:!(i=h(e,a))||i.enumerable});return t};var y=(t,e,l)=>(l=t!=null?m(p(t)):{},o(e||!t||!t.__esModule?r(l,\"default\",{value:t,enumerable:!0}):l,t)),v=t=>o(r({},\"__esModule\",{value:!0}),t);var d=E((D,c)=>{c.exports=_jsx_runtime});var N={};f(N,{default:()=>x,frontmatter:()=>b});var n=y(d()),b={title:\"getElementsByTagName\",excerpt:\"Implement a function to get all DOM elements that match a tag\"};function s(t){let e=Object.assign({p:\"p\",code:\"code\",a:\"a\",ul:\"ul\",li:\"li\",h2:\"h2\",pre:\"pre\"},t.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"getElementsByTagName()\"}),\" is a method which exists on the \",(0,n.jsx)(e.a,{href:\"https://developer.mozilla.org/en-US/docs/Web/API/Document/getElementsByTagName\",children:(0,n.jsx)(e.code,{children:\"Document\"})}),\" and \",(0,n.jsx)(e.a,{href:\"https://developer.mozilla.org/en-US/docs/Web/API/Element/getElementsByTagName\",children:(0,n.jsx)(e.code,{children:\"Element\"})}),\" objects and returns an \",(0,n.jsx)(e.code,{children:\"HTMLCollection\"}),\" of descendant elements within the \",(0,n.jsx)(e.code,{children:\"Document\"}),\"/\",(0,n.jsx)(e.code,{children:\"Element\"}),\" given a tag name.\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Let's implement our own \",(0,n.jsx)(e.a,{href:\"https://developer.mozilla.org/en-US/docs/Web/API/Element/getElementsByTagName\",children:(0,n.jsx)(e.code,{children:\"Element.getElementsByTagName()\"})}),\" that is similar but slightly different:\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"It is a pure function which takes in an element and a tag name string. E.g. \",(0,n.jsx)(e.code,{children:\"getElementsByTagName(document.body, 'div')\"}),\".\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"Similar to \",(0,n.jsx)(e.code,{children:\"Element.getElementsByTagName()\"}),\", only descendants of the element argument are searched, not the element itself.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"Return an array of \",(0,n.jsx)(e.code,{children:\"Element\"}),\"s, instead of an \",(0,n.jsx)(e.code,{children:\"HTMLCollection\"}),\" of \",(0,n.jsx)(e.code,{children:\"Element\"}),\"s.\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Do not use \",(0,n.jsx)(e.code,{children:\"document.querySelectorAll()\"}),\" which will otherwise make the problem trivial.\"]}),`\n`,(0,n.jsx)(e.h2,{children:\"Examples\"}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-js\",children:`const doc = new DOMParser().parseFromString(\n  \\`<div id=\"foo\">\n    <span>Span</span>\n    <p>Paragraph</p>\n    <div id=\"bar\">Div</div>\n  </div>\\`,\n  'text/html',\n);\n\ngetElementsByTagName(doc.body, 'div');\n// [div#foo, div#bar] <-- This is an array of elements.\n`})}),`\n`,(0,n.jsx)(e.h2,{children:\"Resources\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://developer.mozilla.org/en-US/docs/Web/API/Element/getElementsByTagName\",children:\"Element: getElementsByTagName() method - Web APIs | MDN\"})}),`\n`]})]})}function T(t={}){let{wrapper:e}=t.components||{};return e?(0,n.jsx)(e,Object.assign({},t,{children:(0,n.jsx)(s,t)})):s(t)}var x=T;return v(N);})();\n;return Component;",
  "files": {
    "/package.json": "{\n  \"name\": \"@gfe-questions/get-elements-by-tag-name\",\n  \"version\": \"0.0.1\",\n  \"main\": \"/src/get-elements-by-tag-name.ts\",\n  \"devDependencies\": {\n    \"@types/jest\": \"29.5.0\",\n    \"typescript\": \"5.0.2\"\n  }\n}\n",
    "/tsconfig.json": "{\n  \"include\": [\"./**/*\"],\n  \"compilerOptions\": {\n    \"strict\": true,\n    \"esModuleInterop\": true,\n    \"lib\": [\"dom\", \"dom.iterable\", \"esnext\"],\n    \"jsx\": \"react-jsx\",\n    \"target\": \"es2020\"\n  }\n}\n",
    "/src/get-elements-by-tag-name.run.test.ts": "import getElementsByTagName from './get-elements-by-tag-name';\n\nfunction checkResults(\n  expected: HTMLCollectionOf<Element>,\n  received: Array<Element>,\n) {\n  expect(received.length).toBe(expected.length);\n  // Inefficient O(n^2) check so that order doesn't matter.\n  for (let i = 0; i < expected.length; i++) {\n    expect(received.some((node) => node.isEqualNode(expected[i]))).toBe(true);\n  }\n}\n\ndescribe('getElementsByTagName', () => {\n  test('empty tree', () => {\n    const document = new DOMParser().parseFromString(``, 'text/html');\n    const divs = getElementsByTagName(document.body, 'div');\n    const expected = document.body.getElementsByTagName('div');\n\n    checkResults(expected, divs);\n  });\n\n  test('non-existent tags', () => {\n    const document = new DOMParser().parseFromString(\n      `<div>\n        <span>Span</span>\n        <p>Paragraph</p>\n        <div></div>\n      </div>`,\n      'text/html',\n    );\n\n    const imgs = getElementsByTagName(document.body, 'img');\n    const expected = document.body.getElementsByTagName('img');\n    checkResults(expected, imgs);\n  });\n\n  test(\"doesn't include itself\", () => {\n    const document = new DOMParser().parseFromString(\n      `<div></div>`,\n      'text/html',\n    );\n\n    const body = getElementsByTagName(document.body, 'body');\n    const expected = document.body.getElementsByTagName('body');\n    checkResults(expected, body);\n  });\n\n  test('single element with no nodes', () => {\n    const document = new DOMParser().parseFromString(\n      `<div></div>`,\n      'text/html',\n    );\n\n    const divs = getElementsByTagName(document.body, 'div');\n    const expected = document.body.getElementsByTagName('div');\n\n    checkResults(expected, divs);\n  });\n\n  test('comment nodes', () => {\n    const document = new DOMParser().parseFromString(\n      `<div>\n        <!-- Here's a comment -->\n        <div>Hello</div>\n      </div>`,\n      'text/html',\n    );\n\n    const divs = getElementsByTagName(document.body, 'div');\n    const expected = document.body.getElementsByTagName('div');\n\n    checkResults(expected, divs);\n  });\n\n  test('single element with child nodes', () => {\n    const document = new DOMParser().parseFromString(\n      `<div>\n        <span>Span</span>\n        <p>Paragraph</p>\n      </div>`,\n      'text/html',\n    );\n\n    const divs = getElementsByTagName(document.body, 'div');\n    const expected = document.body.getElementsByTagName('div');\n\n    checkResults(expected, divs);\n  });\n});\n",
    "/src/get-elements-by-tag-name.submit.test.ts": "import getElementsByTagName from './get-elements-by-tag-name';\n\nfunction checkResults(\n  expected: HTMLCollectionOf<Element>,\n  received: Array<Element>,\n) {\n  expect(received.length).toBe(expected.length);\n  // Inefficient O(n^2) check so that order doesn't matter.\n  for (let i = 0; i < expected.length; i++) {\n    expect(received.some((node) => node.isEqualNode(expected[i]))).toBe(true);\n  }\n}\n\ndescribe('getElementsByTagName', () => {\n  test('empty tree', () => {\n    const document = new DOMParser().parseFromString(``, 'text/html');\n    const divs = getElementsByTagName(document.body, 'div');\n    const expected = document.body.getElementsByTagName('div');\n\n    checkResults(expected, divs);\n  });\n\n  test('non-existent tags', () => {\n    const document = new DOMParser().parseFromString(\n      `<div>\n        <span>Span</span>\n        <p>Paragraph</p>\n        <div></div>\n      </div>`,\n      'text/html',\n    );\n\n    const imgs = getElementsByTagName(document.body, 'img');\n    const expected = document.body.getElementsByTagName('img');\n    checkResults(expected, imgs);\n  });\n\n  test(\"doesn't include itself\", () => {\n    const document = new DOMParser().parseFromString(\n      `<div></div>`,\n      'text/html',\n    );\n\n    const body = getElementsByTagName(document.body, 'body');\n    const expected = document.body.getElementsByTagName('body');\n    checkResults(expected, body);\n  });\n\n  test('single element with no nodes', () => {\n    const document = new DOMParser().parseFromString(\n      `<div></div>`,\n      'text/html',\n    );\n\n    const divs = getElementsByTagName(document.body, 'div');\n    const expected = document.body.getElementsByTagName('div');\n\n    checkResults(expected, divs);\n  });\n\n  test('comment nodes', () => {\n    const document = new DOMParser().parseFromString(\n      `<div>\n        <!-- Here's a comment -->\n        <div>Hello</div>\n      </div>`,\n      'text/html',\n    );\n\n    const divs = getElementsByTagName(document.body, 'div');\n    const expected = document.body.getElementsByTagName('div');\n\n    checkResults(expected, divs);\n  });\n\n  test('single element with child nodes', () => {\n    const document = new DOMParser().parseFromString(\n      `<div>\n        <span>Span</span>\n        <p>Paragraph</p>\n      </div>`,\n      'text/html',\n    );\n\n    const divs = getElementsByTagName(document.body, 'div');\n    const expected = document.body.getElementsByTagName('div');\n\n    checkResults(expected, divs);\n  });\n\n  describe('deeply-nested trees', () => {\n    test('shallow', () => {\n      const document = new DOMParser().parseFromString(\n        `<div>\n          <span>Span</span>\n          <p>Paragraph</p>\n          <div></div>\n        </div>`,\n        'text/html',\n      );\n\n      const divs = getElementsByTagName(document.body, 'div');\n      const expectedDivs = document.body.getElementsByTagName('div');\n      checkResults(expectedDivs, divs);\n\n      const spans = getElementsByTagName(document.body, 'span');\n      const expectedSpans = document.body.getElementsByTagName('span');\n      checkResults(expectedSpans, spans);\n    });\n\n    test('moderately deep', () => {\n      const document = new DOMParser().parseFromString(\n        `<div>\n          <span>Span</span>\n          <p>Paragraph</p>\n          <div>\n            <div>\n              <span>Hello</span>\n            </div>\n          </div>\n        </div>\n        <div>Hello</div>`,\n        'text/html',\n      );\n\n      const divs = getElementsByTagName(document.body, 'div');\n      const expectedDivs = document.body.getElementsByTagName('div');\n      checkResults(expectedDivs, divs);\n\n      const spans = getElementsByTagName(document.body, 'span');\n      const expectedSpans = document.body.getElementsByTagName('span');\n      checkResults(expectedSpans, spans);\n    });\n\n    test('very deep', () => {\n      const document = new DOMParser().parseFromString(\n        `<div>\n          <span>Span</span>\n          <p>Paragraph</p>\n          <div>\n            <div>\n              <div>\n                <div>\n                  <div>\n                    <div>\n                      Deep div\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div>\n          Hello\n          <div>\n            <div>\n              <div>\n                <div>\n                  <div>\n                    <div>\n                      Deep div\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>`,\n        'text/html',\n      );\n\n      const divs = getElementsByTagName(document.body, 'div');\n      const expectedDivs = document.body.getElementsByTagName('div');\n      checkResults(expectedDivs, divs);\n\n      const spans = getElementsByTagName(document.body, 'span');\n      const expectedSpans = document.body.getElementsByTagName('span');\n      checkResults(expectedSpans, spans);\n    });\n  });\n\n  test('non-lower case tag name', () => {\n    const document = new DOMParser().parseFromString(\n      `<div>\n          <span>Span</span>\n          <p>Paragraph</p>\n          <div>\n            <div>\n              <span>Hello</span>\n            </div>\n          </div>\n        </div>\n        <div>Hello</div>`,\n      'text/html',\n    );\n\n    const divs = getElementsByTagName(document.body, 'DIV');\n    const expectedDivs = document.body.getElementsByTagName('DIV');\n    checkResults(expectedDivs, divs);\n\n    const spans = getElementsByTagName(document.body, 'sPaN');\n    const expectedSpans = document.body.getElementsByTagName('sPaN');\n    checkResults(expectedSpans, spans);\n  });\n});\n",
    "/src/get-elements-by-tag-name.ts": "export default function getElementsByTagName(\n  element: Element,\n  tagNameParam: string,\n): Array<Element> {\n  const elements: Array<Element> = [];\n  const tagName = tagNameParam.toUpperCase();\n\n  function traverse(el: Element) {\n    if (el == null) {\n      return;\n    }\n\n    if (el.tagName === tagName) {\n      elements.push(el);\n    }\n\n    for (const child of el.children) {\n      traverse(child);\n    }\n  }\n\n  for (const child of element.children) {\n    traverse(child);\n  }\n\n  return elements;\n}\n"
  },
  "metadata": {
    "access": "premium",
    "author": "yangshun",
    "companies": [
      "google",
      "dropbox"
    ],
    "created": 1655251200,
    "difficulty": "medium",
    "duration": 20,
    "excerpt": "Implement a function to get all DOM elements that match a tag",
    "featured": true,
    "format": "javascript",
    "frameworkDefault": null,
    "frameworks": [],
    "href": "/questions/javascript/get-elements-by-tag-name",
    "importance": "low",
    "languages": [
      "html",
      "js",
      "ts"
    ],
    "nextQuestions": [],
    "published": true,
    "ranking": 100,
    "similarQuestions": [
      "get-elements-by-class-name",
      "get-elements-by-style"
    ],
    "slug": "get-elements-by-tag-name",
    "subtitle": null,
    "title": "getElementsByTagName",
    "topics": [
      "web-api"
    ]
  },
  "skeleton": {
    "js": "/**\n * @param {Element} el\n * @param {string} tagName\n * @return {Array<Element>}\n */\nexport default function getElementsByTagName(el, tagName) {\n  throw 'Not implemented!';\n}",
    "ts": "export default function getElementsByTagName(\n  el: Element,\n  tagName: string,\n): Array<Element> {\n  throw 'Not implemented!';\n}"
  },
  "solution": "var Component=(()=>{var g=Object.create;var i=Object.defineProperty;var f=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,v=Object.prototype.hasOwnProperty;var E=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),w=(t,e)=>{for(var l in e)i(t,l,{get:e[l],enumerable:!0})},a=(t,e,l,c)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let r of p(e))!v.call(t,r)&&r!==l&&i(t,r,{get:()=>e[r],enumerable:!(c=f(e,r))||c.enumerable});return t};var y=(t,e,l)=>(l=t!=null?g(N(t)):{},a(e||!t||!t.__esModule?i(l,\"default\",{value:t,enumerable:!0}):l,t)),T=t=>a(i({},\"__esModule\",{value:!0}),t);var s=E((B,o)=>{o.exports=_jsx_runtime});var P={};w(P,{default:()=>A});var n=y(s());var h=MDXCodeBlock;var d=`/**\n * @param {Element} element\n * @param {string} tagName\n * @return {Array<Element>}\n */\nexport default function getElementsByTagName(element, tagNameParam) {\n  const elements = [];\n  const tagName = tagNameParam.toUpperCase();\n\n  function traverse(el) {\n    if (el == null) {\n      return;\n    }\n\n    if (el.tagName === tagName) {\n      elements.push(el);\n    }\n\n    for (const child of el.children) {\n      traverse(child);\n    }\n  }\n\n  for (const child of element.children) {\n    traverse(child);\n  }\n\n  return elements;\n}\n`;var m=`export default function getElementsByTagName(\n  element: Element,\n  tagNameParam: string,\n): Array<Element> {\n  const elements: Array<Element> = [];\n  const tagName = tagNameParam.toUpperCase();\n\n  function traverse(el: Element) {\n    if (el == null) {\n      return;\n    }\n\n    if (el.tagName === tagName) {\n      elements.push(el);\n    }\n\n    for (const child of el.children) {\n      traverse(child);\n    }\n  }\n\n  for (const child of element.children) {\n    traverse(child);\n  }\n\n  return elements;\n}\n`;function u(t){let e=Object.assign({p:\"p\",a:\"a\",h2:\"h2\",ul:\"ul\",li:\"li\",code:\"code\",strong:\"strong\"},t.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.p,{children:[\"This question assesses you on basic DOM traversal APIs and recursion. The approach to solve this question is similar to \",(0,n.jsx)(e.a,{href:\"/questions/javascript/get-elements-by-class-name\",children:\"getElementsByClassName\"}),\".\"]}),`\n`,(0,n.jsx)(e.h2,{children:\"Clarification questions\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"Do we have to support the \",(0,n.jsx)(e.code,{children:\"tagName = '*'\"}),\" case?\",`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"No, not for this question.\"}),`\n`]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[\"Will the tag name argument be all lower case?\",`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"Not necessarily. E.g. \",(0,n.jsx)(e.code,{children:\"document.getElementsByTagName(element, 'Div')\"}),\" is valid.\"]}),`\n`]}),`\n`]}),`\n`]}),`\n`,(0,n.jsx)(e.h2,{children:\"Solution\"}),`\n`,(0,n.jsx)(e.p,{children:\"The solution is pretty straightforward if you are familiar with the HTML DOM APIs. In particular, we need to know the following:\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"Element.tagName\"}),\" which returns an \",(0,n.jsx)(e.strong,{children:\"uppercase\"}),\" string of an element's tag name (e.g. \",(0,n.jsx)(e.code,{children:\"'DIV'\"}),\", \",(0,n.jsx)(e.code,{children:\"'SPAN'\"}),\").\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"Element.children\"}),\" which returns a live \",(0,n.jsx)(e.code,{children:\"HTMLCollection\"}),\" of the child elements. We use this over \",(0,n.jsx)(e.code,{children:\"Node.childNodes\"}),\" which returns a live \",(0,n.jsx)(e.code,{children:\"NodeList\"}),\" of child \",(0,n.jsx)(e.code,{children:\"Node\"}),\"s because \",(0,n.jsx)(e.code,{children:\"childNodes\"}),\" will include non-element nodes like text and comment nodes, which are not relevant in this question.\",`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"However \",(0,n.jsx)(e.code,{children:\"HTMLCollection\"}),\" does not have \",(0,n.jsx)(e.code,{children:\".forEach\"}),\", so we have to iterate through it using traditional \",(0,n.jsx)(e.code,{children:\"for\"}),\" loops.\"]}),`\n`]}),`\n`]}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[\"We can maintain an \",(0,n.jsx)(e.code,{children:\"elements\"}),\" array to collect the matching elements while recursively traversing the root element. A depth-first traversal is performed.\"]}),`\n`,(0,n.jsx)(e.p,{children:\"Remember that the element argument itself is not included in the results.\"}),`\n`,(0,n.jsx)(h,{languages:{jsx:d,tsx:m}}),`\n`,(0,n.jsx)(e.h2,{children:\"Edge cases\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"Element argument is not included in the results even if it matches the tag name.\"}),`\n`,(0,n.jsx)(e.li,{children:\"Non-lowercase tag name arguments.\"}),`\n`]}),`\n`,(0,n.jsx)(e.h2,{children:\"Techniques\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"Recursion\"}),`\n`,(0,n.jsxs)(e.li,{children:[\"DOM APIs\",`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"How to check an \",(0,n.jsx)(e.code,{children:\"Element\"}),\"'s tag name\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"How to traverse an \",(0,n.jsx)(e.code,{children:\"Element\"}),\"'s children\"]}),`\n`]}),`\n`]}),`\n`]}),`\n`,(0,n.jsx)(e.h2,{children:\"Notes\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"Element.tagName\"}),\" is uppercase (e.g. \",(0,n.jsx)(e.code,{children:\"'DIV'\"}),\", \",(0,n.jsx)(e.code,{children:\"'SPAN'\"}),\"), so be sure to use case-insensitive string comparisons\"]}),`\n`]}),`\n`,(0,n.jsx)(e.h2,{children:\"Resources\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://developer.mozilla.org/en-US/docs/Web/API/Element/getElementsByTagName\",children:\"Element: getElementsByTagName() method - Web APIs | MDN\"})}),`\n`]})]})}function M(t={}){let{wrapper:e}=t.components||{};return e?(0,n.jsx)(e,Object.assign({},t,{children:(0,n.jsx)(u,t)})):u(t)}var A=M;return T(P);})();\n;return Component;",
  "workspace": {
    "main": "/src/get-elements-by-tag-name.ts",
    "run": "/src/get-elements-by-tag-name.run.test.ts",
    "submit": "/src/get-elements-by-tag-name.submit.test.ts"
  }
}