{
  "description": "var Component=(()=>{var p=Object.create;var s=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var g=Object.getOwnPropertyNames;var d=Object.getPrototypeOf,w=Object.prototype.hasOwnProperty;var u=(t,n)=>()=>(n||t((n={exports:{}}).exports,n),n.exports),x=(t,n)=>{for(var i in n)s(t,i,{get:n[i],enumerable:!0})},r=(t,n,i,o)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let a of g(n))!w.call(t,a)&&a!==i&&s(t,a,{get:()=>n[a],enumerable:!(o=m(n,a))||o.enumerable});return t};var f=(t,n,i)=>(i=t!=null?p(d(t)):{},r(n||!t||!t.__esModule?s(i,\"default\",{value:t,enumerable:!0}):i,t)),j=t=>r(s({},\"__esModule\",{value:!0}),t);var c=u((y,h)=>{h.exports=_jsx_runtime});var k={};x(k,{default:()=>b,frontmatter:()=>_});var e=f(c()),_={title:\"Photo Sharing (e.g. Instagram)\",excerpt:\"Design a photo sharing application like Instagram\"};function l(t){let n=Object.assign({h2:\"h2\",p:\"p\",img:\"img\",h3:\"h3\",ul:\"ul\",li:\"li\",a:\"a\"},t.components);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(n.h2,{children:\"Question\"}),`\n`,(0,e.jsx)(n.p,{children:\"Design a photo sharing application that contains a list of photo posts created by users. Users can create new posts containing photos.\"}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.img,{src:\"/img/questions/photo-sharing-instagram/photo-sharing-example.png\",alt:\"Photo Sharing Example\"})}),`\n`,(0,e.jsx)(n.h3,{children:\"Real-life examples\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://www.instagram.com\",children:\"https://www.instagram.com\"})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://www.flickr.com\",children:\"https://www.flickr.com\"})}),`\n`]})]})}function D(t={}){let{wrapper:n}=t.components||{};return n?(0,e.jsx)(n,Object.assign({},t,{children:(0,e.jsx)(l,t)})):l(t)}var b=D;return j(k);})();\n;return Component;",
  "format": "system-design",
  "metadata": {
    "access": "premium",
    "author": null,
    "companies": [
      "facebook"
    ],
    "created": 1666137600,
    "difficulty": "medium",
    "duration": 30,
    "excerpt": "Design a photo sharing application like Instagram",
    "featured": true,
    "format": "system-design",
    "frameworkDefault": null,
    "frameworks": [],
    "href": "/questions/system-design/photo-sharing-instagram",
    "importance": "low",
    "languages": [],
    "nextQuestions": [],
    "published": true,
    "ranking": 10,
    "similarQuestions": [],
    "slug": "photo-sharing-instagram",
    "subtitle": null,
    "title": "Photo Sharing (e.g. Instagram)",
    "topics": [
      "a11y",
      "networking",
      "performance"
    ]
  },
  "solution": "var Component=(()=>{var c=Object.create;var r=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var g=Object.getOwnPropertyNames;var m=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var f=(n,i)=>()=>(i||n((i={exports:{}}).exports,i),i.exports),b=(n,i)=>{for(var t in i)r(n,t,{get:i[t],enumerable:!0})},s=(n,i,t,o)=>{if(i&&typeof i==\"object\"||typeof i==\"function\")for(let a of g(i))!u.call(n,a)&&a!==t&&r(n,a,{get:()=>i[a],enumerable:!(o=p(i,a))||o.enumerable});return n};var v=(n,i,t)=>(t=n!=null?c(m(n)):{},s(i||!n||!n.__esModule?r(t,\"default\",{value:n,enumerable:!0}):t,n)),w=n=>s(r({},\"__esModule\",{value:!0}),n);var l=f((x,d)=>{d.exports=_jsx_runtime});var k={};b(k,{default:()=>P,tableOfContents:()=>y});var e=v(l()),y=[{depth:2,value:\"Requirements exploration\",id:\"requirements-exploration\",children:[{depth:3,value:\"What are the core features to be supported?\",id:\"what-are-the-core-features-to-be-supported\"},{depth:3,value:\"What pagination UX should be used for the feed?\",id:\"what-pagination-ux-should-be-used-for-the-feed\"},{depth:3,value:\"Is the user able to add captions to individual photos/images or only one overall caption to the post?\",id:\"is-the-user-able-to-add-captions-to-individual-photosimages-or-only-one-overall-caption-to-the-post\"},{depth:3,value:\"What devices will the application be used on?\",id:\"what-devices-will-the-application-be-used-on\"}]},{depth:2,value:\"Architecture / high-level design\",id:\"architecture--high-level-design\",children:[{depth:3,value:\"Rendering approach\",id:\"rendering-approach\"},{depth:3,value:\"Architecture diagram\",id:\"architecture-diagram\"}]},{depth:2,value:\"Data model\",id:\"data-model\"},{depth:2,value:\"Interface definition (API)\",id:\"interface-definition-api\",children:[{depth:3,value:\"Feed list API\",id:\"feed-list-api\"},{depth:3,value:\"Post creation API\",id:\"post-creation-api\",children:[{depth:4,value:\"1. Create a single API for both image uploading and post creation\",id:\"1-create-a-single-api-for-both-image-uploading-and-post-creation\"},{depth:4,value:\"2. Create separate APIs for image uploading and post creation\",id:\"2-create-separate-apis-for-image-uploading-and-post-creation\"}]}]},{depth:2,value:\"Optimizations and deep dive\",id:\"optimizations-and-deep-dive\",children:[{depth:3,value:\"Feed optimizations\",id:\"feed-optimizations\"},{depth:3,value:\"Image carousel optimizations\",id:\"image-carousel-optimizations\"},{depth:3,value:\"Rendering images\",id:\"rendering-images\"},{depth:3,value:\"Image editing\",id:\"image-editing\",children:[{depth:4,value:\"Cropping and resizing\",id:\"cropping-and-resizing\"},{depth:4,value:\"Filters\",id:\"filters\"}]},{depth:3,value:\"Accessibility (a11y)\",id:\"accessibility-a11y\",children:[{depth:4,value:\"Screen readers\",id:\"screen-readers\"},{depth:4,value:\"Keyboard support\",id:\"keyboard-support\"}]}]},{depth:2,value:\"References\",id:\"references\"}];function h(n){let i=Object.assign({p:\"p\",strong:\"strong\",a:\"a\",h2:\"h2\",h3:\"h3\",ul:\"ul\",li:\"li\",hr:\"hr\",img:\"img\",table:\"table\",thead:\"thead\",tr:\"tr\",th:\"th\",tbody:\"tbody\",td:\"td\",code:\"code\",ol:\"ol\",h4:\"h4\",pre:\"pre\"},n.components);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(i.p,{children:[(0,e.jsx)(i.strong,{children:\"Note\"}),\": This application shares many similarities with the \",(0,e.jsx)(i.a,{href:\"/questions/system-design/news-feed-facebook\",children:\"News Feed system design\"}),\" application and the image carousels within the feed post will benefit from the \",(0,e.jsx)(i.a,{href:\"/questions/system-design/image-carousel\",children:\"Image Carousel system design\"}),\". Please have a read of that question before starting on this. For this question, we will focus on things that haven't been covered, the discussion will be centered around the photos and images.\"]}),`\n`,(0,e.jsx)(i.h2,{id:\"requirements-exploration\",children:\"Requirements exploration\"}),`\n`,(0,e.jsx)(i.h3,{id:\"what-are-the-core-features-to-be-supported\",children:\"What are the core features to be supported?\"}),`\n`,(0,e.jsxs)(i.ul,{children:[`\n`,(0,e.jsx)(i.li,{children:\"Browse a feed containing image and video posts by people a user follows.\"}),`\n`,(0,e.jsx)(i.li,{children:\"Upload photos, add captions and apply filters to them before posting.\"}),`\n`]}),`\n`,(0,e.jsx)(i.h3,{id:\"what-pagination-ux-should-be-used-for-the-feed\",children:\"What pagination UX should be used for the feed?\"}),`\n`,(0,e.jsx)(i.p,{children:\"Infinite scrolling, meaning more posts will be added when the user reaches the end of their feed.\"}),`\n`,(0,e.jsx)(i.h3,{id:\"is-the-user-able-to-add-captions-to-individual-photosimages-or-only-one-overall-caption-to-the-post\",children:\"Is the user able to add captions to individual photos/images or only one overall caption to the post?\"}),`\n`,(0,e.jsx)(i.p,{children:\"Only one overall caption to the post.\"}),`\n`,(0,e.jsx)(i.h3,{id:\"what-devices-will-the-application-be-used-on\",children:\"What devices will the application be used on?\"}),`\n`,(0,e.jsx)(i.p,{children:\"Primarily mobile, but should be usable on desktop and tablet as well.\"}),`\n`,(0,e.jsx)(i.hr,{}),`\n`,(0,e.jsx)(i.h2,{id:\"architecture--high-level-design\",children:\"Architecture / high-level design\"}),`\n`,(0,e.jsx)(i.h3,{id:\"rendering-approach\",children:\"Rendering approach\"}),`\n`,(0,e.jsx)(i.p,{children:\"Photo sharing applications have the following characteristics:\"}),`\n`,(0,e.jsxs)(i.ul,{children:[`\n`,(0,e.jsx)(i.li,{children:\"Posts are viewable by non-logged in users.\"}),`\n`,(0,e.jsx)(i.li,{children:\"Posts are searchable via search engines.\"}),`\n`,(0,e.jsx)(i.li,{children:\"Application is interaction heavy due to post composing and liking/commenting functionality on posts.\"}),`\n`,(0,e.jsx)(i.li,{children:\"Fast initial loading speed is desired.\"}),`\n`]}),`\n`,(0,e.jsxs)(i.p,{children:[\"These are also characteristics of a \",(0,e.jsx)(i.a,{href:\"/questions/system-design/news-feed-facebook\",children:\"News Feed system design\"}),\" where there's a good amount of static content which also require interaction. Hence a combination of server-side rendering with hydration and subsequent client-side rendering would be ideal. In reality, instagram.com is built using the same technology stack as facebook.com which uses React server-side rendering with hydration.\"]}),`\n`,(0,e.jsx)(i.h3,{id:\"architecture-diagram\",children:\"Architecture diagram\"}),`\n`,(0,e.jsx)(i.p,{children:(0,e.jsx)(i.img,{src:\"/img/questions/photo-sharing-instagram/photo-sharing-architecture.png\",alt:\"Photo Sharing Architecture Diagram\"})}),`\n`,(0,e.jsxs)(i.ul,{children:[`\n`,(0,e.jsxs)(i.li,{children:[(0,e.jsx)(i.strong,{children:\"Server\"}),\": Provides HTTP APIs to fetch feed posts, upload images, and to create new image posts.\"]}),`\n`,(0,e.jsxs)(i.li,{children:[(0,e.jsx)(i.strong,{children:\"Controller\"}),\": Controls the flow of data within the application and makes network requests to the server.\"]}),`\n`,(0,e.jsxs)(i.li,{children:[(0,e.jsx)(i.strong,{children:\"Client store\"}),\": Stores data needed across the whole application. In the context of a photo sharing application, most of the data in the store will be server-originated data needed by the feed UI.\"]}),`\n`,(0,e.jsxs)(i.li,{children:[(0,e.jsx)(i.strong,{children:\"Feed UI\"}),\": Contains a list of image posts and the UI for creating new posts.\",`\n`,(0,e.jsxs)(i.ul,{children:[`\n`,(0,e.jsxs)(i.li,{children:[(0,e.jsx)(i.strong,{children:\"Image post\"}),\": A post containing a list of one to many images.\"]}),`\n`,(0,e.jsxs)(i.li,{children:[(0,e.jsx)(i.strong,{children:\"Post composer\"}),\": UI for uploading images, applying filters to them and adding a caption before submitting to the server.\"]}),`\n`]}),`\n`]}),`\n`]}),`\n`,(0,e.jsx)(i.hr,{}),`\n`,(0,e.jsx)(i.h2,{id:\"data-model\",children:\"Data model\"}),`\n`,(0,e.jsx)(i.p,{children:\"A photo feed shows a list of image posts fetched from the server, hence most of the data involved in the application will be server-originated data. The only client-side data needed is for user-uploaded images and user-written captions in the post composer.\"}),`\n`,(0,e.jsxs)(i.table,{children:[(0,e.jsx)(i.thead,{children:(0,e.jsxs)(i.tr,{children:[(0,e.jsx)(i.th,{children:\"Entity\"}),(0,e.jsx)(i.th,{children:\"Source\"}),(0,e.jsx)(i.th,{children:\"Belongs to\"}),(0,e.jsx)(i.th,{children:\"Fields\"})]})}),(0,e.jsxs)(i.tbody,{children:[(0,e.jsxs)(i.tr,{children:[(0,e.jsx)(i.td,{children:(0,e.jsx)(i.code,{children:\"Feed\"})}),(0,e.jsx)(i.td,{children:\"Server\"}),(0,e.jsx)(i.td,{children:\"Feed UI\"}),(0,e.jsxs)(i.td,{children:[(0,e.jsx)(i.code,{children:\"posts\"}),\" (list of \",(0,e.jsx)(i.code,{children:\"Post\"}),\"s), \",(0,e.jsx)(i.code,{children:\"pagination\"}),\" (pagination metadata)\"]})]}),(0,e.jsxs)(i.tr,{children:[(0,e.jsx)(i.td,{children:(0,e.jsx)(i.code,{children:\"Post\"})}),(0,e.jsx)(i.td,{children:\"Server\"}),(0,e.jsx)(i.td,{children:\"Feed Post\"}),(0,e.jsxs)(i.td,{children:[(0,e.jsx)(i.code,{children:\"id\"}),\", \",(0,e.jsx)(i.code,{children:\"created_time\"}),\", \",(0,e.jsx)(i.code,{children:\"caption\"}),\", \",(0,e.jsx)(i.code,{children:\"image\"}),\", \",(0,e.jsx)(i.code,{children:\"author\"}),\" (a \",(0,e.jsx)(i.code,{children:\"User\"}),\"), \",(0,e.jsx)(i.code,{children:\"images\"})]})]}),(0,e.jsxs)(i.tr,{children:[(0,e.jsx)(i.td,{children:(0,e.jsx)(i.code,{children:\"User\"})}),(0,e.jsx)(i.td,{children:\"Server\"}),(0,e.jsx)(i.td,{children:\"Client store\"}),(0,e.jsxs)(i.td,{children:[(0,e.jsx)(i.code,{children:\"id\"}),\", \",(0,e.jsx)(i.code,{children:\"name\"}),\", \",(0,e.jsx)(i.code,{children:\"profile_photo_url\"})]})]}),(0,e.jsxs)(i.tr,{children:[(0,e.jsx)(i.td,{children:(0,e.jsx)(i.code,{children:\"NewPost\"})}),(0,e.jsx)(i.td,{children:\"User input (Client)\"}),(0,e.jsx)(i.td,{children:\"Post composer UI\"}),(0,e.jsxs)(i.td,{children:[(0,e.jsx)(i.code,{children:\"caption\"}),\", \",(0,e.jsx)(i.code,{children:\"images\"}),\" (\",(0,e.jsx)(i.code,{children:\"Image\"}),\")\"]})]}),(0,e.jsxs)(i.tr,{children:[(0,e.jsx)(i.td,{children:(0,e.jsx)(i.code,{children:\"Image\"})}),(0,e.jsx)(i.td,{children:\"Server/client\"}),(0,e.jsx)(i.td,{children:\"Multiple\"}),(0,e.jsxs)(i.td,{children:[(0,e.jsx)(i.code,{children:\"url\"}),\", \",(0,e.jsx)(i.code,{children:\"alt\"}),\", \",(0,e.jsx)(i.code,{children:\"width\"}),\", \",(0,e.jsx)(i.code,{children:\"height\"})]})]})]})]}),`\n`,(0,e.jsxs)(i.p,{children:[\"Just like in the \",(0,e.jsx)(i.a,{href:\"/questions/system-design/news-feed-facebook\",children:\"News Feed system design\"}),\", a normalized client-side store will also be useful for a Photo Sharing application.\"]}),`\n`,(0,e.jsx)(i.hr,{}),`\n`,(0,e.jsx)(i.h2,{id:\"interface-definition-api\",children:\"Interface definition (API)\"}),`\n`,(0,e.jsx)(i.h3,{id:\"feed-list-api\",children:\"Feed list API\"}),`\n`,(0,e.jsxs)(i.p,{children:[\"Like \",(0,e.jsx)(i.a,{href:\"/questions/system-design/news-feed-facebook\",children:\"News Feed's\"}),\" list API, the photo sharing application's feed list API should also use a \",(0,e.jsx)(i.strong,{children:\"cursor-based pagination approach\"}),\".\"]}),`\n`,(0,e.jsx)(i.h3,{id:\"post-creation-api\",children:\"Post creation API\"}),`\n`,(0,e.jsx)(i.p,{children:\"All posts in a photo sharing application has attached images. Hence the post creation process in such apps is more complex.\"}),`\n`,(0,e.jsx)(i.p,{children:\"Let's break down the post creation into steps:\"}),`\n`,(0,e.jsxs)(i.ol,{children:[`\n`,(0,e.jsx)(i.li,{children:\"User selects photos from their device.\"}),`\n`,(0,e.jsx)(i.li,{children:\"User is able to perform light edits on their photos: resize/crop/filter.\"}),`\n`,(0,e.jsx)(i.li,{children:\"User adds a caption to the post.\"}),`\n`,(0,e.jsx)(i.li,{children:\"User submits post.\"}),`\n`]}),`\n`,(0,e.jsx)(i.p,{children:\"There are two common ways to implement post creation functionality involving images:\"}),`\n`,(0,e.jsxs)(i.ol,{children:[`\n`,(0,e.jsx)(i.li,{children:\"Create a single API for both image uploading and post creation.\"}),`\n`,(0,e.jsx)(i.li,{children:\"Create separate APIs for image uploading and post creation.\"}),`\n`]}),`\n`,(0,e.jsx)(i.h4,{id:\"1-create-a-single-api-for-both-image-uploading-and-post-creation\",children:\"1. Create a single API for both image uploading and post creation\"}),`\n`,(0,e.jsx)(i.p,{children:(0,e.jsx)(i.img,{src:\"/img/questions/photo-sharing-instagram/photo-sharing-api-single.png\",alt:\"Photo Sharing API Single Diagram\"})}),`\n`,(0,e.jsx)(i.p,{children:\"Pros:\"}),`\n`,(0,e.jsxs)(i.ul,{children:[`\n`,(0,e.jsx)(i.li,{children:\"Simple to implement, upload all required data in one request.\"}),`\n`]}),`\n`,(0,e.jsx)(i.p,{children:\"Cons:\"}),`\n`,(0,e.jsxs)(i.ul,{children:[`\n`,(0,e.jsx)(i.li,{children:\"API logic is more complex because it has to do multiple things on the back end (though that's not really a concern of the front end).\"}),`\n`,(0,e.jsx)(i.li,{children:\"Upload will take longer because the post images have to be uploaded within one request.\"}),`\n`,(0,e.jsx)(i.li,{children:\"API has to take in both text-based data and media data.\"}),`\n`]}),`\n`,(0,e.jsx)(i.h4,{id:\"2-create-separate-apis-for-image-uploading-and-post-creation\",children:\"2. Create separate APIs for image uploading and post creation\"}),`\n`,(0,e.jsx)(i.p,{children:(0,e.jsx)(i.img,{src:\"/img/questions/photo-sharing-instagram/photo-sharing-api-separate.png\",alt:\"Photo Sharing API Separate Diagram\"})}),`\n`,(0,e.jsx)(i.p,{children:\"Pros:\"}),`\n`,(0,e.jsxs)(i.ul,{children:[`\n`,(0,e.jsx)(i.li,{children:\"Image upload stage can be done in a an async fashion. Images can be uploaded after the image editing stage in the background while the user is drafting the post caption.\"}),`\n`,(0,e.jsx)(i.li,{children:\"Images can be uploaded in parallel across multiple HTTP requests which is faster than uploading all the images in a single HTTP request which will take longer.\"}),`\n`,(0,e.jsx)(i.li,{children:\"Can leverage existing general image uploading APIs, if any.\"}),`\n`]}),`\n`,(0,e.jsx)(i.p,{children:\"Cons:\"}),`\n`,(0,e.jsxs)(i.ul,{children:[`\n`,(0,e.jsx)(i.li,{children:\"More coordination needed in the client. The client needs to wait for all the images to be uploaded and get a reference to the uploaded images and use them when creating the post.\"}),`\n`]}),`\n`,(0,e.jsx)(i.p,{children:\"Comparing the two approaches, approach #2 of separate APIs would be better. The image uploading API can be a general one that is used across the entire website and not just for the post creation flow.\"}),`\n`,(0,e.jsx)(i.h2,{id:\"optimizations-and-deep-dive\",children:\"Optimizations and deep dive\"}),`\n`,(0,e.jsx)(i.h3,{id:\"feed-optimizations\",children:\"Feed optimizations\"}),`\n`,(0,e.jsxs)(i.p,{children:[\"These optimizations done in \",(0,e.jsx)(i.a,{href:\"/questions/system-design/news-feed-facebook\",children:\"News Feed system design\"}),\" also apply to the feed of photo sharing applications.\"]}),`\n`,(0,e.jsxs)(i.ul,{children:[`\n`,(0,e.jsx)(i.li,{children:\"Rendering approach\"}),`\n`,(0,e.jsx)(i.li,{children:\"Infinite scrolling implementation\"}),`\n`,(0,e.jsx)(i.li,{children:\"Virtualized lists\"}),`\n`,(0,e.jsx)(i.li,{children:\"Code splitting JavaScript\"}),`\n`,(0,e.jsx)(i.li,{children:\"Loading indicators\"}),`\n`,(0,e.jsx)(i.li,{children:\"Preserving feed scroll position\"}),`\n`,(0,e.jsx)(i.li,{children:\"Lazy load code\"}),`\n`,(0,e.jsx)(i.li,{children:\"Optimistic updates\"}),`\n`,(0,e.jsx)(i.li,{children:\"Timestamp rendering\"}),`\n`,(0,e.jsx)(i.li,{children:\"Icon rendering\"}),`\n`]}),`\n`,(0,e.jsx)(i.h3,{id:\"image-carousel-optimizations\",children:\"Image carousel optimizations\"}),`\n`,(0,e.jsxs)(i.p,{children:[\"The images within a post are shown as a carousel, so the \",(0,e.jsx)(i.a,{href:\"/questions/system-design/image-carousel\",children:\"Image Carousel system design article\"}),\" is also useful for this question and the same optimizations apply.\"]}),`\n`,(0,e.jsx)(i.h3,{id:\"rendering-images\",children:\"Rendering images\"}),`\n`,(0,e.jsxs)(i.ul,{children:[`\n`,(0,e.jsxs)(i.li,{children:[\"Use modern image formats such as \",(0,e.jsx)(i.a,{href:\"https://developers.google.com/speed/webp\",children:\"WebP\"}),\" which provides superior lossless and lossy image compression.\"]}),`\n`,(0,e.jsxs)(i.li,{children:[(0,e.jsx)(i.code,{children:\"<img>\"}),\"s should use proper \",(0,e.jsx)(i.code,{children:\"alt\"}),\" text.\",`\n`,(0,e.jsxs)(i.ul,{children:[`\n`,(0,e.jsxs)(i.li,{children:[\"Instagram allows users to provide \",(0,e.jsx)(i.code,{children:\"alt\"}),\" text for each image. If the user doesn't specify the \",(0,e.jsx)(i.code,{children:\"alt\"}),\" text, Machine Learning and Computer Vision techniques can be used to process the images and generate a description.\"]}),`\n`]}),`\n`]}),`\n`,(0,e.jsxs)(i.li,{children:[\"Image loading based on device screen properties\",`\n`,(0,e.jsxs)(i.ul,{children:[`\n`,(0,e.jsx)(i.li,{children:\"Send the browser dimensions in the initial request (or subsequent is also fine) and server can decide what image size to return.\"}),`\n`,(0,e.jsxs)(i.li,{children:[\"Use \",(0,e.jsx)(i.code,{children:\"srcset\"}),\" if there are image processing (resizing) capabilities to load the most suitable image file for the current viewport.\"]}),`\n`]}),`\n`]}),`\n`,(0,e.jsxs)(i.li,{children:[\"Adaptive image loading based on network speed\",`\n`,(0,e.jsxs)(i.ul,{children:[`\n`,(0,e.jsxs)(i.li,{children:[(0,e.jsx)(i.strong,{children:\"Devices with good internet connectivity/on WiFi\"}),\": Prefetch offscreen images that are not in the viewport yet but about to enter viewport.\"]}),`\n`,(0,e.jsxs)(i.li,{children:[(0,e.jsx)(i.strong,{children:\"Poor internet connection\"}),\": Render a low-resolution placeholder image and require users to explicitly click on them to load the high-resolution image.\"]}),`\n`]}),`\n`]}),`\n`]}),`\n`,(0,e.jsx)(i.h3,{id:\"image-editing\",children:\"Image editing\"}),`\n`,(0,e.jsx)(i.h4,{id:\"cropping-and-resizing\",children:\"Cropping and resizing\"}),`\n`,(0,e.jsxs)(i.p,{children:[\"Cropping and resizing of the images can be done via HTML5' \",(0,e.jsx)(i.code,{children:\"<canvas>\"}),\".\"]}),`\n`,(0,e.jsx)(i.pre,{children:(0,e.jsx)(i.code,{className:\"language-js\",children:`const canvas = document.getElementById('image-editor');\nconst context = canvas.getContext('2d');\nconst image = new Image();\nimage.src = 'https://greatimages.com/example.jpg';\ncontext.drawImage(image /* Other parameters */);\n`})}),`\n`,(0,e.jsx)(i.p,{children:\"Instagram website allows editing by simulating the result with inline styles to modify the transform styling and positioning of the image.\"}),`\n`,(0,e.jsx)(i.h4,{id:\"filters\",children:\"Filters\"}),`\n`,(0,e.jsxs)(i.p,{children:[\"CSS provides a \",(0,e.jsx)(i.a,{href:\"https://developer.mozilla.org/en-US/docs/Web/CSS/filter\",children:(0,e.jsx)(i.code,{children:\"filter\"})}),\" property which allows applying filter functions like \",(0,e.jsx)(i.code,{children:\"blur\"}),\", \",(0,e.jsx)(i.code,{children:\"contrast\"}),\", \",(0,e.jsx)(i.code,{children:\"hue\"}),\", \",(0,e.jsx)(i.code,{children:\"sepia\"}),\" to name a few. By using a combination of these filter functions, you can achieve Instagram-like filtering functionalities right within your browser.\"]}),`\n`,(0,e.jsxs)(i.p,{children:[\"Here are examples of filter functions to achieve the Clarendon and Gingham filter effects from Instagram, taken from the awesome \",(0,e.jsx)(i.a,{href:\"https://picturepan2.github.io/instagram.css/\",children:\"Instagram.css\"}),\".\"]}),`\n`,(0,e.jsx)(i.pre,{children:(0,e.jsx)(i.code,{className:\"language-css\",children:`.filter-1977 {\n  filter: sepia(0.5) hue-rotate(-30deg) saturate(1.4);\n}\n\n.filter-brannan {\n  filter: sepia(0.4) contrast(1.25) brightness(1.1) saturate(0.9) hue-rotate(-2deg);\n}\n`})}),`\n`,(0,e.jsx)(i.p,{children:\"The following images are enhanced right within your browser using these CSS filters.\"}),`\n`,(0,e.jsxs)(\"table\",{children:[(0,e.jsx)(\"thead\",{children:(0,e.jsxs)(\"tr\",{children:[(0,e.jsx)(\"th\",{children:\"Original\"}),(0,e.jsx)(\"th\",{children:\"1977\"}),(0,e.jsx)(\"th\",{children:\"Brannan\"})]})}),(0,e.jsx)(\"tbody\",{children:(0,e.jsxs)(\"tr\",{children:[(0,e.jsx)(\"td\",{children:(0,e.jsx)(\"img\",{alt:\"Air Balloon\",src:\"/img/questions/photo-sharing-instagram/photo-sharing-air-balloon.jpg\",width:150,style:{margin:\"0 !important\"}})}),(0,e.jsx)(\"td\",{children:(0,e.jsx)(\"img\",{alt:\"Air Balloon with 1977 filter effect\",src:\"/img/questions/photo-sharing-instagram/photo-sharing-air-balloon.jpg\",width:150,style:{filter:\"sepia(0.5) hue-rotate(-30deg) saturate(1.4)\",margin:\"0 !important\"}})}),(0,e.jsx)(\"td\",{children:(0,e.jsx)(\"img\",{alt:\"Air Balloon with Brannan filter effect\",src:\"/img/questions/photo-sharing-instagram/photo-sharing-air-balloon.jpg\",width:150,style:{filter:\"sepia(0.4) contrast(1.25) brightness(1.1) saturate(0.9) hue-rotate(-2deg)\",margin:\"0 !important\"}})})]})})]}),`\n`,(0,e.jsx)(i.hr,{}),`\n`,(0,e.jsxs)(i.p,{children:[\"Ultimately, the final image still has to be converted into an image blob before sending to the server and this conversion can be done with libraries like \",(0,e.jsx)(i.a,{href:\"https://github.com/niklasvh/html2canvas\",children:\"html2canvas\"}),\".\"]}),`\n`,(0,e.jsx)(i.h3,{id:\"accessibility-a11y\",children:\"Accessibility (a11y)\"}),`\n`,(0,e.jsx)(i.h4,{id:\"screen-readers\",children:\"Screen readers\"}),`\n`,(0,e.jsxs)(i.ul,{children:[`\n`,(0,e.jsxs)(i.li,{children:[(0,e.jsx)(i.code,{children:\"<img>\"}),\" tags should have a meaningful \",(0,e.jsx)(i.code,{children:\"alt\"}),\" description specified or use an empty string.\"]}),`\n`,(0,e.jsxs)(i.li,{children:[\"Add \",(0,e.jsx)(i.code,{children:\"aria-label\"}),\"s to the prev/next buttons within an image carousel.\"]}),`\n`,(0,e.jsxs)(i.li,{children:[\"Icon-only buttons should have the appropriate \",(0,e.jsx)(i.code,{children:\"aria-label\"}),\"s if there are no accompanying labels (e.g. heart, share, bookmark).\"]}),`\n`]}),`\n`,(0,e.jsx)(i.h4,{id:\"keyboard-support\",children:\"Keyboard support\"}),`\n`,(0,e.jsxs)(i.ul,{children:[`\n`,(0,e.jsxs)(i.li,{children:[\"Use the \",(0,e.jsx)(i.code,{children:\"<button>\"}),\" HTML tag for the Prev/Next buttons where possible so that the buttons are focusable.\"]}),`\n`,(0,e.jsxs)(i.li,{children:[\"Add \",(0,e.jsx)(i.code,{children:'<div role=\"region\" aria-label=\"Image Carousel\" tabindex=\"0\">'}),\" to make the carousel focusable and attach Left/Right keydown handlers to allow scrolling through the images with the keyboard.\"]}),`\n`]}),`\n`,(0,e.jsx)(i.hr,{}),`\n`,(0,e.jsx)(i.h2,{id:\"references\",children:\"References\"}),`\n`,(0,e.jsxs)(i.ul,{children:[`\n`,(0,e.jsx)(i.li,{children:(0,e.jsx)(i.a,{href:\"https://instagram-engineering.com/making-instagram-com-faster-part-1-62cc0c327538\",children:\"Making Instagram.com faster: Part 1\"})}),`\n`,(0,e.jsx)(i.li,{children:(0,e.jsx)(i.a,{href:\"https://instagram-engineering.com/making-instagram-com-faster-part-2-f350c8fba0d4\",children:\"Making Instagram.com faster: Part 2\"})}),`\n`,(0,e.jsx)(i.li,{children:(0,e.jsx)(i.a,{href:\"https://instagram-engineering.com/making-instagram-com-faster-part-3-cache-first-6f3f130b9669\",children:\"Making Instagram.com faster: Part 3 \\u2014 cache first\"})}),`\n`,(0,e.jsx)(i.li,{children:(0,e.jsx)(i.a,{href:\"https://instagram-engineering.com/making-instagram-com-faster-code-size-and-execution-optimizations-part-4-57668be796a8\",children:\"Making instagram.com faster: Code size and execution optimizations (Part 4)\"})}),`\n`,(0,e.jsx)(i.li,{children:(0,e.jsx)(i.a,{href:\"https://about.instagram.com/blog/engineering/launching-instagram-messaging-on-desktop\",children:\"Launching Instagram Messaging on desktop\"})}),`\n`,(0,e.jsx)(i.li,{children:(0,e.jsx)(i.a,{href:\"https://about.instagram.com/blog/engineering/crafting-an-accessible-instagram-feed\",children:\"Crafting an Accessible Instagram Feed\"})}),`\n`]})]})}function I(n={}){let{wrapper:i}=n.components||{};return i?(0,e.jsx)(i,Object.assign({},n,{children:(0,e.jsx)(h,n)})):h(n)}var P=I;return w(k);})();\n;return Component;"
}