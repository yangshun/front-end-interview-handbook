{
  "skeleton": "var Component=(()=>{var f=Object.create;var l=Object.defineProperty;var g=Object.getOwnPropertyDescriptor;var x=Object.getOwnPropertyNames;var y=Object.getPrototypeOf,w=Object.prototype.hasOwnProperty;var j=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),_=(t,e)=>{for(var o in e)l(t,o,{get:e[o],enumerable:!0})},h=(t,e,o,s)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let a of x(e))!w.call(t,a)&&a!==o&&l(t,a,{get:()=>e[a],enumerable:!(s=g(e,a))||s.enumerable});return t};var c=(t,e,o)=>(o=t!=null?f(y(t)):{},h(e||!t||!t.__esModule?l(o,\"default\",{value:t,enumerable:!0}):o,t)),k=t=>h(l({},\"__esModule\",{value:!0}),t);var i=j((X,m)=>{m.exports=_jsx_runtime});var T={};_(T,{default:()=>D});var r=c(i());var n=c(i());function p(t){let e=Object.assign({p:\"p\",img:\"img\",h2:\"h2\",ul:\"ul\",li:\"li\"},t.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.p,{children:\"Build a popular arcade game where players attempt to hit moles as they pop up from holes in a board.\"}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"/img/questions/whack-a-mole/whack-a-mole-example.png\",alt:\"whack-a-mole Example\"})}),`\n`,(0,n.jsx)(e.h2,{children:\"Requirements\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"The game should have a grid of 9 holes.\"}),`\n`,(0,n.jsx)(e.li,{children:\"When the game starts, a mole will pop up randomly from one of the holes.\"}),`\n`,(0,n.jsx)(e.li,{children:\"The player must click on the mole to whack it. When the player whacks the mole, they will get a point.\"}),`\n`,(0,n.jsx)(e.li,{children:\"If the player does not whack the mole within 1.5 seconds, the mole will disappear.\"}),`\n`,(0,n.jsx)(e.li,{children:\"The next mole randomly appears from one of the holes and the process repeats.\"}),`\n`,(0,n.jsx)(e.li,{children:\"The player has 15 seconds to hit as many moles as possible.\"}),`\n`,(0,n.jsx)(e.li,{children:\"The game ends when the timer runs out, the score is displayed and the player has the option to play again.\"}),`\n`]})]})}function M(t={}){let{wrapper:e}=t.components||{};return e?(0,n.jsx)(e,Object.assign({},t,{children:(0,n.jsx)(p,t)})):p(t)}var d=M;function u(t){return(0,r.jsx)(d,{})}function b(t={}){let{wrapper:e}=t.components||{};return e?(0,r.jsx)(e,Object.assign({},t,{children:(0,r.jsx)(u,t)})):u(t)}var D=b;return k(T);})();\n;return Component;",
  "solution": "var Component=(()=>{var b=Object.create;var c=Object.defineProperty;var w=Object.getOwnPropertyDescriptor;var v=Object.getOwnPropertyNames;var x=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var T=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports),j=(i,e)=>{for(var l in e)c(i,l,{get:e[l],enumerable:!0})},d=(i,e,l,h)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let o of v(e))!k.call(i,o)&&o!==l&&c(i,o,{get:()=>e[o],enumerable:!(h=w(e,o))||h.enumerable});return i};var s=(i,e,l)=>(l=i!=null?b(x(i)):{},d(e||!i||!i.__esModule?c(l,\"default\",{value:i,enumerable:!0}):l,i)),M=i=>d(c({},\"__esModule\",{value:!0}),i);var a=T((O,m)=>{m.exports=_jsx_runtime});var G={};j(G,{default:()=>D});var n=s(a());var t=s(a());function u(i){let e=Object.assign({h2:\"h2\",ol:\"ol\",li:\"li\",ul:\"ul\",code:\"code\"},i.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.h2,{children:\"Test cases\"}),`\n`,(0,t.jsxs)(e.ol,{children:[`\n`,(0,t.jsxs)(e.li,{children:[\"Game Start\",`\n`,(0,t.jsxs)(e.ul,{children:[`\n`,(0,t.jsx)(e.li,{children:'Verify that the round starts when the \"Start\" button is clicked.'}),`\n`,(0,t.jsx)(e.li,{children:\"Check that the timer starts counting down from the specified time limit.\"}),`\n`,(0,t.jsx)(e.li,{children:\"Ensure that moles start appearing randomly in the holes.\"}),`\n`]}),`\n`]}),`\n`,(0,t.jsxs)(e.li,{children:[\"Whacking Moles\",`\n`,(0,t.jsxs)(e.ul,{children:[`\n`,(0,t.jsxs)(e.li,{children:[\"Test that \",(0,t.jsx)(e.code,{children:\"molesAtOnce\"}),\" moles appear every \",(0,t.jsx)(e.code,{children:\"molesAppearingInterval\"}),\".\"]}),`\n`,(0,t.jsx)(e.li,{children:\"Click on a visible mole and verify that the mole disappears.\"}),`\n`,(0,t.jsx)(e.li,{children:'Confirm that the score increases by one when a mole is successfully \"whacked\".'}),`\n`,(0,t.jsx)(e.li,{children:\"Ensure that clicking a hole that is not visible does not affect the score.\"}),`\n`]}),`\n`]}),`\n`,(0,t.jsxs)(e.li,{children:[\"Game End\",`\n`,(0,t.jsxs)(e.ul,{children:[`\n`,(0,t.jsx)(e.li,{children:\"Verify that the round ends when the timer reaches zero.\"}),`\n`,(0,t.jsx)(e.li,{children:\"Check that the moles stop appearing once the game ends.\"}),`\n`,(0,t.jsx)(e.li,{children:\"Ensure that the final score is displayed correctly.\"}),`\n`,(0,t.jsx)(e.li,{children:'Test that the \"Play Again\" button shows up after the game ends and clicking on it starts a new round.'}),`\n`]}),`\n`]}),`\n`,(0,t.jsxs)(e.li,{children:[\"Game Logic\",`\n`,(0,t.jsxs)(e.ul,{children:[`\n`,(0,t.jsx)(e.li,{children:\"Verify that moles appear and disappear randomly from different holes.\"}),`\n`,(0,t.jsx)(e.li,{children:\"Test the time limit functionality by setting different time limits and verifying that the game ends accordingly.\"}),`\n`,(0,t.jsx)(e.li,{children:\"Verify that hitting a mole adds one to the score and missing a mole does not affect the score.\"}),`\n`]}),`\n`]}),`\n`,(0,t.jsxs)(e.li,{children:[\"Edge Cases\",`\n`,(0,t.jsxs)(e.ul,{children:[`\n`,(0,t.jsx)(e.li,{children:\"Test the game behavior when unexpected input or invalid actions occur, such as clicking rapidly on multiple holes.\"}),`\n`]}),`\n`]}),`\n`]})]})}function _(i={}){let{wrapper:e}=i.components||{};return e?(0,t.jsx)(e,Object.assign({},i,{children:(0,t.jsx)(u,i)})):u(i)}var p=_;var r=s(a());function g(i){let e=Object.assign({h2:\"h2\",p:\"p\",code:\"code\"},i.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.h2,{children:\"Notes\"}),`\n`,(0,r.jsxs)(e.p,{children:[\"Timers created by \",(0,r.jsx)(e.code,{children:\"setInterval\"}),\" and \",(0,r.jsx)(e.code,{children:\"setTimeout\"}),\" are not precise. If the main thread is busy, the callback's execution can be delayed. However, these approaches are likely sufficient for the purpose of the interview. You can score brownie points for mentioning this.\"]})]})}function C(i={}){let{wrapper:e}=i.components||{};return e?(0,r.jsx)(e,Object.assign({},i,{children:(0,r.jsx)(g,i)})):g(i)}var f=C;function y(i){let e=Object.assign({h2:\"h2\",h3:\"h3\",p:\"p\",ul:\"ul\",li:\"li\",code:\"code\",h4:\"h4\",ol:\"ol\"},i.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.h2,{children:\"Solution\"}),`\n`,(0,n.jsx)(e.h3,{children:\"Props\"}),`\n`,(0,n.jsx)(e.p,{children:\"Our game retains its customizability, offering the following inputs:\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"rows\"}),\": Number of rows.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"cols\"}),\": Number of columns.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"roundDuration\"}),\": The length of each game round.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"molesAtOnce\"}),\": The number of moles that can pop up simultaneously.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"molesAppearingInterval\"}),\": The duration for which a mole remains visible.\"]}),`\n`]}),`\n`,(0,n.jsx)(e.h3,{children:\"State Management\"}),`\n`,(0,n.jsx)(e.p,{children:\"To maintain the game state, Svelte relies on reactive declarations and simple variables:\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"visible\"}),\": A set denoting which holes have moles currently.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"score\"}),\": Tracks the player's score.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"running\"}),\": A flag indicating if the game is ongoing.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"timeLeft\"}),\": Countdown for the current game round.\"]}),`\n`]}),`\n`,(0,n.jsx)(e.h3,{children:\"Game Logic\"}),`\n`,(0,n.jsx)(e.h4,{children:\"Starting the Game\"}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"startGame\"}),\" initializes the game. It sets up two main timers:\"]}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"countdownTimerId\"}),\": Decreases \",(0,n.jsx)(e.code,{children:\"timeLeft\"}),\" every second, and stops the game once it reaches zero.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"moleTimerId\"}),\": Generates new mole positions at regular intervals using \",(0,n.jsx)(e.code,{children:\"generateMolePositions\"}),\".\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"stopGame\"}),\" complements \",(0,n.jsx)(e.code,{children:\"startGame\"}),\", ensuring that the mole generation timer stops when the game ends.\"]}),`\n`,(0,n.jsx)(e.h4,{children:\"Cleaning Up\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"With the \",(0,n.jsx)(e.code,{children:\"onDestroy\"}),\" function, we ensure that any lingering timers are cleared when the component is destroyed, preventing unintended side effects.\"]}),`\n`,(0,n.jsx)(e.h4,{children:\"Whacking a Mole\"}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"whackMole\"}),' checks if the mole (cell) clicked by the player actually contains a mole. If so, the mole is \"whacked\", removed from the ',(0,n.jsx)(e.code,{children:\"visible\"}),\" set, and the player's score is incremented.\"]}),`\n`,(0,n.jsx)(e.h3,{children:\"Rendering\"}),`\n`,(0,n.jsx)(e.p,{children:\"Thanks to Svelte's reactive nature, updating the game's visual state is straightforward:\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"The game grid remains designed using CSS grid, enabling a flexible 2D layout using a linear DOM element list.\"}),`\n`,(0,n.jsxs)(e.li,{children:[\"With the help of Svelte's \",(0,n.jsx)(e.code,{children:\"{#if ...}\"}),' blocks, we conditionally render the \"Start Game\" button or the score and \"Play Again\" button based on the game state.']}),`\n`,(0,n.jsxs)(e.li,{children:[\"The \",(0,n.jsx)(e.code,{children:\"{#each ...}\"}),\" block dynamically creates the game grid buttons. It also conditionally applies the \",(0,n.jsx)(e.code,{children:\"mole-head--visible\"}),\" class, which determines if a mole is displayed, based on whether the \",(0,n.jsx)(e.code,{children:\"visible\"}),\" set contains a particular cell's index.\"]}),`\n`]}),`\n`,(0,n.jsx)(e.h3,{children:\"Generating Mole Positions\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"Mole positions are determined randomly using the \",(0,n.jsx)(e.code,{children:\"generateMolePositions\"}),\" function, which employs the Fisher-Yates shuffle algorithm. This function creates an array of potential positions, shuffles them, and picks the first \",(0,n.jsx)(e.code,{children:\"molesAtOnce\"}),\" positions as the ones where moles will appear.\"]}),`\n`,(0,n.jsx)(e.h3,{children:\"Wrapping Up\"}),`\n`,(0,n.jsx)(e.p,{children:\"The Svelte version simplifies the structure and reactivity compared to its React counterpart. It offers a more direct and intuitive approach to state management and UI updates, streamlining the game logic without sacrificing flexibility or functionality.\"}),`\n`,(0,n.jsx)(p,{}),`\n`,(0,n.jsx)(f,{})]})}function S(i={}){let{wrapper:e}=i.components||{};return e?(0,n.jsx)(e,Object.assign({},i,{children:(0,n.jsx)(y,i)})):y(i)}var D=S;return M(G);})();\n;return Component;"
}