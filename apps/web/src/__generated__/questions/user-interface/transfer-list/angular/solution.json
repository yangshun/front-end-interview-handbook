{
  "author": "michalgrzegorczyk-dev",
  "files": {
    "/angular.json": {
      "code": "{\n  \"$schema\": \"./node_modules/@angular/cli/lib/config/schema.json\",\n  \"version\": 1,\n  \"newProjectRoot\": \"projects\",\n  \"defaultProject\": \"greatfrontend\",\n  \"projects\": {\n    \"greatfrontend\": {\n      \"projectType\": \"application\",\n      \"schematics\": {},\n      \"root\": \"\",\n      \"sourceRoot\": \"src\",\n      \"prefix\": \"app\",\n      \"architect\": {\n        \"build\": {\n          \"builder\": \"@angular-devkit/build-angular:browser\",\n          \"options\": {\n            \"outputPath\": \"dist/my-app\",\n            \"index\": \"src/index.html\",\n            \"main\": \"src/main.ts\",\n            \"polyfills\": [\"zone.js\"],\n            \"tsConfig\": \"tsconfig.app.json\",\n            \"assets\": [\"src/favicon.ico\", \"src/assets\"],\n            \"styles\": [\"src/styles.css\"],\n            \"scripts\": []\n          },\n          \"configurations\": {\n            \"production\": {\n              \"budgets\": [\n                {\n                  \"type\": \"initial\",\n                  \"maximumWarning\": \"500kb\",\n                  \"maximumError\": \"1mb\"\n                },\n                {\n                  \"type\": \"anyComponentStyle\",\n                  \"maximumWarning\": \"2kb\",\n                  \"maximumError\": \"4kb\"\n                }\n              ],\n              \"outputHashing\": \"all\"\n            },\n            \"development\": {\n              \"buildOptimizer\": false,\n              \"optimization\": false,\n              \"vendorChunk\": true,\n              \"extractLicenses\": false,\n              \"sourceMap\": true,\n              \"namedChunks\": true\n            }\n          },\n          \"defaultConfiguration\": \"production\"\n        },\n        \"serve\": {\n          \"builder\": \"@angular-devkit/build-angular:dev-server\",\n          \"configurations\": {\n            \"production\": {\n              \"browserTarget\": \"greatfrontend:build:production\"\n            },\n            \"development\": {\n              \"browserTarget\": \"greatfrontend:build:development\"\n            }\n          },\n          \"defaultConfiguration\": \"development\"\n        },\n        \"extract-i18n\": {\n          \"builder\": \"@angular-devkit/build-angular:extract-i18n\",\n          \"options\": {\n            \"browserTarget\": \"greatfrontend:build\"\n          }\n        },\n        \"test\": {\n          \"builder\": \"@angular-devkit/build-angular:karma\",\n          \"options\": {\n            \"polyfills\": [\"zone.js\", \"zone.js/testing\"],\n            \"tsConfig\": \"tsconfig.spec.json\",\n            \"assets\": [\"src/favicon.ico\", \"src/assets\"],\n            \"styles\": [\"src/styles.css\"],\n            \"scripts\": []\n          }\n        }\n      }\n    }\n  }\n}\n"
    },
    "/package.json": {
      "code": "{\n  \"name\": \"@gfe-questions/transfer-list-angular-solution\",\n  \"author\": \"michalgrzegorczyk-dev\",\n  \"version\": \"0.0.1\",\n  \"private\": true,\n  \"dependencies\": {\n    \"@angular/common\": \"16.2.4\",\n    \"@angular/compiler\": \"16.2.4\",\n    \"@angular/core\": \"16.2.4\",\n    \"@angular/forms\": \"16.2.4\",\n    \"@angular/platform-browser\": \"16.2.4\",\n    \"@angular/platform-browser-dynamic\": \"16.2.4\",\n    \"rxjs\": \"7.8.0\",\n    \"zone.js\": \"0.13.1\"\n  },\n  \"devDependencies\": {\n    \"@angular-devkit/build-angular\": \"16.2.1\",\n    \"@angular/cli\": \"16.2.1\",\n    \"@angular/compiler-cli\": \"16.2.4\",\n    \"@types/jasmine\": \"4.3.5\",\n    \"jasmine-core\": \"4.6.0\",\n    \"karma\": \"6.4.2\",\n    \"karma-chrome-launcher\": \"3.2.0\",\n    \"karma-coverage\": \"2.2.1\",\n    \"karma-jasmine\": \"5.1.0\",\n    \"karma-jasmine-html-reporter\": \"2.1.0\",\n    \"typescript\": \"5.0.2\"\n  },\n  \"scripts\": {\n    \"ng\": \"ng\",\n    \"start\": \"ng serve\",\n    \"build\": \"ng build\",\n    \"watch\": \"ng build --watch --configuration development\",\n    \"test\": \"ng test\"\n  }\n}\n"
    },
    "/src/app/app.component.css": {
      "code": ""
    },
    "/src/app/app.component.html": {
      "code": "<div class=\"transfer-list\">\n  <app-item-list\n    [items]=\"itemsLeft\"\n    (updateItems)=\"setItemsLeft($event)\" />\n  <div class=\"transfer-list__actions\">\n    <button\n      aria-label=\"Transfer all items to left list\"\n      [disabled]=\"itemsRight.size === 0\"\n      (click)=\"transferAllItems(itemsRight, itemsLeft)\">\n      <span aria-hidden=\"true\">&lt;&lt;</span>\n    </button>\n    <button\n      aria-label=\"Transfer selected items to left list\"\n      [disabled]=\"hasNoSelectedItems(itemsRight)\"\n      (click)=\"\n        transferSelectedItems(itemsRight, itemsLeft)\n      \">\n      <span aria-hidden=\"true\">&lt;</span>\n    </button>\n    <button\n      aria-label=\"Transfer selected items to right list\"\n      [disabled]=\"hasNoSelectedItems(itemsLeft)\"\n      (click)=\"\n        transferSelectedItems(itemsLeft, itemsRight)\n      \">\n      <span aria-hidden=\"true\">&gt;</span>\n    </button>\n    <button\n      aria-label=\"Transfer all items to right list\"\n      [disabled]=\"itemsLeft.size === 0\"\n      (click)=\"transferAllItems(itemsLeft, itemsRight)\">\n      <span aria-hidden=\"true\">&gt;&gt;</span>\n    </button>\n  </div>\n  <app-item-list\n    [items]=\"itemsRight\"\n    (updateItems)=\"setItemsRight($event)\"></app-item-list>\n</div>\n"
    },
    "/src/app/app.component.ts": {
      "code": "import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: 'app.component.html',\n  styleUrls: ['./app.component.css'],\n})\nexport class AppComponent {\n  itemsLeft = this.generateItemsMap([\n    'HTML',\n    'JavaScript',\n    'CSS',\n    'TypeScript',\n  ]);\n  itemsRight = this.generateItemsMap([\n    'React',\n    'Angular',\n    'Vue',\n    'Svelte',\n  ]);\n\n  setItemsLeft(updatedItems: Map<string, boolean>) {\n    this.itemsLeft = updatedItems;\n  }\n\n  setItemsRight(updatedItems: Map<string, boolean>) {\n    this.itemsRight = updatedItems;\n  }\n\n  hasNoSelectedItems(items: Map<string, boolean>): boolean {\n    return (\n      Array.from(items.values()).filter((val) => val)\n        .length === 0\n    );\n  }\n\n  transferAllItems(\n    src: Map<string, boolean>,\n    dst: Map<string, boolean>,\n  ): void {\n    src.forEach((value, key) => {\n      dst.set(key, value);\n    });\n    src.clear();\n  }\n\n  transferSelectedItems(\n    src: Map<string, boolean>,\n    dst: Map<string, boolean>,\n  ): void {\n    src.forEach((value, key) => {\n      if (value) {\n        dst.set(key, value);\n        src.delete(key);\n      }\n    });\n  }\n\n  private generateItemsMap(\n    items: string[],\n  ): Map<string, boolean> {\n    return new Map(items.map((label) => [label, false]));\n  }\n}\n"
    },
    "/src/app/app.module.ts": {
      "code": "import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\n\nimport { AppComponent } from './app.component';\nimport { ItemListComponent } from './item-list.component';\nimport { FormsModule } from '@angular/forms';\n\n@NgModule({\n  declarations: [AppComponent, ItemListComponent],\n  imports: [BrowserModule, FormsModule],\n  bootstrap: [AppComponent],\n})\nexport class AppModule {}\n"
    },
    "/src/app/item-list.component.html": {
      "code": "<div class=\"transfer-list__section\">\n  <ul class=\"transfer-list__section__items\">\n    <li *ngFor=\"let item of itemsArray\">\n      <div class=\"transfer-list__section__items__item\">\n        <input\n          type=\"checkbox\"\n          [id]=\"item[0]\"\n          [checked]=\"item[1]\"\n          (change)=\"toggleItem(item[0])\" />\n        <label [for]=\"item[0]\">{{ item[0] }}</label>\n      </div>\n    </li>\n  </ul>\n</div>\n"
    },
    "/src/app/item-list.component.ts": {
      "code": "import {\n  Component,\n  Input,\n  Output,\n  EventEmitter,\n} from '@angular/core';\n\n@Component({\n  selector: 'app-item-list',\n  templateUrl: './item-list.component.html',\n  styles: [\n    `\n      :host {\n        width: 100%;\n      }\n    `,\n  ],\n})\nexport class ItemListComponent {\n  @Input()\n  items!: Map<string, boolean>;\n\n  @Output()\n  updateItems = new EventEmitter<Map<string, boolean>>();\n\n  get itemsArray() {\n    return Array.from(this.items.entries());\n  }\n\n  toggleItem(label: string) {\n    const newItems = new Map(this.items);\n    newItems.set(label, !this.items.get(label));\n    this.updateItems.emit(newItems);\n  }\n}\n"
    },
    "/src/index.html": {
      "code": "<!doctype html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"utf-8\" />\n    <title>Angular</title>\n    <base href=\"/\" />\n    <meta\n      name=\"viewport\"\n      content=\"width=device-width, initial-scale=1\" />\n  </head>\n  <body>\n    <app-root />\n  </body>\n</html>\n"
    },
    "/src/main.ts": {
      "code": "import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { enableProdMode } from '@angular/core';\n\nenableProdMode();\nplatformBrowserDynamic()\n  .bootstrapModule(AppModule)\n  .catch((err) => console.error(err));\n"
    },
    "/src/styles.css": {
      "code": "body {\n  font-family: sans-serif;\n}\n\nul {\n  list-style-type: none;\n  padding-left: 0;\n}\n\n.transfer-list {\n  border: 1px solid #ccc;\n  display: flex;\n  max-width: 768px;\n  margin: 0 auto;\n}\n\n.transfer-list__section {\n  padding: 20px;\n  flex-grow: 1;\n}\n\n.transfer-list__section__items {\n  display: flex;\n  flex-direction: column;\n  row-gap: 12px;\n}\n\n.transfer-list__section__items__item {\n  display: flex;\n  gap: 8px;\n}\n\n.transfer-list__actions {\n  border-color: #ccc;\n  border-width: 0 1px 0 1px;\n  border-style: solid;\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  padding: 20px;\n  row-gap: 12px;\n}\n"
    },
    "/tsconfig.app.json": {
      "code": "{\n  \"extends\": \"./tsconfig.json\",\n  \"compilerOptions\": {\n    \"outDir\": \"./out-tsc/app\",\n    \"types\": []\n  },\n  \"files\": [\"src/main.ts\"],\n  \"include\": [\"src/**/*.d.ts\"]\n}\n"
    },
    "/tsconfig.json": {
      "code": "{\n  \"compileOnSave\": false,\n  \"compilerOptions\": {\n    \"baseUrl\": \"./\",\n    \"outDir\": \"./dist/out-tsc\",\n    \"forceConsistentCasingInFileNames\": true,\n    \"strict\": true,\n    \"noImplicitOverride\": true,\n    \"noPropertyAccessFromIndexSignature\": true,\n    \"noImplicitReturns\": true,\n    \"noFallthroughCasesInSwitch\": true,\n    \"sourceMap\": true,\n    \"declaration\": false,\n    \"downlevelIteration\": true,\n    \"experimentalDecorators\": true,\n    \"moduleResolution\": \"node\",\n    \"target\": \"es2020\",\n    \"module\": \"esnext\",\n    \"lib\": [\"dom\", \"dom.iterable\", \"esnext\"]\n  },\n  \"angularCompilerOptions\": {\n    \"enableI18nLegacyMessageIdFormat\": false,\n    \"strictInjectionParameters\": true,\n    \"strictInputAccessModifiers\": true,\n    \"strictTemplates\": true\n  }\n}\n"
    },
    "/tsconfig.spec.json": {
      "code": "{\n  \"extends\": \"./tsconfig.json\",\n  \"compilerOptions\": {\n    \"outDir\": \"./out-tsc/spec\",\n    \"types\": [\"jasmine\"]\n  },\n  \"include\": [\"src/**/*.spec.ts\", \"src/**/*.d.ts\"]\n}\n"
    }
  },
  "workspace": {
    "visibleFiles": [
      "/src/app/app.component.ts",
      "/src/app/app.component.html",
      "/src/styles.css"
    ],
    "activeFile": "/src/app/app.component.ts",
    "environment": "angular-cli"
  },
  "writeup": "var Component=(()=>{var f=Object.create;var o=Object.defineProperty;var g=Object.getOwnPropertyDescriptor;var b=Object.getOwnPropertyNames;var y=Object.getPrototypeOf,v=Object.prototype.hasOwnProperty;var w=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),I=(n,e)=>{for(var s in e)o(n,s,{get:e[s],enumerable:!0})},l=(n,e,s,c)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let r of b(e))!v.call(n,r)&&r!==s&&o(n,r,{get:()=>e[r],enumerable:!(c=g(e,r))||c.enumerable});return n};var d=(n,e,s)=>(s=n!=null?f(y(n)):{},l(e||!n||!n.__esModule?o(s,\"default\",{value:n,enumerable:!0}):s,n)),x=n=>l(o({},\"__esModule\",{value:!0}),n);var a=w((S,h)=>{h.exports=_jsx_runtime});var _={};I(_,{default:()=>T});var t=d(a());var i=d(a());function u(n){let e=Object.assign({h2:\"h2\",ul:\"ul\",li:\"li\"},n.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.h2,{children:\"Test cases\"}),`\n`,(0,i.jsxs)(e.ul,{children:[`\n`,(0,i.jsxs)(e.li,{children:[\"Selecting items\",`\n`,(0,i.jsxs)(e.ul,{children:[`\n`,(0,i.jsx)(e.li,{children:\"Items can be checked/unchecked.\"}),`\n`]}),`\n`]}),`\n`,(0,i.jsxs)(e.li,{children:['\"Transfer selected items\" buttons',`\n`,(0,i.jsxs)(e.ul,{children:[`\n`,(0,i.jsx)(e.li,{children:\"Button is disabled when no items are selected in the source list.\"}),`\n`,(0,i.jsx)(e.li,{children:\"Upon clicking, selected items are transferred from the source list to the bottom of the destination list.\"}),`\n`]}),`\n`]}),`\n`,(0,i.jsxs)(e.li,{children:['\"Transferring all items\" buttons',`\n`,(0,i.jsxs)(e.ul,{children:[`\n`,(0,i.jsx)(e.li,{children:\"Button is disabled when the source list is empty.\"}),`\n`,(0,i.jsx)(e.li,{children:\"Upon clicking, all items from the source list are transferred to the bottom of the destination list.\"}),`\n`]}),`\n`]}),`\n`]})]})}function k(n={}){let{wrapper:e}=n.components||{};return e?(0,i.jsx)(e,Object.assign({},n,{children:(0,i.jsx)(u,n)})):u(n)}var m=k;function p(n){let e=Object.assign({h2:\"h2\",p:\"p\",code:\"code\",h3:\"h3\",ul:\"ul\",li:\"li\"},n.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.h2,{children:\"Solution\"}),`\n`,(0,t.jsx)(e.p,{children:\"Overall, the trickiest part of this question is to select the right data structure to use considering the operations we need to do on the data.\"}),`\n`,(0,t.jsxs)(e.p,{children:[\"Since the items are unique, a \",(0,t.jsx)(e.code,{children:\"Map\"}),\" data structure is feasible as it gives us O(1) access, insertion, and removal of items. Moreover, JavaScript \",(0,t.jsx)(e.code,{children:\"Map\"}),\"s are ordered, so the items order can be preserved. The key will be the item name and value is a boolean indicating whether the item is selected/checked. We only need two JavaScript Maps in total, one for each list.\"]}),`\n`,(0,t.jsxs)(e.p,{children:[\"Based on events from the \",(0,t.jsx)(e.code,{children:\"ItemList\"}),\" component, which is considered a dumb component solely for displaying the UI, we will call \",(0,t.jsx)(e.code,{children:\"setItemsLeft\"}),\" or \",(0,t.jsx)(e.code,{children:\"setItemsRight\"}),\" to update our state. The method \",(0,t.jsx)(e.code,{children:\"hasNoSelectedItems\"}),\" checks if a button should be disabled. Note that we only need this method for selected transfers.\"]}),`\n`,(0,t.jsxs)(e.p,{children:[\"Methods \",(0,t.jsx)(e.code,{children:\"transferAllItems\"}),\" and \",(0,t.jsx)(e.code,{children:\"transferSelectedItems\"}),\" are almost identical. The first simply transfers all items from the source map to the destination map, which are our \",(0,t.jsx)(e.code,{children:\"itemsRight\"}),\" and \",(0,t.jsx)(e.code,{children:\"itemsLeft\"}),\". The second one has a condition to transfer only truthy values.\"]}),`\n`,(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:\"ItemListComponent\"}),\" is used only for displaying the UI without changing state. If the values in this component are changed, they are sent to our container component to handle state.\"]}),`\n`,(0,t.jsx)(e.h3,{children:\"State\"}),`\n`,(0,t.jsx)(e.p,{children:\"The intuitive thing to do would be to use an arrays for each list since arrays are the most natural data structure to represent a list of ordered items. However, marking items as checked/unchecked and removing items from the list will require O(N) time if an array is used.\"}),`\n`,(0,t.jsx)(e.h3,{children:\"Rendering\"}),`\n`,(0,t.jsxs)(e.p,{children:[\"There's nothing particularly special about rendering the UI for the transfer lists. Flexboxes can help us render the three columns. Since the UI and the functionality of columns are identical, we can define a component \",(0,t.jsx)(e.code,{children:\"ItemList\"}),\" that takes in a list of items and a setter callback to manipulate the list.\"]}),`\n`,(0,t.jsx)(e.p,{children:\"To determine if the buttons should be disabled:\"}),`\n`,(0,t.jsxs)(e.ul,{children:[`\n`,(0,t.jsx)(e.li,{children:\"Transfer all buttons: check if the source list is empty.\"}),`\n`,(0,t.jsxs)(e.li,{children:[\"Transfer selected buttons: write a helper function \",(0,t.jsx)(e.code,{children:\"hasNoSelectedItems\"}),\", to count if the source list has any selected items, and disable the transfer buttons.\"]}),`\n`]}),`\n`,(0,t.jsx)(e.h3,{children:\"Angular Insights\"}),`\n`,(0,t.jsxs)(e.ul,{children:[`\n`,(0,t.jsxs)(e.li,{children:[`\n`,(0,t.jsx)(e.p,{children:\"If you have time always consider pipes instead of functions in the template or extract data from an object. It improves performance and do not need to be calculated so many times.\"}),`\n`]}),`\n`,(0,t.jsxs)(e.li,{children:[`\n`,(0,t.jsx)(e.p,{children:\"You can adopt a more advanced, reactive-like approach using RxJS (without using subscriptions as possible). However, if you opt for subscriptions, remember about destroying them to prevent memory leaks.\"}),`\n`]}),`\n`,(0,t.jsxs)(e.li,{children:[`\n`,(0,t.jsx)(e.p,{children:\"You might create service for maintaining the state. Inject the service in smart component and crete dumb components that only display and interact with the UI and all events from dumb components are passed to the smart one.\"}),`\n`]}),`\n`,(0,t.jsxs)(e.li,{children:[`\n`,(0,t.jsx)(e.p,{children:\"If you're confident with the latest Angular versions, consider using signals standalone API.\"}),`\n`]}),`\n`,(0,t.jsxs)(e.li,{children:[`\n`,(0,t.jsxs)(e.p,{children:[\"You can try to focus more on keywords such as \",(0,t.jsx)(e.code,{children:\"readonly\"}),\", \",(0,t.jsx)(e.code,{children:\"private\"}),\", \",(0,t.jsx)(e.code,{children:\"public\"}),\" and \",(0,t.jsx)(e.code,{children:\"void\"}),\".\"]}),`\n`]}),`\n`,(0,t.jsxs)(e.li,{children:[`\n`,(0,t.jsx)(e.p,{children:\"If you're creating a bigger application it would be good practice to use styles per component instead of putting all styles in one file.\"}),`\n`]}),`\n`]}),`\n`,(0,t.jsx)(m,{})]})}function j(n={}){let{wrapper:e}=n.components||{};return e?(0,t.jsx)(e,Object.assign({},n,{children:(0,t.jsx)(p,n)})):p(n)}var T=j;return x(_);})();\n;return Component;"
}