{
  "author": "yangshun",
  "files": {
    "/package.json": {
      "code": "{\n  \"name\": \"@gfe-questions/transfer-list-react-solution\",\n  \"author\": \"yangshun\",\n  \"version\": \"0.0.1\",\n  \"private\": true,\n  \"dependencies\": {\n    \"react\": \"18.2.0\",\n    \"react-dom\": \"18.2.0\",\n    \"react-scripts\": \"5.0.1\"\n  },\n  \"scripts\": {\n    \"start\": \"react-scripts start\",\n    \"build\": \"react-scripts build\",\n    \"test\": \"react-scripts test\",\n    \"eject\": \"react-scripts eject\"\n  }\n}\n"
    },
    "/public/index.html": {
      "code": "<!doctype html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta\n      name=\"viewport\"\n      content=\"width=device-width, initial-scale=1.0\" />\n  </head>\n  <body>\n    <div id=\"root\"></div>\n  </body>\n</html>\n"
    },
    "/src/App.js": {
      "code": "import { useId, useState } from 'react';\n\nfunction CheckboxItem({ onChange, label, checked }) {\n  // Let React generate a unique ID for each item so as to maximize\n  // reusability of the component.\n  const id = useId();\n\n  return (\n    <div className=\"transfer-list__section__items__item\">\n      <input\n        type=\"checkbox\"\n        id={id}\n        checked={checked}\n        onChange={onChange}\n      />\n      <label htmlFor={id}>{label}</label>\n    </div>\n  );\n}\n\nfunction ItemList({ items, setItems }) {\n  return (\n    <div className=\"transfer-list__section\">\n      <ul className=\"transfer-list__section__items\">\n        {Array.from(items.entries()).map(\n          ([label, checked]) => (\n            <li key={label}>\n              <CheckboxItem\n                label={label}\n                checked={checked}\n                onChange={() => {\n                  const newItems = new Map(items);\n                  newItems.set(label, !items.get(label));\n                  setItems(newItems);\n                }}\n              />\n            </li>\n          ),\n        )}\n      </ul>\n    </div>\n  );\n}\n\nconst DEFAULT_ITEMS_LEFT = [\n  'HTML',\n  'JavaScript',\n  'CSS',\n  'TypeScript',\n];\nconst DEFAULT_ITEMS_RIGHT = [\n  'React',\n  'Angular',\n  'Vue',\n  'Svelte',\n];\n\n// Convert the default array of items into a map with the item\n// name as a key and the value as a boolean.\nfunction generateItemsMap(items) {\n  return new Map(items.map((label) => [label, false]));\n}\n\n// Determine if the list has no selected items.\nfunction hasNoSelectedItems(items) {\n  return (\n    Array.from(items.values()).filter((val) => Boolean(val))\n      .length === 0\n  );\n}\n\n// Transfer all items from a source list to a destination list.\nfunction transferAllItems(\n  itemsSrc,\n  setItemsSrc,\n  itemsDst,\n  setItemsDst,\n) {\n  setItemsDst(new Map([...itemsDst, ...itemsSrc]));\n  setItemsSrc(new Map());\n}\n\n// Transfer selected items from a source list to a destination list.\nfunction transferSelectedItems(\n  itemsSrc,\n  setItemsSrc,\n  itemsDst,\n  setItemsDst,\n) {\n  const newItemsSrc = new Map(itemsSrc);\n  const newItemsDst = new Map(itemsDst);\n\n  // Remove selected items from source list and add to the destination list.\n  itemsSrc.forEach((value, key) => {\n    if (!value) {\n      return;\n    }\n\n    newItemsDst.set(key, value);\n    newItemsSrc.delete(key);\n  });\n  setItemsSrc(newItemsSrc);\n  setItemsDst(newItemsDst);\n}\n\nexport default function App() {\n  const [itemsLeft, setItemsLeft] = useState(\n    generateItemsMap(DEFAULT_ITEMS_LEFT),\n  );\n  const [itemsRight, setItemsRight] = useState(\n    generateItemsMap(DEFAULT_ITEMS_RIGHT),\n  );\n\n  return (\n    <div className=\"transfer-list\">\n      <ItemList items={itemsLeft} setItems={setItemsLeft} />\n      <div className=\"transfer-list__actions\">\n        <button\n          aria-label=\"Transfer all items to left list\"\n          disabled={itemsRight.size === 0}\n          onClick={() => {\n            transferAllItems(\n              itemsRight,\n              setItemsRight,\n              itemsLeft,\n              setItemsLeft,\n            );\n          }}>\n          <span aria-hidden={true}>&lt;&lt;</span>\n        </button>\n        <button\n          aria-label=\"Transfer selected items to left list\"\n          disabled={hasNoSelectedItems(itemsRight)}\n          onClick={() => {\n            transferSelectedItems(\n              itemsRight,\n              setItemsRight,\n              itemsLeft,\n              setItemsLeft,\n            );\n          }}>\n          <span aria-hidden={true}>&lt;</span>\n        </button>\n        <button\n          aria-label=\"Transfer selected items to right list\"\n          disabled={hasNoSelectedItems(itemsLeft)}\n          onClick={() => {\n            transferSelectedItems(\n              itemsLeft,\n              setItemsLeft,\n              itemsRight,\n              setItemsRight,\n            );\n          }}>\n          <span aria-hidden={true}>&gt;</span>\n        </button>\n        <button\n          aria-label=\"Transfer all items to right list\"\n          disabled={itemsLeft.size === 0}\n          onClick={() => {\n            transferAllItems(\n              itemsLeft,\n              setItemsLeft,\n              itemsRight,\n              setItemsRight,\n            );\n          }}>\n          <span aria-hidden={true}>&gt;&gt;</span>\n        </button>\n      </div>\n      <ItemList\n        items={itemsRight}\n        setItems={setItemsRight}\n      />\n    </div>\n  );\n}\n"
    },
    "/src/index.js": {
      "code": "import React, { StrictMode } from 'react';\nimport { createRoot } from 'react-dom/client';\n\nimport App from './App';\n\nimport './styles.css';\n\nconst root = createRoot(document.getElementById('root'));\nroot.render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n);\n"
    },
    "/src/styles.css": {
      "code": "body {\n  font-family: sans-serif;\n}\n\nul {\n  list-style-type: none;\n  padding-left: 0;\n}\n\n.transfer-list {\n  border: 1px solid #ccc;\n  display: flex;\n  max-width: 768px;\n  margin: 0 auto;\n}\n\n.transfer-list__section {\n  padding: 20px;\n  flex-grow: 1;\n}\n\n.transfer-list__section__items {\n  display: flex;\n  flex-direction: column;\n  row-gap: 12px;\n}\n\n.transfer-list__section__items__item {\n  display: flex;\n  gap: 8px;\n}\n\n.transfer-list__actions {\n  border-color: #ccc;\n  border-width: 0 1px 0 1px;\n  border-style: solid;\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  padding: 20px;\n  row-gap: 12px;\n}\n"
    }
  },
  "workspace": {
    "visibleFiles": [
      "/src/App.js",
      "/src/styles.css"
    ],
    "activeFile": "/src/App.js",
    "environment": "create-react-app"
  },
  "writeup": "var Component=(()=>{var x=Object.create;var l=Object.defineProperty;var y=Object.getOwnPropertyDescriptor;var j=Object.getOwnPropertyNames;var v=Object.getPrototypeOf,w=Object.prototype.hasOwnProperty;var k=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),_=(t,e)=>{for(var r in e)l(t,r,{get:e[r],enumerable:!0})},h=(t,e,r,d)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let c of j(e))!w.call(t,c)&&c!==r&&l(t,c,{get:()=>e[c],enumerable:!(d=y(e,c))||d.enumerable});return t};var a=(t,e,r)=>(r=t!=null?x(v(t)):{},h(e||!t||!t.__esModule?l(r,\"default\",{value:t,enumerable:!0}):r,t)),M=t=>h(l({},\"__esModule\",{value:!0}),t);var o=k((D,u)=>{u.exports=_jsx_runtime});var I={};_(I,{default:()=>C});var n=a(o());var i=a(o());function m(t){let e=Object.assign({h2:\"h2\",ul:\"ul\",li:\"li\"},t.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.h2,{children:\"Test cases\"}),`\n`,(0,i.jsxs)(e.ul,{children:[`\n`,(0,i.jsxs)(e.li,{children:[\"Selecting items\",`\n`,(0,i.jsxs)(e.ul,{children:[`\n`,(0,i.jsx)(e.li,{children:\"Items can be checked/unchecked.\"}),`\n`]}),`\n`]}),`\n`,(0,i.jsxs)(e.li,{children:['\"Transfer selected items\" buttons',`\n`,(0,i.jsxs)(e.ul,{children:[`\n`,(0,i.jsx)(e.li,{children:\"Button is disabled when no items are selected in the source list.\"}),`\n`,(0,i.jsx)(e.li,{children:\"Upon clicking, selected items are transferred from the source list to the bottom of the destination list.\"}),`\n`]}),`\n`]}),`\n`,(0,i.jsxs)(e.li,{children:['\"Transferring all items\" buttons',`\n`,(0,i.jsxs)(e.ul,{children:[`\n`,(0,i.jsx)(e.li,{children:\"Button is disabled when the source list is empty.\"}),`\n`,(0,i.jsx)(e.li,{children:\"Upon clicking, all items from the source list are transferred to the bottom of the destination list.\"}),`\n`]}),`\n`]}),`\n`]})]})}function T(t={}){let{wrapper:e}=t.components||{};return e?(0,i.jsx)(e,Object.assign({},t,{children:(0,i.jsx)(m,t)})):m(t)}var f=T;var s=a(o());function b(t){let e=Object.assign({h2:\"h2\",ul:\"ul\",li:\"li\",code:\"code\"},t.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.h2,{children:\"Accessibility\"}),`\n`,(0,s.jsxs)(e.ul,{children:[`\n`,(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:'<input type=\"checkbox\">'}),\" are paired with \",(0,s.jsx)(e.code,{children:\"<label>\"}),\"s. Clicking on labels also selects/deselect the item.\"]}),`\n`,(0,s.jsxs)(e.li,{children:[\"Since the \",(0,s.jsx)(e.code,{children:\"<button>\"}),\"s do not have a visible label, use \",(0,s.jsx)(e.code,{children:\"aria-label\"}),\"s to indicate their purpose. As a result, make the button contents hidden from screen readers via \",(0,s.jsx)(e.code,{children:'aria-hidden=\"true\"'}),\".\"]}),`\n`,(0,s.jsx)(e.li,{children:\"All required functionality should be achievable just by using the keyboard.\"}),`\n`]})]})}function S(t={}){let{wrapper:e}=t.components||{};return e?(0,s.jsx)(e,Object.assign({},t,{children:(0,s.jsx)(b,t)})):b(t)}var p=S;function g(t){let e=Object.assign({h2:\"h2\",p:\"p\",h3:\"h3\",code:\"code\",ul:\"ul\",li:\"li\"},t.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.h2,{children:\"Solution\"}),`\n`,(0,n.jsx)(e.p,{children:\"Overall, the trickiest part of this question is to select the right data structure to use considering the operations we need to do on the data.\"}),`\n`,(0,n.jsx)(e.h3,{children:\"State\"}),`\n`,(0,n.jsx)(e.p,{children:\"The intuitive thing to do would be to use an arrays for each list since arrays are the most natural data structure to represent a list of ordered items. However, marking items as checked/unchecked and removing items from the list will require O(N) time if an array is used.\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"Since the items are unique, a \",(0,n.jsx)(e.code,{children:\"Map\"}),\" data structure is feasible as it gives us O(1) access, insertion, and removal of items. Moreover, JavaScript \",(0,n.jsx)(e.code,{children:\"Map\"}),\"s are ordered, so the items order can be preserved. The key will be the item name and value is a boolean indicating whether the item is selected/checked. We only need two JavaScript \",(0,n.jsx)(e.code,{children:\"Map\"}),\"s in total, one for each list.\"]}),`\n`,(0,n.jsx)(e.h3,{children:\"Rendering\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"There's nothing particularly special about rendering the UI for the transfer lists. Flexboxes can help us render the three columns. Since the UI and the functionality of columns are identical, we can define a component \",(0,n.jsx)(e.code,{children:\"ItemList\"}),\" that takes in a list of items and a setter callback to manipulate the list.\"]}),`\n`,(0,n.jsx)(e.p,{children:\"To determine if the buttons should be disabled:\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"Transfer all buttons: check if the source list is empty.\"}),`\n`,(0,n.jsxs)(e.li,{children:[\"Transfer selected buttons: write a helper function \",(0,n.jsx)(e.code,{children:\"hasNoSelectedItems\"}),\", to count if the source list has any selected items, and disable the transfer buttons.\"]}),`\n`]}),`\n`,(0,n.jsx)(e.h3,{children:\"Transferring Items\"}),`\n`,(0,n.jsx)(e.p,{children:\"We can write a function per desired transfer functionality that accepts source/destination lists and their respective setters. These functions reduce code duplication and can be easily reused if there are more than two columns in future.\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"transferAllItems\"}),\": combine the items from source and destination lists to create a new destination list.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"transferSelectedItems\"}),\": move the selected items from source to destination lists by removing them from the source list and adding them to the destination list.\"]}),`\n`]}),`\n`,(0,n.jsx)(f,{}),`\n`,(0,n.jsx)(p,{})]})}function O(t={}){let{wrapper:e}=t.components||{};return e?(0,n.jsx)(e,Object.assign({},t,{children:(0,n.jsx)(g,t)})):g(t)}var C=O;return M(I);})();\n;return Component;"
}