{
  "author": "yangshun",
  "files": {
    "/greatfrontend.json": {
      "code": "{\n  \"visibleFiles\": [\n    \"/src/App.js\",\n    \"/src/Clock.js\",\n    \"/src/styles.css\"\n  ],\n  \"activeFile\": \"/src/Clock.js\",\n  \"environment\": \"create-react-app\"\n}\n"
    },
    "/package.json": {
      "code": "{\n  \"name\": \"@gfe-questions/analog-clock-react-solution\",\n  \"author\": \"yangshun\",\n  \"version\": \"0.0.1\",\n  \"private\": true,\n  \"dependencies\": {\n    \"react\": \"18.2.0\",\n    \"react-dom\": \"18.2.0\",\n    \"react-scripts\": \"5.0.1\"\n  },\n  \"scripts\": {\n    \"start\": \"react-scripts start\",\n    \"build\": \"react-scripts build\",\n    \"test\": \"react-scripts test\",\n    \"eject\": \"react-scripts eject\"\n  }\n}\n"
    },
    "/public/index.html": {
      "code": "<!doctype html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta\n      name=\"viewport\"\n      content=\"width=device-width, initial-scale=1.0\" />\n  </head>\n  <body>\n    <div id=\"root\"></div>\n  </body>\n</html>\n"
    },
    "/src/App.js": {
      "code": "import Clock from './Clock';\n\nexport default function App() {\n  return (\n    <div className=\"wrapper\">\n      <Clock />\n    </div>\n  );\n}\n"
    },
    "/src/Clock.js": {
      "code": "import { useEffect, useState } from 'react';\n\nfunction Hand({ height = 1, width = 1, angle }) {\n  return (\n    <div\n      aria-hidden={true}\n      className=\"clock-hand\"\n      style={{\n        transform: `rotate(${angle}deg) scaleY(${height}) scaleX(${width})`,\n      }}\n    />\n  );\n}\n\nfunction useCurrentDate() {\n  const [date, setDate] = useState(new Date());\n\n  // Kick off the timer.\n  useEffect(() => {\n    const timer = window.setInterval(() => {\n      setDate(new Date());\n    }, 100);\n\n    // Clear the timer upon unmount.\n    return () => {\n      window.clearInterval(timer);\n    };\n  }, []);\n\n  return date;\n}\n\nfunction padTwoDigit(number) {\n  return number >= 10 ? String(number) : `0${number}`;\n}\n\nexport default function Clock() {\n  const date = useCurrentDate();\n  const hours = date.getHours() % 12;\n  const minutes = date.getMinutes();\n  const seconds = date.getSeconds();\n\n  return (\n    <ClockImpl\n      hours={hours}\n      minutes={minutes}\n      seconds={seconds}\n      size={300}\n    />\n  );\n}\n\nconst FULL_ROTATION_DEGREES = 360;\n\n// Separate out into a component that takes the time as a prop,\n// so as to make it easy to test the rendering for specific times.\nfunction ClockImpl({ hours, minutes, seconds, size }) {\n  const secondsPercentage = seconds / 60;\n  // To have second-level precision in the minute hand angle.\n  const minutesPercentage =\n    (minutes + secondsPercentage) / 60;\n  // To have minute-level precision in the hour hand angle.\n  const hoursPercentage =\n    ((hours % 12) + minutesPercentage) / 12;\n\n  const hourAngle = hoursPercentage * FULL_ROTATION_DEGREES;\n  const minutesAngle =\n    minutesPercentage * FULL_ROTATION_DEGREES;\n  const secondsAngle =\n    secondsPercentage * FULL_ROTATION_DEGREES;\n\n  const dateTimeDisplay = `${padTwoDigit(\n    hours,\n  )}:${padTwoDigit(minutes)}:${padTwoDigit(seconds)}`;\n\n  return (\n    <time\n      className=\"clock\"\n      dateTime={dateTimeDisplay}\n      style={{\n        '--size': `${size}px`,\n      }}>\n      <Hand height={0.5} angle={hourAngle} width={3} />\n      <Hand height={0.9} angle={minutesAngle} width={2} />\n      <Hand height={0.8} angle={secondsAngle} />\n    </time>\n  );\n}\n"
    },
    "/src/index.js": {
      "code": "import React, { StrictMode } from 'react';\nimport { createRoot } from 'react-dom/client';\n\nimport App from './App';\n\nimport './styles.css';\n\nconst root = createRoot(document.getElementById('root'));\nroot.render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n);\n"
    },
    "/src/styles.css": {
      "code": "body {\n  font-family: sans-serif;\n}\n\n.wrapper {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.clock {\n  display: block;\n  flex-shrink: 0;\n  position: relative;\n  width: var(--size);\n  height: var(--size);\n  border-radius: 100%;\n  border: 2px solid #ccc;\n  transform: rotate(180deg);\n}\n\n.clock-hand {\n  background-color: #ccc;\n  position: absolute;\n  width: 1px;\n  height: calc(var(--size) / 2);\n  left: calc(var(--size) / 2);\n  top: calc(var(--size) / 2);\n  transform-origin: top center;\n}\n"
    }
  },
  "workspace": {
    "visibleFiles": [
      "/src/App.js",
      "/src/Clock.js",
      "/src/styles.css"
    ],
    "activeFile": "/src/Clock.js",
    "environment": "create-react-app"
  }
}