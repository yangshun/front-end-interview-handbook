{
  "author": "michalgrzegorczyk-dev",
  "files": {
    "/angular.json": {
      "code": "{\n  \"$schema\": \"./node_modules/@angular/cli/lib/config/schema.json\",\n  \"version\": 1,\n  \"newProjectRoot\": \"projects\",\n  \"defaultProject\": \"greatfrontend\",\n  \"projects\": {\n    \"greatfrontend\": {\n      \"projectType\": \"application\",\n      \"schematics\": {},\n      \"root\": \"\",\n      \"sourceRoot\": \"src\",\n      \"prefix\": \"app\",\n      \"architect\": {\n        \"build\": {\n          \"builder\": \"@angular-devkit/build-angular:browser\",\n          \"options\": {\n            \"outputPath\": \"dist/my-app\",\n            \"index\": \"src/index.html\",\n            \"main\": \"src/main.ts\",\n            \"polyfills\": [\"zone.js\"],\n            \"tsConfig\": \"tsconfig.app.json\",\n            \"assets\": [\"src/favicon.ico\", \"src/assets\"],\n            \"styles\": [\"src/styles.css\"],\n            \"scripts\": []\n          },\n          \"configurations\": {\n            \"production\": {\n              \"budgets\": [\n                {\n                  \"type\": \"initial\",\n                  \"maximumWarning\": \"500kb\",\n                  \"maximumError\": \"1mb\"\n                },\n                {\n                  \"type\": \"anyComponentStyle\",\n                  \"maximumWarning\": \"2kb\",\n                  \"maximumError\": \"4kb\"\n                }\n              ],\n              \"outputHashing\": \"all\"\n            },\n            \"development\": {\n              \"buildOptimizer\": false,\n              \"optimization\": false,\n              \"vendorChunk\": true,\n              \"extractLicenses\": false,\n              \"sourceMap\": true,\n              \"namedChunks\": true\n            }\n          },\n          \"defaultConfiguration\": \"production\"\n        },\n        \"serve\": {\n          \"builder\": \"@angular-devkit/build-angular:dev-server\",\n          \"configurations\": {\n            \"production\": {\n              \"browserTarget\": \"greatfrontend:build:production\"\n            },\n            \"development\": {\n              \"browserTarget\": \"greatfrontend:build:development\"\n            }\n          },\n          \"defaultConfiguration\": \"development\"\n        },\n        \"extract-i18n\": {\n          \"builder\": \"@angular-devkit/build-angular:extract-i18n\",\n          \"options\": {\n            \"browserTarget\": \"greatfrontend:build\"\n          }\n        },\n        \"test\": {\n          \"builder\": \"@angular-devkit/build-angular:karma\",\n          \"options\": {\n            \"polyfills\": [\"zone.js\", \"zone.js/testing\"],\n            \"tsConfig\": \"tsconfig.spec.json\",\n            \"assets\": [\"src/favicon.ico\", \"src/assets\"],\n            \"styles\": [\"src/styles.css\"],\n            \"scripts\": []\n          }\n        }\n      }\n    }\n  },\n  \"cli\": {\n    \"analytics\": \"7ca5c4d0-e5db-4d23-9ffd-8c8c042e34e7\"\n  }\n}\n"
    },
    "/package.json": {
      "code": "{\n  \"name\": \"@gfe-questions/flight-booker-angular-solution\",\n  \"author\": \"michalgrzegorczyk-dev\",\n  \"version\": \"0.0.1\",\n  \"private\": true,\n  \"dependencies\": {\n    \"@angular/common\": \"16.2.4\",\n    \"@angular/compiler\": \"16.2.4\",\n    \"@angular/core\": \"16.2.4\",\n    \"@angular/forms\": \"16.2.4\",\n    \"@angular/platform-browser\": \"16.2.4\",\n    \"@angular/platform-browser-dynamic\": \"16.2.4\",\n    \"rxjs\": \"7.8.0\",\n    \"zone.js\": \"0.13.1\"\n  },\n  \"devDependencies\": {\n    \"@angular-devkit/build-angular\": \"16.2.1\",\n    \"@angular/cli\": \"16.2.1\",\n    \"@angular/compiler-cli\": \"16.2.4\",\n    \"@types/jasmine\": \"4.3.5\",\n    \"jasmine-core\": \"4.6.0\",\n    \"karma\": \"6.4.2\",\n    \"karma-chrome-launcher\": \"3.2.0\",\n    \"karma-coverage\": \"2.2.1\",\n    \"karma-jasmine\": \"5.1.0\",\n    \"karma-jasmine-html-reporter\": \"2.1.0\",\n    \"typescript\": \"5.0.2\"\n  },\n  \"scripts\": {\n    \"ng\": \"ng\",\n    \"start\": \"ng serve\",\n    \"build\": \"ng build\",\n    \"watch\": \"ng build --watch --configuration development\",\n    \"test\": \"ng test\"\n  }\n}\n"
    },
    "/src/app/app.component.css": {
      "code": ".flight-booker {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  margin: 0 auto;\n  max-width: 320px;\n}\n"
    },
    "/src/app/app.component.html": {
      "code": "<div>\n  <form\n    class=\"flight-booker\"\n    (ngSubmit)=\"onSubmit()\"\n    ngNativeValidate>\n    <select [(ngModel)]=\"flightOption\" name=\"flightOption\">\n      <option value=\"one-way\">One-way flight</option>\n      <option value=\"return\">Return flight</option>\n    </select>\n    <input\n      aria-label=\"Departure date\"\n      type=\"date\"\n      [(ngModel)]=\"departureDate\"\n      name=\"departureDate\"\n      [min]=\"TODAY\" />\n    <input\n      *ngIf=\"flightOption !== 'one-way'\"\n      aria-label=\"Return date\"\n      type=\"date\"\n      [(ngModel)]=\"returnDate\"\n      name=\"returnDate\"\n      [min]=\"departureDate\" />\n    <button type=\"submit\">Book</button>\n  </form>\n</div>\n"
    },
    "/src/app/app.component.ts": {
      "code": "import {\n  ChangeDetectionStrategy,\n  Component,\n} from '@angular/core';\n\ntype FlightOption = 'one-way' | 'return';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class AppComponent {\n  readonly TODAY: string = this.formatDate(new Date());\n  readonly DAY_IN_SECONDS = 24 * 60 * 60 * 1000;\n\n  flightOption: FlightOption = 'one-way';\n  departureDate: string = this.formatDate(\n    new Date(Date.now() + this.DAY_IN_SECONDS),\n  );\n  returnDate: string = this.departureDate;\n\n  onSubmit() {\n    if (this.flightOption === 'one-way') {\n      alert(\n        `You have booked a one-way flight on ${this.departureDate}`,\n      );\n      return;\n    }\n\n    alert(\n      `You have booked a return flight, departing on ${this.departureDate} and returning on ${this.returnDate}`,\n    );\n  }\n\n  private formatDate(date: Date): string {\n    const year = date.getFullYear();\n    const month = (date.getMonth() + 1)\n      .toString()\n      .padStart(2, '0');\n    const day = date.getDate().toString().padStart(2, '0');\n    return [year, month, day].join('-');\n  }\n}\n"
    },
    "/src/app/app.module.ts": {
      "code": "import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { FormsModule } from '@angular/forms';\nimport { AppComponent } from './app.component';\n\n@NgModule({\n  declarations: [AppComponent],\n  imports: [BrowserModule, FormsModule],\n  bootstrap: [AppComponent],\n})\nexport class AppModule {}\n"
    },
    "/src/index.html": {
      "code": "<!doctype html>\n<html>\n  <head>\n    <meta charset=\"utf-8\" />\n    <title>Angular</title>\n    <base href=\"/\" />\n    <meta\n      name=\"viewport\"\n      content=\"width=device-width, initial-scale=1\" />\n  </head>\n  <body>\n    <app-root></app-root>\n  </body>\n</html>\n"
    },
    "/src/main.ts": {
      "code": "import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\n\nenableProdMode();\nplatformBrowserDynamic()\n  .bootstrapModule(AppModule)\n  .catch((err) => console.error(err));\n"
    },
    "/src/styles.css": {
      "code": "body {\n  font-family: sans-serif;\n}\n"
    },
    "/tsconfig.app.json": {
      "code": "/* To learn more about this file see: https://angular.io/config/tsconfig. */\n{\n  \"extends\": \"./tsconfig.json\",\n  \"compilerOptions\": {\n    \"outDir\": \"./out-tsc/app\",\n    \"types\": []\n  },\n  \"files\": [\"src/main.ts\"],\n  \"include\": [\"src/**/*.d.ts\"]\n}\n"
    },
    "/tsconfig.json": {
      "code": "{\n  \"compileOnSave\": false,\n  \"compilerOptions\": {\n    \"baseUrl\": \"./\",\n    \"outDir\": \"./dist/out-tsc\",\n    \"forceConsistentCasingInFileNames\": true,\n    \"strict\": true,\n    \"noImplicitOverride\": true,\n    \"noPropertyAccessFromIndexSignature\": true,\n    \"noImplicitReturns\": true,\n    \"noFallthroughCasesInSwitch\": true,\n    \"sourceMap\": true,\n    \"declaration\": false,\n    \"downlevelIteration\": true,\n    \"experimentalDecorators\": true,\n    \"moduleResolution\": \"node\",\n    \"target\": \"es2020\",\n    \"module\": \"esnext\",\n    \"lib\": [\"dom\", \"dom.iterable\", \"esnext\"]\n  },\n  \"angularCompilerOptions\": {\n    \"enableI18nLegacyMessageIdFormat\": false,\n    \"strictInjectionParameters\": true,\n    \"strictInputAccessModifiers\": true,\n    \"strictTemplates\": true\n  }\n}\n"
    },
    "/tsconfig.spec.json": {
      "code": "/* To learn more about this file see: https://angular.io/config/tsconfig. */\n{\n  \"extends\": \"./tsconfig.json\",\n  \"compilerOptions\": {\n    \"outDir\": \"./out-tsc/spec\",\n    \"types\": [\"jasmine\"]\n  },\n  \"include\": [\"src/**/*.spec.ts\", \"src/**/*.d.ts\"]\n}\n"
    }
  },
  "workspace": {
    "visibleFiles": [
      "/src/app/app.component.ts",
      "/src/app/app.component.html",
      "/src/styles.css"
    ],
    "activeFile": "/src/app/app.component.ts",
    "environment": "angular-cli"
  },
  "writeup": "var Component=(()=>{var M=Object.create;var h=Object.defineProperty;var k=Object.getOwnPropertyDescriptor;var D=Object.getOwnPropertyNames;var O=Object.getPrototypeOf,S=Object.prototype.hasOwnProperty;var C=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),F=(n,e)=>{for(var o in e)h(n,o,{get:e[o],enumerable:!0})},m=(n,e,o,u)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let l of D(e))!S.call(n,l)&&l!==o&&h(n,l,{get:()=>e[l],enumerable:!(u=k(e,l))||u.enumerable});return n};var d=(n,e,o)=>(o=n!=null?M(O(n)):{},m(e||!n||!n.__esModule?h(o,\"default\",{value:n,enumerable:!0}):o,n)),X=n=>m(h({},\"__esModule\",{value:!0}),n);var c=C((W,f)=>{f.exports=_jsx_runtime});var E={};F(E,{default:()=>R});var r=d(c());var i=d(c());function p(n){let e=Object.assign({h2:\"h2\",ul:\"ul\",li:\"li\"},n.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.h2,{children:\"Test cases\"}),`\n`,(0,i.jsxs)(e.ul,{children:[`\n`,(0,i.jsxs)(e.li,{children:[\"One-way flight\",`\n`,(0,i.jsxs)(e.ul,{children:[`\n`,(0,i.jsx)(e.li,{children:\"Only one datepicker is shown.\"}),`\n`,(0,i.jsx)(e.li,{children:\"Submission is blocked when a date in the past is selected.\"}),`\n`,(0,i.jsx)(e.li,{children:\"Submitting with a date in the future shows the success message.\"}),`\n`]}),`\n`]}),`\n`,(0,i.jsxs)(e.li,{children:[\"Return flight\",`\n`,(0,i.jsxs)(e.ul,{children:[`\n`,(0,i.jsx)(e.li,{children:\"Two datepickers are shown.\"}),`\n`,(0,i.jsx)(e.li,{children:\"Submission is blocked when dates in the past are selected.\"}),`\n`,(0,i.jsx)(e.li,{children:\"Submission is blocked when the return date is earlier than the start date.\"}),`\n`,(0,i.jsx)(e.li,{children:\"Submitting with dates in the future shows the success message.\"}),`\n`]}),`\n`]}),`\n`]})]})}function T(n={}){let{wrapper:e}=n.components||{};return e?(0,i.jsx)(e,Object.assign({},n,{children:(0,i.jsx)(p,n)})):p(n)}var g=T;var s=d(c());function b(n){let e=Object.assign({h2:\"h2\",ul:\"ul\",li:\"li\",code:\"code\"},n.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.h2,{children:\"Accessibility\"}),`\n`,(0,s.jsxs)(e.ul,{children:[`\n`,(0,s.jsxs)(e.li,{children:[\"Since the \",(0,s.jsx)(e.code,{children:\"<input>\"}),\" fields don't have visible labels, \",(0,s.jsx)(e.code,{children:\"aria-label\"}),\"s can be used to label the fields for screenreaders.\"]}),`\n`,(0,s.jsxs)(e.li,{children:[\"Wrapping the fields in a \",(0,s.jsx)(e.code,{children:\"<form>\"}),\" enables default form submission behavior.\"]}),`\n`]})]})}function L(n={}){let{wrapper:e}=n.components||{};return e?(0,s.jsx)(e,Object.assign({},n,{children:(0,s.jsx)(b,n)})):b(n)}var w=L;var a=d(c());function x(n){let e=Object.assign({h2:\"h2\",ul:\"ul\",li:\"li\"},n.components);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.h2,{children:\"User Experience\"}),`\n`,(0,a.jsxs)(e.ul,{children:[`\n`,(0,a.jsx)(e.li,{children:\"The datepickers are prefilled with tomorrow's date as a nice default.\"}),`\n`]})]})}function U(n={}){let{wrapper:e}=n.components||{};return e?(0,a.jsx)(e,Object.assign({},n,{children:(0,a.jsx)(x,n)})):x(n)}var j=U;var t=d(c());function v(n){let e=Object.assign({h2:\"h2\",p:\"p\",h3:\"h3\",code:\"code\",a:\"a\"},n.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.h2,{children:\"Solution\"}),`\n`,(0,t.jsx)(e.p,{children:\"This question evaluates your knowledge of form validation and dependent form fields.\"}),`\n`,(0,t.jsx)(e.h3,{children:\"Rendering\"}),`\n`,(0,t.jsxs)(e.p,{children:[\"We can use \",(0,t.jsx)(e.code,{children:'<input type=\"date\">'}),\" to render native datepickers, which has over \",(0,t.jsx)(e.a,{href:\"https://caniuse.com/?search=input%20date\",children:\"96% browser support globally\"}),\" at the time of writing. Native datepickers also come with the \",(0,t.jsx)(e.code,{children:\"min\"}),\" attributes, which we can use for ensuring that only valid dates are chosen.\"]}),`\n`,(0,t.jsxs)(e.p,{children:[\"The input fields and buttons are also wrapped in a \",(0,t.jsx)(e.code,{children:\"<form>\"}),' so that we can leverage native form submission and validation. Submission can be trigged by clicking the \"Book\" button or hitting ',(0,t.jsx)(\"kbd\",{children:\"Enter\"}),\" on any of the form fields. The browser will first validate the inputs and trigger the submit event if the fields are valid.\"]}),`\n`,(0,t.jsx)(e.h3,{children:\"State\"}),`\n`,(0,t.jsx)(e.p,{children:'Since we need to toggle the display of the return field, we will need a state value to track whether the selected flight is \"One-way\" or \"Return\" to know whether to render the return date input.'}),`\n`,(0,t.jsxs)(e.p,{children:[\"The \",(0,t.jsx)(e.code,{children:\"formatDate\"}),\" function converts a JavaScript \",(0,t.jsx)(e.code,{children:\"Date\"}),\" object into a \",(0,t.jsx)(e.code,{children:\"YYYY-MM-DD\"}),\" string which is the format expected by \",(0,t.jsx)(e.code,{children:'<input type=\"date\">'}),\".\"]})]})}function Y(n={}){let{wrapper:e}=n.components||{};return e?(0,t.jsx)(e,Object.assign({},n,{children:(0,t.jsx)(v,n)})):v(n)}var _=Y;function y(n){let e=Object.assign({p:\"p\",code:\"code\"},n.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(_,{}),`\n`,(0,r.jsxs)(e.p,{children:[\"Using a form that constantly tracks the input values is more convenient than the native forms approach, as having state/properties for the date values allows us to specify the current departure date as the \",(0,r.jsx)(e.code,{children:\"min\"}),\" of the return date \",(0,r.jsx)(e.code,{children:\"<input>\"}),\" field and leverage the browser's form validation during submission. Otherwise, we'll have to write custom validation logic in the submission handler.\"]}),`\n`,(0,r.jsxs)(e.p,{children:[\"Using Angular's \",(0,r.jsx)(e.code,{children:\"ngModel\"}),\" links the date \",(0,r.jsx)(e.code,{children:\"<input>\"}),\" and \",(0,r.jsx)(e.code,{children:\"<select>\"}),\" element with the component's state. This makes it straightforward to capture the current value of these elements directly as the component's properties, and any property changes are instantly updated in the UI.\"]}),`\n`,(0,r.jsx)(g,{}),`\n`,(0,r.jsx)(w,{}),`\n`,(0,r.jsx)(j,{})]})}function A(n={}){let{wrapper:e}=n.components||{};return e?(0,r.jsx)(e,Object.assign({},n,{children:(0,r.jsx)(y,n)})):y(n)}var R=A;return X(E);})();\n;return Component;"
}