{
  "author": "yangshun",
  "files": {
    "/index.html": {
      "code": "<!doctype html>\n<html>\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta\n      name=\"viewport\"\n      content=\"width=device-width, initial-scale=1.0\" />\n  </head>\n  <body>\n    <div id=\"tabs\"></div>\n    <script src=\"src/index.js\"></script>\n  </body>\n</html>\n"
    },
    "/package.json": {
      "code": "{\n  \"name\": \"@gfe-questions/tabs-vanilla-solution\",\n  \"author\": \"yangshun\",\n  \"version\": \"0.0.1\",\n  \"private\": true,\n  \"devDependencies\": {\n    \"parcel\": \"2.9.3\"\n  },\n  \"source\": \"index.html\",\n  \"scripts\": {\n    \"start\": \"parcel\",\n    \"build\": \"parcel build\"\n  }\n}\n"
    },
    "/src/index.js": {
      "code": "import './styles.css';\n\n(() => {\n  function tabs(\n    $rootEl,\n    { defaultValue, items: itemsParam },\n  ) {\n    const DOM = {\n      $tabBar: document.createElement('div'),\n      $tabpanels: document.createElement('div'),\n    };\n\n    const items = itemsParam;\n    const state = {\n      value: defaultValue || items[0].value,\n    };\n\n    function update() {\n      const $tabsFragment =\n        document.createDocumentFragment();\n      items.forEach(({ label, value: itemValue }) => {\n        const $tabEl = document.createElement('button');\n        const isTabActive = itemValue === state.value;\n\n        $tabEl.textContent = label;\n        $tabEl.type = 'button';\n        $tabEl.setAttribute('data-value', itemValue);\n        $tabEl.classList.add('tabs-list-item');\n\n        if (isTabActive) {\n          $tabEl.classList.add('tabs-list-item--active');\n        }\n\n        $tabsFragment.appendChild($tabEl);\n      });\n\n      DOM.$tabBar.innerHTML = '';\n      DOM.$tabBar.appendChild($tabsFragment);\n\n      const $tabpanelsFragment =\n        document.createDocumentFragment();\n      items.forEach(({ panel, value: itemValue }) => {\n        const isTabActive = itemValue === state.value;\n\n        const $tabpanelEl = document.createElement('div');\n        $tabpanelEl.textContent = panel;\n        $tabpanelEl.hidden = !isTabActive;\n\n        $tabpanelsFragment.appendChild($tabpanelEl);\n      });\n\n      DOM.$tabpanels.innerHTML = '';\n      DOM.$tabpanels.appendChild($tabpanelsFragment);\n    }\n\n    function attachEvents() {\n      // Use Event Delegation.\n      DOM.$tabBar.addEventListener('click', (event) => {\n        if (event.target.tagName !== 'BUTTON') {\n          return;\n        }\n\n        state.value =\n          event.target.getAttribute('data-value');\n        update();\n      });\n    }\n\n    function init() {\n      $rootEl.classList.add('tabs');\n\n      DOM.$tabBar.className = 'tabs-list';\n      $rootEl.appendChild(DOM.$tabBar);\n\n      $rootEl.appendChild(DOM.$tabpanels);\n    }\n\n    init();\n    update();\n    attachEvents();\n  }\n\n  tabs(document.getElementById('tabs'), {\n    items: [\n      {\n        value: 'html',\n        label: 'HTML',\n        panel:\n          'The HyperText Markup Language or HTML is the standard markup language for documents designed to be displayed in a web browser.',\n      },\n      {\n        value: 'css',\n        label: 'CSS',\n        panel:\n          'Cascading Style Sheets is a style sheet language used for describing the presentation of a document written in a markup language such as HTML or XML.',\n      },\n      {\n        value: 'javascript',\n        label: 'JavaScript',\n        panel:\n          'JavaScript, often abbreviated as JS, is a programming language that is one of the core technologies of the World Wide Web, alongside HTML and CSS.',\n      },\n    ],\n  });\n})();\n"
    },
    "/src/styles.css": {
      "code": "body {\n  font-family: sans-serif;\n}\n\n.wrapper {\n  align-items: center;\n  display: flex;\n}\n\n.tabs {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.tabs-list {\n  display: flex;\n  gap: 6px;\n}\n\n.tabs-list-item {\n  --active-color: blueviolet;\n\n  background: none;\n  border: 1px solid #000;\n  border-radius: 4px;\n  cursor: pointer;\n  padding: 6px 10px;\n}\n\n.tabs-list-item:hover {\n  border-color: var(--active-color);\n  color: var(--active-color);\n}\n\n.tabs-list-item--active,\n.tabs-list-item--active:hover {\n  border-color: var(--active-color);\n  background-color: var(--active-color);\n  color: #fff;\n}\n"
    }
  },
  "workspace": {
    "visibleFiles": [
      "/index.html",
      "/src/index.js",
      "/src/styles.css"
    ],
    "activeFile": "/src/index.html",
    "environment": "parcel"
  },
  "writeup": "var Component=(()=>{var w=Object.create;var c=Object.defineProperty;var T=Object.getOwnPropertyDescriptor;var v=Object.getOwnPropertyNames;var y=Object.getPrototypeOf,j=Object.prototype.hasOwnProperty;var x=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),A=(n,e)=>{for(var s in e)c(n,s,{get:e[s],enumerable:!0})},d=(n,e,s,r)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let l of v(e))!j.call(n,l)&&l!==s&&c(n,l,{get:()=>e[l],enumerable:!(r=T(e,l))||r.enumerable});return n};var o=(n,e,s)=>(s=n!=null?w(y(n)):{},d(e||!n||!n.__esModule?c(s,\"default\",{value:n,enumerable:!0}):s,n)),I=n=>d(c({},\"__esModule\",{value:!0}),n);var h=x((C,u)=>{u.exports=_jsx_runtime});var R={};A(R,{default:()=>O});var t=o(h());var a=o(h());function p(n){let e=Object.assign({h2:\"h2\",ul:\"ul\",li:\"li\"},n.components);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.h2,{children:\"Test cases\"}),`\n`,(0,a.jsxs)(e.ul,{children:[`\n`,(0,a.jsx)(e.li,{children:\"All the provided items should be displayed.\"}),`\n`,(0,a.jsx)(e.li,{children:\"The default active item should be reflected correctly.\"}),`\n`,(0,a.jsx)(e.li,{children:\"Selecting the tab items updates the tabpanel's contents with the active tabs's panel details.\"}),`\n`,(0,a.jsx)(e.li,{children:\"Test that you are able to initialize multiple instances of the component, each with independent states.\"}),`\n`]})]})}function _(n={}){let{wrapper:e}=n.components||{};return e?(0,a.jsx)(e,Object.assign({},n,{children:(0,a.jsx)(p,n)})):p(n)}var m=_;var i=o(h());function b(n){let e=Object.assign({h2:\"h2\",p:\"p\",a:\"a\",ul:\"ul\",li:\"li\"},n.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.h2,{children:\"Accessibility\"}),`\n`,(0,i.jsxs)(e.p,{children:[\"Accessibility is an important factor for making good Tabs components. The \",(0,i.jsx)(e.a,{href:\"https://www.w3.org/WAI/ARIA/apg/patterns/tabs/\",children:\"ARIA Authoring Practices Guide for Tabs\"}),\" has a long list of guidelines for the ARIA roles, states, and properties to add to the various elements of a Tab. \",(0,i.jsx)(e.a,{href:\"/questions/user-interface/tabs-ii\",children:\"Tabs II\"}),\" and \",(0,i.jsx)(e.a,{href:\"/questions/user-interface/tabs-iii\",children:\"Tabs III\"}),\" will focus on improving the accessibility of Tabs component.\"]}),`\n`,(0,i.jsx)(e.h2,{children:\"Resources\"}),`\n`,(0,i.jsxs)(e.ul,{children:[`\n`,(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:\"https://www.w3.org/WAI/ARIA/apg/patterns/tabs/\",children:\"Tabs Patterns | ARIA Authoring Practices Guide\"})}),`\n`,(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:\"https://www.radix-ui.com/primitives/docs/components/tabs\",children:\"Tabs \\u2013 Radix Primitives\"})}),`\n`,(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:\"https://react-spectrum.adobe.com/react-aria/Tabs.html\",children:\"Tabs \\u2013 React Aria\"})}),`\n`,(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:\"https://headlessui.com/react/tabs\",children:\"Tabs - Headless UI\"})}),`\n`,(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:\"https://ariakit.org/components/tab\",children:\"Tab \\u2013 Ariakit\"})}),`\n`,(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:\"https://reach.tech/tabs\",children:\"Tabs | Reach UI\"})}),`\n`]})]})}function M(n={}){let{wrapper:e}=n.components||{};return e?(0,i.jsx)(e,Object.assign({},n,{children:(0,i.jsx)(b,n)})):b(n)}var f=M;function g(n){let e=Object.assign({h2:\"h2\",h3:\"h3\",p:\"p\",code:\"code\",ul:\"ul\",li:\"li\"},n.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.h2,{children:\"Solution\"}),`\n`,(0,t.jsx)(e.h3,{children:\"Config / API Design\"}),`\n`,(0,t.jsxs)(e.p,{children:[\"Part of the complexity of building a component is designing the API for it. The \",(0,t.jsx)(e.code,{children:\"tabs\"}),\" function accepts a root element, \",(0,t.jsx)(e.code,{children:\"$rootEl\"}),\", where the tabs components will be inserted. The second parameter of the \",(0,t.jsx)(e.code,{children:\"tabs\"}),\" function is an object used to store the configuration options. At the bare minimum, we will need the following options:\"]}),`\n`,(0,t.jsxs)(e.ul,{children:[`\n`,(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:\"items\"}),\": A list of item objects. Each item is an object with the fields:\",`\n`,(0,t.jsxs)(e.ul,{children:[`\n`,(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:\"value\"}),\": A unique identifier for the tab item.\"]}),`\n`,(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:\"label\"}),\": The text label to show in the tab item.\"]}),`\n`,(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:\"panel\"}),\": The contents to show in the tab panel when the item is active.\"]}),`\n`]}),`\n`]}),`\n`,(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:\"defaultValue\"}),\": The default tab item/panel to show. In case the \",(0,t.jsx)(e.code,{children:\"defaultValue\"}),\" is not provided, we'll use the first item as the value. This is assuming that \",(0,t.jsx)(e.code,{children:\"items\"}),\" is non-empty.\"]}),`\n`]}),`\n`,(0,t.jsxs)(e.p,{children:[\"The \",(0,t.jsx)(e.code,{children:\"tabs\"}),\" function maintains the selected tab value in the \",(0,t.jsx)(e.code,{children:\"state\"}),\" object, and it uses the \",(0,t.jsx)(e.code,{children:\"DOM\"}),\" object to store references to the tab bar and tab panel elements.\"]}),`\n`,(0,t.jsxs)(e.p,{children:[\"We only need one state value in the component, which is the currently selected tab item. The initial value of this state will either come from the \",(0,t.jsx)(e.code,{children:\"defaultValue\"}),\" option or the value of the first item.\"]}),`\n`,(0,t.jsxs)(e.p,{children:[\"The \",(0,t.jsx)(e.code,{children:\"tabs\"}),\" function calls the \",(0,t.jsx)(e.code,{children:\"init\"}),\", \",(0,t.jsx)(e.code,{children:\"update\"}),\", and \",(0,t.jsx)(e.code,{children:\"attachEvents\"}),\" functions to set up the tabs widget, update its initial state, and attach the necessary event listeners.\"]}),`\n`,(0,t.jsx)(e.h3,{children:(0,t.jsx)(e.code,{children:\"init\"})}),`\n`,(0,t.jsx)(e.p,{children:\"This function sets up the DOM elements that remain throughout the lifecycle of the component, aka they will never be destroyed. In the Tabs component, the tabs list and the tab panel are always present. This function sets up the root element and creates the tab bar and tab panel elements.\"}),`\n`,(0,t.jsx)(e.h3,{children:(0,t.jsx)(e.code,{children:\"attachEvents\"})}),`\n`,(0,t.jsxs)(e.p,{children:[\"Only a single event listener is necessary in this component, which is the \",(0,t.jsx)(e.code,{children:\"click\"}),\" event, to be added to the tablist. We make use of Event Delegation so that only a single event listener has to be added and will work for any of its child contents. This technique is useful given that we'll repeatedly destroy and recreate the DOM nodes for the tabs. If we added separate event listeners to each tab, we'd have to keep adding the event listener each time the tabs are recreated.\"]}),`\n`,(0,t.jsx)(e.h3,{children:(0,t.jsx)(e.code,{children:\"update\"})}),`\n`,(0,t.jsx)(e.p,{children:\"This function updates the tablist and tab panel elements to reflect the current selected tab value. The tablist is always changing depending on the selected value, hence it will be easier to destroy all the tabs and render them again depending on the updated state. We will also have to update the contents of the panel with the selected tab's details.\"}),`\n`,(0,t.jsx)(m,{}),`\n`,(0,t.jsx)(f,{})]})}function D(n={}){let{wrapper:e}=n.components||{};return e?(0,t.jsx)(e,Object.assign({},n,{children:(0,t.jsx)(g,n)})):g(n)}var O=D;return I(R);})();\n;return Component;"
}