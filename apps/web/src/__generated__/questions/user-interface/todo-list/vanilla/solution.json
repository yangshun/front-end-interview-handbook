{
  "author": "yangshun",
  "files": {
    "/index.html": {
      "code": "<!doctype html>\n<html>\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta\n      name=\"viewport\"\n      content=\"width=device-width, initial-scale=1.0\" />\n  </head>\n  <body>\n    <div>\n      <h1>Todo List</h1>\n      <div>\n        <input\n          aria-label=\"Add new task\"\n          type=\"text\"\n          placeholder=\"Add your task\" />\n        <div>\n          <button id=\"submit\">Submit</button>\n        </div>\n      </div>\n      <ul>\n        <li>\n          <span>Walk the dog</span>\n          <button>Delete</button>\n        </li>\n        <li>\n          <span>Water the plants</span>\n          <button>Delete</button>\n        </li>\n        <li>\n          <span>Wash the dishes</span>\n          <button>Delete</button>\n        </li>\n      </ul>\n    </div>\n    <script src=\"src/index.js\"></script>\n  </body>\n</html>\n"
    },
    "/package.json": {
      "code": "{\n  \"name\": \"@gfe-questions/todo-list-vanilla-solution\",\n  \"author\": \"yangshun\",\n  \"version\": \"0.0.1\",\n  \"private\": true,\n  \"devDependencies\": {\n    \"parcel\": \"2.9.3\"\n  },\n  \"source\": \"index.html\",\n  \"scripts\": {\n    \"start\": \"parcel\",\n    \"build\": \"parcel build\"\n  }\n}\n"
    },
    "/src/index.js": {
      "code": "import './styles.css';\n\n(() => {\n  // Retain a reference to the elements which persist\n  // throughout usage of the app.\n  const $inputEl = document.querySelector('input');\n  const $submitButtonEl = document.querySelector('#submit');\n  const $todoListEl = document.querySelector('ul');\n\n  function addTask(label) {\n    // Create the DOM elements for the new task.\n    const $newTaskElement = document.createElement('li');\n\n    const $span = document.createElement('span');\n    $newTaskElement.appendChild($span);\n    // Using Node.textContent here instead of Element.innerHTML\n    // to prevent XSS (Cross Site Scripting).\n    $span.textContent = label;\n\n    const $btn = document.createElement('button');\n    $btn.textContent = 'Delete';\n    $newTaskElement.appendChild($btn);\n\n    // Add the new task to the list.\n    $todoListEl.append($newTaskElement);\n  }\n\n  function deleteTask($itemEl) {\n    // Remove the task from the list.\n    $itemEl.parentNode.removeChild($itemEl);\n  }\n\n  $submitButtonEl.addEventListener('click', () => {\n    addTask($inputEl.value);\n    // Reset the input so that new tasks can be added.\n    $inputEl.value = '';\n  });\n\n  // Add a listener to the list instead of individual tasks.\n  // This is called event delegation and the benefit is that\n  // the Delete button of newly-added tasks will also respond\n  // to clicks without you having to manually add event listeners\n  // to them. You also don't have to remove any event listeners\n  // when the task is removed.\n  $todoListEl.addEventListener('click', (event) => {\n    // Check that the button is being clicked and not something\n    // else (e.g. the task label).\n    if (event.target.tagName === 'BUTTON') {\n      deleteTask(event.target.parentNode);\n    }\n  });\n})();\n"
    },
    "/src/styles.css": {
      "code": "body {\n  font-family: sans-serif;\n}\n"
    }
  },
  "workspace": {
    "visibleFiles": [
      "/index.html",
      "/src/index.js",
      "/src/styles.css"
    ],
    "activeFile": "/src/index.html",
    "environment": "parcel"
  },
  "writeup": "var Component=(()=>{var D=Object.create;var h=Object.defineProperty;var k=Object.getOwnPropertyDescriptor;var A=Object.getOwnPropertyNames;var S=Object.getPrototypeOf,C=Object.prototype.hasOwnProperty;var O=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),X=(n,e)=>{for(var l in e)h(n,l,{get:e[l],enumerable:!0})},m=(n,e,l,u)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let c of A(e))!C.call(n,c)&&c!==l&&h(n,c,{get:()=>e[c],enumerable:!(u=k(e,c))||u.enumerable});return n};var d=(n,e,l)=>(l=n!=null?D(S(n)):{},m(e||!n||!n.__esModule?h(l,\"default\",{value:n,enumerable:!0}):l,n)),v=n=>m(h({},\"__esModule\",{value:!0}),n);var a=O((z,p)=>{p.exports=_jsx_runtime});var q={};X(q,{default:()=>N});var o=d(a());var r=d(a());function f(n){let e=Object.assign({h2:\"h2\",p:\"p\",ul:\"ul\",li:\"li\",a:\"a\",code:\"code\"},n.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.h2,{children:\"Solution\"}),`\n`,(0,r.jsx)(e.p,{children:\"There are a few ways to approach this questions:\"}),`\n`,(0,r.jsxs)(e.ul,{children:[`\n`,(0,r.jsxs)(e.li,{children:[\"Add only the necessary DOM event listeners and DOM operations. See \",(0,r.jsx)(e.a,{href:\"/questions/user-interface/todo-list/vanilla/solution\",children:\"solution\"}),\".\"]}),`\n`,(0,r.jsxs)(e.li,{children:[\"Use \",(0,r.jsx)(e.code,{children:\"<template>\"}),\"s and client-side render both initial and new tasks. See \",(0,r.jsx)(e.a,{href:\"/questions/user-interface/todo-list/vanilla/solution/template\",children:\"solution\"}),\".\"]}),`\n`]})]})}function F(n={}){let{wrapper:e}=n.components||{};return e?(0,r.jsx)(e,Object.assign({},n,{children:(0,r.jsx)(f,n)})):f(n)}var g=F;var s=d(a());function x(n){let e=Object.assign({h2:\"h2\",p:\"p\",ul:\"ul\",li:\"li\",code:\"code\"},n.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.h2,{children:\"Notes\"}),`\n`,(0,s.jsx)(e.p,{children:\"When rendering user input, there's a risk of inserting potentially malicious content resulting in Cross Site Scripting (XSS). To prevent XSS:\"}),`\n`,(0,s.jsxs)(e.ul,{children:[`\n`,(0,s.jsx)(e.li,{children:\"Sanitize the user input before rendering.\"}),`\n`,(0,s.jsxs)(e.li,{children:[\"Avoid setting \",(0,s.jsx)(e.code,{children:\"Element.innerHTML\"}),\", set \",(0,s.jsx)(e.code,{children:\"Node.textContent\"}),\" instead which inserts strings as raw text rather than parsing it as HTML.\"]}),`\n`]})]})}function L(n={}){let{wrapper:e}=n.components||{};return e?(0,s.jsx)(e,Object.assign({},n,{children:(0,s.jsx)(x,n)})):x(n)}var j=L;var i=d(a());function b(n){let e=Object.assign({h2:\"h2\",ul:\"ul\",li:\"li\",code:\"code\",a:\"a\"},n.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.h2,{children:\"Accessibility\"}),`\n`,(0,i.jsxs)(e.ul,{children:[`\n`,(0,i.jsxs)(e.li,{children:[\"All form \",(0,i.jsx)(e.code,{children:\"<input>\"}),\"s should be labelled either via \",(0,i.jsx)(e.code,{children:\"<label>\"}),\"s or \",(0,i.jsx)(e.code,{children:\"aria-label\"}),\" attributes. Since the original markup doesn't contain a \",(0,i.jsx)(e.code,{children:\"<label>\"}),\", we can add \",(0,i.jsx)(e.code,{children:\"aria-label\"}),\" to the \",(0,i.jsx)(e.code,{children:\"<input>\"}),\".\"]}),`\n`,(0,i.jsxs)(e.li,{children:[\"For screen reader users, they won't be aware that a new task has been added. An \",(0,i.jsx)(e.code,{children:\"aria-live\"}),\" region can be added to inform about the newly-added task. There is unlikely enough time to do this during an interview but you will get bonus points for mentioning it. Read more about \",(0,i.jsx)(e.a,{href:\"https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/ARIA_Live_Regions\",children:\"ARIA live regions on MDN\"}),\".\"]}),`\n`]})]})}function T(n={}){let{wrapper:e}=n.components||{};return e?(0,i.jsx)(e,Object.assign({},n,{children:(0,i.jsx)(b,n)})):b(n)}var _=T;var t=d(a());function M(n){let e=Object.assign({h2:\"h2\",ul:\"ul\",li:\"li\",code:\"code\"},n.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.h2,{children:\"Test cases\"}),`\n`,(0,t.jsxs)(e.ul,{children:[`\n`,(0,t.jsxs)(e.li,{children:[\"Add tasks\",`\n`,(0,t.jsxs)(e.ul,{children:[`\n`,(0,t.jsx)(e.li,{children:\"Add a new task.\"}),`\n`,(0,t.jsx)(e.li,{children:\"Add multiple tasks.\"}),`\n`,(0,t.jsxs)(e.li,{children:[\"Add tasks with potentially malicious content like HTML (e.g. \",(0,t.jsx)(e.code,{children:\"<script>\"}),\", \",(0,t.jsx)(e.code,{children:\"<style>\"}),\" or \",(0,t.jsx)(e.code,{children:\"<link\"}),\">) and ensure there's no XSS.\"]}),`\n`,(0,t.jsxs)(e.li,{children:[\"Check that \",(0,t.jsx)(e.code,{children:\"<input>\"}),\" is cleared after a task is added.\"]}),`\n`]}),`\n`]}),`\n`,(0,t.jsxs)(e.li,{children:[\"Delete tasks\",`\n`,(0,t.jsxs)(e.ul,{children:[`\n`,(0,t.jsx)(e.li,{children:\"Delete an existing task.\"}),`\n`,(0,t.jsx)(e.li,{children:\"Delete multiple tasks.\"}),`\n`,(0,t.jsx)(e.li,{children:\"Delete newly-added tasks.\"}),`\n`]}),`\n`]}),`\n`]})]})}function R(n={}){let{wrapper:e}=n.components||{};return e?(0,t.jsx)(e,Object.assign({},n,{children:(0,t.jsx)(M,n)})):M(n)}var w=R;function y(n){let e=Object.assign({p:\"p\"},n.components);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(g,{}),`\n`,(0,o.jsx)(e.p,{children:\"In this approach, only the necessary DOM event listeners and DOM operations are added. Refer to the inline comments for explanations on what each part of the code does.\"}),`\n`,(0,o.jsx)(j,{}),`\n`,(0,o.jsx)(_,{}),`\n`,(0,o.jsx)(w,{})]})}function I(n={}){let{wrapper:e}=n.components||{};return e?(0,o.jsx)(e,Object.assign({},n,{children:(0,o.jsx)(y,n)})):y(n)}var N=I;return v(q);})();\n;return Component;"
}