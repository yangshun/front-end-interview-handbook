import MDXCodeBlock from 'MDXCodeBlock';

import binarySearchTreeJs from '../setup/src/binary-search-tree.js';
import binarySearchTreeTs from '../setup/src/binary-search-tree.ts';

## 解决方案

二叉搜索树 (BST) 是计算机科学中的一种基本数据结构，主要用于以排序顺序维护动态变化的数据集。BST 中的每个节点都包含一个键和指向其左子节点和右子节点的指针。该树的结构使得对于任何给定的节点，其左子树中的所有节点都具有小于该节点键的键，并且其右子树中的所有节点都具有大于该节点键的键。此属性支持高效的搜索、插入和删除操作。

<MDXCodeBlock languages={{jsx: binarySearchTreeJs, tsx: binarySearchTreeTs}} />

### 操作

* `new BST()`：初始化 BST 的新实例。构造函数将树的根设置为 null，表示树最初为空。
* `insert(value)`：将具有给定值的节点添加到 BST。如果树为空，则新节点将成为根。如果不是，则从根开始遍历树，以找到新节点以维护 BST 属性的正确位置。此操作涉及将新值与当前节点的值进行比较，并决定向左或向右移动。平均时间复杂度为 O(log n)，但如果按升序/降序插入值，则可能会降低到 O(n)。

![Insert](/img/questions/binary-search-tree/insert.png)

* `search(value)`：搜索包含指定值的节点。从根开始，根据目标值与当前节点的值的比较结果，向左或向右遍历树。重复此过程，直到找到该值或到达叶子。与 `insert(value)` 类似，平均时间复杂度为 O(log n)，最坏情况为 O(n)。
* `delete(value)`：从 BST 中删除具有指定值的节点。此操作更为复杂，因为它需要处理三种情况：
  * 叶节点：直接删除该节点。
  * 具有一个子节点的节点：删除该节点并将其替换为其子节点。
  * 具有两个子节点的节点：将节点的值替换为右子树中的最小值，然后删除后继节点。

![Delete](/img/questions/binary-search-tree/delete.png)

删除过程确保在删除节点后维护 BST 属性。与插入类似，时间复杂度平均为 O(log n)，但可能变为 O(n)。

## 边缘情况

* 插入树中已存在的值。
* 从空树或不存在的值中删除节点。
* 搜索树中不存在的值。
* 删除二叉搜索树中的重复值。

## 技术

* **中序遍历**：在删除操作期间用于查找后继节点。
* **面向对象设计**：使用 Node 类表示每个树节点，并使用 BST 类进行树操作，从而提供清晰的结构和封装。

此二叉搜索树实现使用迭代解决方案，而 `delete(value)` 的递归解决方案可能更容易实现。
