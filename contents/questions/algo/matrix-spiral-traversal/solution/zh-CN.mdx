import MDXCodeBlock from 'MDXCodeBlock';

import matrixSpiralTraversal from '../setup/src/matrix-spiral-traversal.ts';
import matrixSpiralTraversalUsingMarkVisited from '../setup/src/matrix-spiral-traversal-mark-visited.ts';

## 1. 设置边界

该任务要求以螺旋顺序遍历二维矩阵，从左上角开始，按顺时针方向进行。 解决方案使用边界变量来定义当前的遍历限制，并迭代地向内移动。

直觉是将矩阵视为层，从最外层开始并向内移动。 对于每一层：

1. 沿上边界从左向右遍历。
2. 沿右边界从上到下遍历。
3. 沿下边界从右向左遍历，确保它不与上行重叠。
4. 沿左边界从下到上遍历，确保它不与右列重叠。

每次遍历后，边界向内调整，该过程持续进行，直到遍历完所有元素。

### 算法

1. 初始化结果数组 `result` 以存储螺旋顺序。
2. 定义边界：
   * `up` 作为最顶行索引，从 `0` 开始。
   * `down` 作为最底行索引，从 `rows - 1` 开始。
   * `left` 作为最左列索引，从 `0` 开始。
   * `right` 作为最右列索引，从 `columns - 1` 开始。
3. 当 `result` 的大小小于矩阵中元素的总数时：
   * 沿 `up` 行从 `left` 遍历到 `right`，并将元素添加到 `result`。
   * 沿 `right` 列从 `up + 1` 遍历到 `down`，并将元素添加到 `result`。
   * 如果 `up` 不等于 `down`，则沿 `down` 行从 `right - 1` 遍历到 `left`，并将元素添加到 `result`。
   * 如果 `left` 不等于 `right`，则沿 `left` 列从 `down - 1` 遍历到 `up`，并将元素添加到 `result`。
   * 向内移动边界：
     * 递增 `up` 和 `left`。
     * 递减 `down` 和 `right`。
4. 返回 `result`。

<MDXCodeBlock>
  {matrixSpiralTraversal}
</MDXCodeBlock>

### Big-O 分析

* **时间复杂度：O(m.n)**。 矩阵中的每个元素只访问一次。
* **空间复杂度：O(1)**。 忽略 `result` 数组，所需的额外空间是恒定的。

## 2. 标记已访问的元素

该任务涉及以螺旋顺序遍历二维矩阵，从左上角开始，按顺时针方向进行。 此解决方案使用标记来标识已访问的单元格，并确保遍历继续进行，直到所有元素都添加到结果中。

矩阵以四种可能的方向遍历：右、下、左和上。 该算法跟踪当前位置和方向。 当遇到边界或先前访问过的单元格时，方向会发生变化。 此过程一直持续到算法循环两次方向变化而未添加任何新元素，这表明所有元素都已被访问。

这种方法消除了通过动态检查下一个单元格的有效性来显式跟踪边界的需要。

### 算法

1. 初始化变量：
   * 将 `VISITED` 定义为已访问单元格的标记。
   * 检索矩阵中的行数和列数。
   * 创建 `result` 数组，从左上角元素开始。
   * 通过为其分配 `VISITED` 值来将左上角单元格标记为已访问。
2. 定义遍历的四个可能方向：右、下、左和上。
3. 将 `currentDirection` 初始化为 `0`（右），将 `changeDirection` 初始化为 `0`，以跟踪连续的方向变化，而无需添加元素。
4. 遍历矩阵：
   * 当 `changeDirection` 小于 `2` 时：
     * 沿当前方向移动，直到遇到边界或已访问的单元格。
     * 对于每次有效移动：
       * 更新当前位置。
       * 将当前位置的元素添加到 `result` 数组。
       * 将单元格标记为已访问。
       * 将 `changeDirection` 重置为 `0`。
     * 通过将 `currentDirection` 更新为序列中的下一个值来更改方向。
     * 递增 `changeDirection`。
5. 返回 `result` 数组。

<MDXCodeBlock>
  {matrixSpiralTraversalUsingMarkVisited}
</MDXCodeBlock>

### Big-O 分析

* **时间复杂度：O(m.n)**。 矩阵中的每个元素只访问一次。
* **空间复杂度：O(1)**。 忽略 `result` 数组，所需的额外空间是恒定的。
