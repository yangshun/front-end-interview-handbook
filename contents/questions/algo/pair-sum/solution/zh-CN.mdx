import MDXCodeBlock from 'MDXCodeBlock';

import pairSum from '../setup/src/pair-sum.ts';
import pairSumBruteForce from '../setup/src/pair-sum-brute-force.ts';
import pairSumTwoPassHash from '../setup/src/pair-sum-two-pass-hash.ts';

## 1. 暴力解法

对和问题涉及识别数组中的两个索引，使得它们的值相加等于指定的 target。暴力解法检查数组中所有可能的元素对。对于索引 `i` 处的每个元素，检查索引 `j > i` 处的所有后续元素，以确定它们的总和是否与 target 匹配。这确保了考虑所有可能的对，使得解决方案直接但对于大型数组效率低下。

### 算法

1. 使用索引 `i` 的循环遍历 `numbers` 数组的每个元素。
2. 对于索引 `i` 处的每个元素，使用另一个索引为 `j` 的循环遍历 `i` 之后的元素 (`j > i`)。
3. 检查 `numbers[i]` 和 `numbers[j]` 的总和是否等于 `target`：
   * 如果条件为真，则返回索引 `[i, j]`。
4. 如果在检查所有对之后未找到这样的对，则返回一个空数组。

<MDXCodeBlock>
  {pairSumBruteForce}
</MDXCodeBlock>

### Big-O 分析

* **时间复杂度：O(n<sup>2</sup>)**。外循环运行 `n` 次，并且对于每次迭代，内循环最多运行 `n - 1` 次，导致二次方时间复杂度。
* **空间复杂度：O(1)**。没有使用额外的数据结构，空间需求是恒定的。

## 2. 使用两遍哈希映射

之前的暴力解法涉及检查所有元素对，由于重复比较元素对，导致 O(n<sup>2</sup>) 的时间复杂度。因此，这种方法通过用高效的 O(1) 哈希表查找替换嵌套循环来消除冗余工作，从而将时间复杂度降低到 O(n)。

这种优化的解决方案使用**两遍哈希映射**方法：

1. 第一遍构造一个哈希表，将每个元素的值存储为键，其索引存储为值。
2. 在第二遍中，算法检查当前元素的补数（即 `target - numbers[i]`）是否存在于哈希表中。

### 算法

1. 初始化一个空哈希表 `hash` 以存储数字及其索引。
2. 执行数组的第一遍：
   * 对于每个元素 `numbers[i]`，将其存储在哈希表中，其索引作为值 (`hash[numbers[i]] = i`)。
3. 执行数组的第二遍：
   * 计算 `complement` 作为 `target - numbers[i]`。
   * 检查 `complement` 是否存在于哈希表中，并确保其索引与当前索引不同。
   * 如果满足条件，则返回索引 `[i, hash[complement]]`。
4. 如果未找到有效对，则返回一个空数组。

<MDXCodeBlock>
  {pairSumTwoPassHash}
</MDXCodeBlock>

### Big-O 分析

* **时间复杂度：O(n)**。该算法遍历数组两次，并且每个哈希表操作（插入或查找）需要 O(1) 时间。
* **空间复杂度：O(n)**。在最坏的情况下，所有 `n` 个元素都存储在哈希映射中。

## 3. 使用一遍哈希映射

两遍解法中不必要的工作是需要对数组进行两次迭代。优化的单遍哈希表方法通过将这两个步骤合并为单个迭代来消除此缺点：

* 在迭代期间，算法计算当前数字的补数。
* 如果补数已存在于哈希表中，则找到该对，并返回索引。
* 如果不是，则将当前数字及其索引添加到哈希表中以供将来查找。

这消除了对第二遍的需求，减少了不必要的工作并提高了运行时效率。

### 算法

1. 初始化一个空的哈希表 `hash` 来存储数字及其对应的索引。
2. 遍历数组 `numbers`:
   * 计算 `complement` 为 `target - numbers[i]`。
   * 检查 `complement` 是否存在于哈希表中:
     * 如果存在，则返回索引 `[hash[complement], i]`。
   * 否则，将当前数字及其索引添加到哈希表中。
3. 如果未找到有效对，则返回一个空数组。

<MDXCodeBlock> {pairSum} </MDXCodeBlock>

### Big-O 分析

* **时间复杂度：O(n)**。该算法仅处理数组的每个元素一次，并且哈希表中的每次查找或插入都需要 O(1)。
* **空间复杂度：O(n)**。在最坏的情况下，所有 `n` 个元素都存储在哈希映射中。
