---
title: Transfer List II
excerpt: 构建一个组件，允许在两个列表之间转移项目，批量选择/取消选择项目，以及添加新项目
---

**注意：**这是[Transfer List](/questions/user-interface/transfer-list)的高级版本，在尝试此问题之前，您应该先完成该问题。

构建一个组件，允许在两个列表之间转移项目，批量选择/取消选择项目，以及添加新项目。

![Transfer List Example](/img/questions/transfer-list-ii/transfer-list-example.png)

## 要求

* 有两个列表，每个列表最初包含 4 个项目。
* 选择
  * 每个项目都有一个复选框，可以选中/取消选中。
  * 单击每列顶部的复选框将：
    * 如果未选择任何项目或仅选择了部分项目，则选择所有项目。
    * 如果选择了所有项目，则取消选择所有项目。
  * 每列顶部的复选框显示：
    * 如果未选择任何项目，则未选中。
    * 如果选择了部分项目，则为不确定状态。
    * 如果选择了所有项目，则为选中状态。
* 转移
  * 单击单个箭头按钮将转移所选项目，具体取决于箭头的方向。
  * 转移的项目将添加到目标列表的底部。
  * 转移后保留项目选择（选中）状态。
  * 如果没有要转移的相关项目，则禁用按钮。
* 添加新项目
  * 可以通过在每个列表顶部的输入框中输入文本来将项目添加到每个列表的底部。
  * 假设所有项目都是唯一的，并且不会再次添加任何列表中已存在的项目。
