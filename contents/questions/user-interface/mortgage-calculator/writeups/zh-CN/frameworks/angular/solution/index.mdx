import TestCases from '../../../test-cases.mdx';
import A11y from '../../../a11y.mdx';

## 解决方案

这个问题评估您是否了解如何允许用户输入表单输入、验证它们并根据输入执行计算。

我们将把我们的应用程序分成两个组件`AppComponent`和`FormComponent`。

`FormComponent`将负责接受用户输入并将其传递给`AppComponent`。

### `FormComponent`

要收集用户数据，我们使用一个`<form>`元素和`<input>`字段。

要验证输入，请使用内置的输入类型验证器(`<input type="number">`)和`NgForm`来标记计算按钮，如果表单无效，则禁用该按钮。您可以在HTML中使用required属性来确保所有输入字段都已填写，并在submit事件回调被触发之前使用min属性来确保输入字段具有有效的最小值。

在您的模板中使用`ngModel`，您可以为输入字段设置初始值。

### `AppComponent`

使用公式计算出3个必要的金额后，使用`Intl.NumberFormat()`将金额格式化为2位小数，并带有美元符号。随意自定义格式以适应您自己的语言环境和货币。

### 状态

在`AppComponent`中，我们将存储抵押贷款的状态，该状态由`FormComponent`的事件更新。

### 模型

```typescript
export interface FormState {
  loanAmount: number;
  interestRate: number;
  loanTerm: number;
}
```

```typescript
export interface FormState {
  loanAmount: number;
  interestRate: number;
  loanTerm: number;
}
```

### Angular 见解

* 您可以使用更高级的、类似反应式的方法，使用反应式表单。

* 您可以创建用于维护状态的服务。在智能组件中注入服务，并创建仅显示和与UI交互的哑组件，并且哑组件的所有事件都传递给智能组件。

* 如果您对最新的Angular版本有信心，请考虑使用信号独立API。

<TestCases />

<A11y />
