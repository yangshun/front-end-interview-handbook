## 解决方案

此问题的重点在于处理存在待处理请求时的各种状态。

### 数据模型

我们需要几个状态变量：

* `liked`：跟踪按钮是处于默认状态还是已点赞状态。由于只有两种状态，我们可以使用布尔类型来表示它。
* `isPending`：确定是否有待处理的后台请求。
* `errorMessage`：从后端获取的 API 请求失败时的错误消息。

### 发送 API 请求

编写通过 API 请求获取数据的代码非常标准。一般来说，您应该使用以下流程：

1. 将 UI 设置为显示加载状态
2. 清除错误消息
3. 通过 `fetch` 启动 API 请求
4. 确定请求是否成功
   1. 如果响应成功，更新 UI 以指示成功
   2. 如果响应失败，通过显示错误消息更新 UI 以指示失败
5. 移除加载状态

以上内容在 `likeUnlikeAction` 函数中捕获。

### 渲染

渲染代码非常简单，因为在渲染 UI 时，状态变量之间没有太多依赖关系。
