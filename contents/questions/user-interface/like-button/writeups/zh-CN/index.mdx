---
title: 点赞按钮
excerpt: 构建一个点赞按钮，其外观根据状态而变化
---

创建一个点赞按钮，其外观根据以下状态变化：

![Like Button States](/img/questions/like-button/like-button-states.png)

为了方便起见，我们提供了心形和微调器图标。此问题的重点在于处理各种状态，而不是像素级完美。至于颜色，您可以使用`#f00`表示红色，`#888`表示灰色。

## 要求

在按钮的默认状态下，当它被点击时，它会进入加载状态，并向提供的后端 API 发出请求，该 API 有 50% 的几率成功/失败。

* **成功响应**：如果请求成功，按钮将变为“已点赞”状态。
* **失败响应**：否则，它将返回到“默认”/“悬停”状态，具体取决于光标是否仍在按钮上。来自后端 API 的错误消息应显示在按钮下方。

如果用户点击“已点赞”状态的按钮，则会发生相反的情况。

## 提交 API

* URL: `https://questions.greatfrontend.com/api/questions/like-button`
* HTTP 方法: `POST`
* 内容类型: `json`

### 参数

以下字段在**请求正文**中被接受：

* `action`：一个字符串，可以是`'like'`或`'unlike'`，具体取决于所需的操作。

### 响应

该 API 有 50% 的几率成功 (HTTP 200) 或失败 (HTTP 500)，以便您轻松测试请求失败的情况。它返回一个 JSON 有效负载，其形状取决于结果。

* **成功**：`{ message: '成功！' }`
* **失败**：`{ message: '尝试 {{action}} 期间发生未知错误。请稍后再试！' }`
