import TestCases from '../../../test-cases.mdx';
import Notes from '../../../notes.mdx';

## Solution

We can separate out the solution into two parts, the update loop and the rendering.

### Update loop

We need a timer to refresh the page and render the current time every second. To create the timer, we can use a `setInterval` and kick off the update loop when the clock is initialized.

The `beforeunload` event is fired when the tab/window is about to be closed. As a good practice it will be good to clear all active intervals before the tab/window closes because in some old browsers, not doing that could result in memory leaks. In most browsers these days, it's not that important to do so.

This part is exactly the same as the [Analog Clock](/questions/user-interface/analog-clock) question.

### Rendering

Now that we have logic that is invoked at fixed intervals, we can write the logic to render the current date. Firstly create two functions to render the `digit` and `separator`.

- `digit`: renders numbers from 0-9 using the segment display. We make use of two square `<div>`s and CSS borders to achieve the effect. For each number, create a configuration of the borders that need to be shown and retrieve the configuration for that number.
- `separator`: renders the two circles that look like colons.

To get the first digit of an hour/minute/second, we can divide by 10 and round it down. To get the second digit, we do modulo 10 to leave only the value in the ones-place.

<TestCases />
<Notes />
