import TestCases from '../../../test-cases.mdx';
import Notes from '../../../notes.mdx';

## 解决方案

在 `ngOnInit()` 钩子中，我们将运行一个计时器来刷新页面，并每秒显示当前时间。要创建计时器，我们可以使用 `setInterval` 来启动对状态属性的更新。在 `setInterval` 主体中，我们将根据当前日期更新 `hours`、`minutes`、`seconds` 和 `dateTimeDisplay`（`<timer>` 所需）。在 `ngOnDestroy()` 中，我们将终止该间隔以防止内存泄漏。

每个 `DigitComponent` 显示时钟中的一位数字，因此假设我们有时间 22:04:22，我们将 `hours` 放入前两位数字，并使用 `pipe` hours / 10 和 hours % 10 进行 `floor`。

传递的数字将是 2.1 向下取整为 2 和 1，这正是我们需要显示的精确小时，依此类推。

`DigitComponent` 是一个典型的哑组件，仅用于根据 `@Input` 传递的数字显示 UI。此组件的职责是显示一位数字，这里的大部分工作都涉及操作样式。

`SeparatorComponent` 是一个哑 UI 组件，旨在显示数字之间的两个分隔点。

### Angular 见解

* 您可以使用更高级的、类似反应式的方法，使用 RxJS（尽可能不使用订阅）。但是，如果您选择订阅，请记住销毁它们以防止内存泄漏。

* 您可以创建用于维护状态的服务。在智能组件中注入服务，并创建仅显示和与 UI 交互的哑组件，并且哑组件的所有事件都传递给智能组件。

* 如果您对最新的 Angular 版本有信心，请考虑使用信号独立 API。

* 您可以尝试更多地关注诸如 `readonly`、`private`、`public` 和 `void` 等关键字。

* 如果您正在创建一个更大的应用程序，最好为每个组件使用样式，而不是将所有样式放在一个文件中。

<TestCases />

<Notes />
