import TestCases from '../../../test-cases.mdx';
import Notes from '../../../notes.mdx';

## 解决方案

我们可以将解决方案分成两部分：更新循环和渲染。

### 更新循环

我们需要一个计时器来刷新页面，并每秒渲染当前时间。要创建计时器，我们可以使用 `setInterval` 并在初始化时启动更新循环。

`beforeunload` 事件在选项卡/窗口即将关闭时触发。作为一种良好的做法，最好在选项卡/窗口关闭之前清除所有活动间隔，因为在某些旧浏览器中，不这样做可能会导致内存泄漏。在当今大多数浏览器中，这并不重要。

这部分与 [模拟时钟](/questions/user-interface/analog-clock) 问题完全相同。

### 渲染

现在我们有了以固定间隔调用的逻辑，我们可以编写逻辑来渲染当前日期。首先创建两个函数来渲染 `digit` 和 `separator`。

* `digit`：使用分段显示渲染 0-9 的数字。我们使用两个正方形 `<div>` 和 CSS 边框来实现这种效果。对于每个数字，创建一个需要显示的边框配置，并检索该数字的配置。
* `separator`：渲染看起来像冒号的两个圆圈。

要获得小时/分钟/秒的第一位数字，我们可以除以 10 并向下取整。要获得第二位数字，我们对 10 取模，只留下个位的值。

<TestCases />

<Notes />
