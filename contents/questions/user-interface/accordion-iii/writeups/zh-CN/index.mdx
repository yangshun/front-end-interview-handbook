---
title: Accordion III
excerpt: 构建一个完全可访问的手风琴组件，该组件根据 ARIA 规范具有键盘支持
---

**注意：** 这是 [Accordion II](/questions/user-interface/accordion-ii) 的高级版本，在尝试此问题之前，您应该先完成该问题。由于它需要相当多的代码才能在没有 JavaScript 框架的情况下添加键盘交互，因此此问题在 Vanilla JavaScript 中不可用。

在 [Accordion II](/questions/user-interface/accordion-ii) 中，我们构建了一个功能齐全的手风琴组件，该组件具有必要的 [WAI-ARIA 角色、状态和属性](https://www.w3.org/WAI/ARIA/apg/patterns/accordion/)，实际上非常易于访问。但是，我们可以更进一步，添加一些可选的键盘交互。

## 要求

我们将遵循 [手风琴的必要键盘交互](https://www.w3.org/WAI/ARIA/apg/patterns/accordion/) 的修改子集：

* 当按下 <kbd>Enter</kbd> 或 <kbd>Space</kbd> 且焦点位于手风琴标题上时
  * 对于折叠面板，展开关联的面板。
  * 对于展开的面板，折叠关联的面板。
* <kbd>Tab</kbd>：将焦点移动到下一个可聚焦元素；手风琴中的所有可聚焦元素都包含在页面 <kbd>Tab</kbd> 序列中。
* <kbd>Shift</kbd> + <kbd>Tab</kbd>：将焦点移动到上一个可聚焦元素；手风琴中的所有可聚焦元素都包含在页面 <kbd>Tab</kbd> 序列中。
* <kbd>Down Arrow</kbd>：如果焦点位于手风琴标题上，则将焦点移动到下一个手风琴标题。如果焦点位于最后一个手风琴标题上，则什么也不做或将焦点移动到第一个手风琴标题。
* <kbd>Up Arrow</kbd>：如果焦点位于手风琴标题上，则将焦点移动到上一个手风琴标题。如果焦点位于第一个手风琴标题上，则什么也不做或将焦点移动到最后一个手风琴标题。
* <kbd>Home</kbd>：当焦点位于手风琴标题上时，将焦点移动到第一个手风琴标题。
* <kbd>End</kbd>：当焦点位于手风琴标题上时，将焦点移动到最后一个手风琴标题。

## 注意事项

* 此问题的重点是添加键盘功能，而不是样式。我们在这里为您提供了 [Accordion II](/questions/user-interface/accordion-ii) 的解决方案，供您在此基础上构建。您可以重用现有的样式。
