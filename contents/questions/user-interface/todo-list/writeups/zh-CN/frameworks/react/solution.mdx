## 解决方案

### 状态

我们需要两个状态值：`tasks` 和 `newTask`。

`tasks`：由于存在可以修改的任务列表，我们需要将其作为组件状态的一部分。在 React 中渲染元素列表时，我们需要为每个项目指定一个 `key`。我们不能使用任务的文本作为 `key`，因为它们不能保证是唯一的。使用数组 `index` 作为 `key` 通常是一个不好的做法，但对于这个问题，这是可以接受的。最可靠的方法是为每个任务生成一个唯一的 ID。像 [`uuid`](https://github.com/uuidjs/uuid) 这样的库会进入你的脑海，但在这种情况下，一个简单的递增计数器就足够了。由于我们希望 `id` 是全局唯一的，因此它是在模块范围内初始化的，在组件之外。

`newTask`：状态表示新的任务输入字段，尽管如果我们更喜欢[不受控组件](https://react.dev/learn/sharing-state-between-components#controlled-and-uncontrolled-components)，则不是绝对必要的。但是，通常更常见的是使 `input` 字段受控，也就是由组件状态支持。此状态的初始值不应为 `null`，否则 React 将显示警告。

### 添加任务

新任务应添加到 `tasks` 数组的末尾。我们可以使用新的 `id` 和 `label` 字段构造一个新任务对象，基于 `newTask` 值，从前一个列表创建一个**新列表**，其中包含新项目，并将其设置为新的 `tasks` 状态。

### 删除任务

为每个任务对象提供唯一的 `id` 可以简化这里的事情，因为我们可以过滤现有列表并排除与要删除的 `id` 对应的任务。如果你选择使用数组索引而不是生成唯一的 ID，你可以使用 `Array.prototype.splice` 删除该索引处的元素。

## 笔记

使用 React，用户输入将自动转义，因此无需手动阻止跨站点脚本 (XSS)。
