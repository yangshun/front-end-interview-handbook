import TestCases from '../../../test-cases.mdx';
import Notes from '../../../notes.mdx';

## 解决方案

我们首先构建 DOM 来渲染星星的数量，以及一个 `highlightStars` 函数，该函数突出显示所有小于传入 `index`（从 0 开始）的星星。

我们还需要变量 `currentValue` 来跟踪最新的值，该值决定了未悬停的高亮状态。这是必需的，因为当光标未悬停在任何星星上时，我们需要恢复到该状态。

然后，我们向小部件的根组件添加几个事件监听器：

* `click`：使用事件委托，我们只需要为每个小部件添加一个点击事件处理程序。我们可以使用 `event.target.closest` 确定当前点击的星星的索引，并根据点击的星星的索引从星星中添加/删除 `star-icon-filled` 类。
* `mouseover`：使用事件委托，我们只需要为每个小部件添加一个鼠标悬停事件处理程序。我们可以使用 `event.target.closest` 确定当前悬停的星星的索引，并根据点击的星星的索引从星星中添加/删除 `star-icon-filled` 类。这优先于当前填充的星星。
* `mouseout`：将填充状态重置为 `mouseover` 事件之前。这里不需要事件委托，因为没有涉及特定的星星。

<Notes />

<TestCases />
