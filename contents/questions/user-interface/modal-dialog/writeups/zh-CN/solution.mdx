## 解决方案

模态对话框可以实现为受控和非受控组件（对话框控制其自身的关闭状态），但它更常被用作受控组件。

由于模态对话框组件不包含那么多元素，我们可以保持简单，并定义一个 `ModalDialog` 组件。

### Props

`ModalDialog` 组件使用以下 props：

* `title`：显示在模态对话框顶部的字符串。
* `children`：要在模态框中显示的内容。它可以是自定义 prop 或 `children` prop，但后者是渲染内容的更常见方式。
* `open`：一个布尔值，用于控制模态框的可见性（默认为 `false`）。如果为 `false`，则不会在 DOM 中渲染任何内容。
* `onClose`：当模态对话框要关闭时触发的回调。

### 状态

由于模态对话框组件是一个受控组件，考虑到当前的 基本要求，模态框内不需要任何状态。但是，模态对话框在外部受控，并且需要在外部使用状态来切换模态框的可见性。

### 渲染和布局

模态对话框的关键元素是 (1) 覆盖层，(2) 模态对话框，(3) 模态标题：

1. **覆盖层**：覆盖层用于覆盖整个屏幕。`position: fixed` 和 `inset: 0` 的组合将渲染该元素以覆盖整个屏幕。为背景设置半透明颜色，例如 `rgba(0, 0, 0, 0.7)`。
2. **模态对话框**：模态对话框可以放置在覆盖层元素内。因此，通过覆盖层将模态对话框居中于屏幕上，覆盖层将其内容设置为在其自身内居中。有多种方法可以实现居中，最简单的现代方法是使用 `display: flex; align-items: center; justify-content: center` 样式。
3. **模态标题**：模态对话框代表一个与主页面内容分开的新上下文。使用 `<h1>` 将模态框的内容建立为其自己的文档大纲，这清楚地表明了此新上下文的主要标题给屏幕阅读器。

### 跳出 DOM 层次结构

由于模态框显示在页面上方，并且不遵循页面元素的正常流程，因此渲染模态对话框很棘手。

因此，必须在父级的 DOM 层次结构之外渲染模态框。否则，如果父级包含剪裁其内容的样式，则模态框内容可能无法完全可见。这是[来自 React 文档的示例，演示了这个问题](https://react.dev/reference/react-dom/createPortal#rendering-a-modal-dialog-with-a-portal)。

在 React 中，可以使用 [React Portals](https://react.dev/reference/react-dom/createPortal) 在父组件的 DOM 层次结构之外进行渲染。Portals 的其他常见用例包括工具提示、下拉菜单、弹出框。
