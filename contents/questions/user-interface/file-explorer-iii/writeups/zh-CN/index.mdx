---
title: 文件浏览器 III
excerpt: 使用扁平 DOM 结构构建文件浏览器组件
---

**注意：**这是 [文件浏览器](/questions/user-interface/file-explorer) 问题的后续问题，在尝试此问题之前，您应该先完成该问题。

在 [文件浏览器](/questions/user-interface/file-explorer) 中，我们构建了一个功能性文件浏览器组件，该组件使用嵌套的 DOM 结构以分层树格式显示文件对象数组。

另一种可能的结构是拥有一个项目的单一扁平列表，并为后代项目添加适当的填充。在递归时，当前级别需要作为参数传递，以便后代项目知道要渲染多少填充。

```html
<!-- 必须隐藏项目符号，因为它们仍然会向左对齐。 -->
<ul>
  <li>docs</li>
  <li style="padding-left: 16px">foo.md</li>
  <li style="padding-left: 16px">bar.md</li>
  <li>README.md</li>
</ul>
```

单个扁平的 DOM 元素列表更容易遍历。此外，这种扁平方法提供了对渲染的最大控制，并允许在包含许多文件的大型目录中使用虚拟化项目。使用嵌套结构很难实现虚拟化，因为为了使项目缩进正确的量，它们的父项也必须被渲染——嵌套结构使得仅渲染需要显示的最小项目变得困难甚至不可能。

[VS Code](https://github.dev/yangshun/top-javascript-interview-questions/) 使用这种扁平方法，因为它需要处理大量文件。 事实上，VS Code 使用 `position: absolute; left: Xpx; top: Ypx;` 进行定位，并且它只渲染可见的文件项目。

## 要求

将文件浏览器的嵌套结构修改为扁平结构，同时保留相同的视觉外观。

## 笔记

框架代码使用 [文件浏览器](/questions/user-interface/file-explorer) 的解决方案，但您可以自由使用自己的解决方案作为起点。
