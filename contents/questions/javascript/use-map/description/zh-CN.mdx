---
title: useMap
excerpt: å®ç°ä¸€ä¸ªç®¡ç† JavaScript map çš„ Hook
---

å®ç°ä¸€ä¸ª `useMap` Hookï¼Œç”¨äºç®¡ç†å…·æœ‰é™„åŠ ä¾¿æ·å®ç”¨æ–¹æ³•çš„ JavaScript [`Map`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map) é¡¹ç›®ã€‚

ä½¿ç”¨ `useMap` æ¯”ä½¿ç”¨æ™®é€šçš„ `useState` æ›´æ–¹ä¾¿ï¼Œå› ä¸ºåœ¨åä¸€ç§æƒ…å†µä¸‹ï¼Œæ‚¨å°†å§‹ç»ˆå¿…é¡»åˆ›å»ºä¸€ä¸ªæ–°çš„ `Map`ï¼Œå¯¹å…¶è¿›è¡Œæ›´æ”¹ï¼Œç„¶åè®¾ç½®çŠ¶æ€ä»¥ä½¿ç”¨æ–°çš„ mapï¼Œè¿™å¯èƒ½éå¸¸éº»çƒ¦ã€‚

è¯¥ Hook åº”è¯¥å¯ä»¥é€šç”¨åœ°å¤„ç†ä»»ä½•ç±»å‹çš„é”®å’Œå€¼ã€‚

```jsx
export default function Component() {
  const { map, set, setAll, reset, remove } = useMap([['key', 'ğŸ†•']]);

  return (
    <div>
      <button onClick={() => set(String(Date.now()), 'ğŸ“¦')}>æ·»åŠ </button>
      <button
        onClick={() =>
          setAll([
            ['hello', 'ğŸ‘‹'],
            ['data', 'ğŸ“¦'],
          ])
        }>
        è®¾ç½®æ–°æ•°æ®
      </button>
      <button onClick={reset}>é‡ç½®</button>
      <button onClick={remove('hello')} disabled={!map.get('hello')}>
        åˆ é™¤ "hello"
      </button>
      <pre>
        Map (
        {Array.from(map.entries()).map(([key, value]) => (
          <Fragment key={key}>{`\n  ${key}: ${value}`}</Fragment>
        ))}
        <br />)
      </pre>
    </div>
  );
}
```

## å‚æ•°

* `defaultValue`ï¼šé¡¹ç›®çš„åˆå§‹ mapã€‚è¿™å¯ä»¥æ˜¯ `Map` å®ä¾‹æˆ–é”®å€¼å¯¹æ•°ç»„

## è¿”å›å€¼

è¯¥ Hook è¿”å›ä¸€ä¸ªå…·æœ‰ä»¥ä¸‹å±æ€§çš„å¯¹è±¡ï¼š

* `map`ï¼šå½“å‰çš„é¡¹ç›® map
* `set: (key, value) => void`ï¼šä¸€ä¸ªå°† `key` è®¾ç½®ä¸º map ä¸­ `value` çš„å‡½æ•°
* `setAll: (entries) => void`ï¼šä¸€ä¸ªè®¾ç½® map ä¸­å¤šä¸ªé”®å€¼å¯¹ `entries` çš„å‡½æ•°
* `remove: (key) => void`ï¼šä¸€ä¸ªé€šè¿‡ `key` ä» map ä¸­åˆ é™¤é”®å€¼å¯¹çš„å‡½æ•°
* `reset: () => void`ï¼šä¸€ä¸ªå°† map é‡ç½®ä¸ºç©º map çš„å‡½æ•°
